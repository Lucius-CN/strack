!function(a){function n(n){var t=a.extend(!0,{},a.fn.combobox.defaults,a(n).combobox("options")),i=t.customAttr.slave;null!=i.id&&(/^#/.test(i.id)?i.id=i.id:i.id="#"+i.id,t.multiple||t.editable||a(n).combobox("addEventListener",[{name:"onSelect",handler:function(e){!function(e,t,n){if(e.remote){var i=e.url||a(e.id).combobox("options").url;-1<i.indexOf("?")?i+="&swd="+t[n]:i+="?swd="+t[n],a(e.id).combobox("clear").combobox("reload",i)}else a(e.id).combobox("clear").combobox("loadData",t.data)}(i,e,t.valueField)}},{name:"onChange",handler:function(e,t){null!=e&&""!=e||(a(i.id).combobox("clear").combobox("loadData",[]),a(n).combobox("textbox").trigger("blur"))}}]))}a.fn.combobox.defaults.customAttr={slave:{id:null,remote:!0,url:null}},a.extend(a.fn.combobox.methods,{followCustomHandle:function(e){return e.each(function(){var e,t;t=a(e=this).combobox("options"),a.extend(!0,{},a.fn.combobox.defaults,t).customAttr.headervalue&&a(e).combobox("addEventListener",{name:"onLoadSuccess",handler:function(){a(e).combobox("textbox").trigger("blur")}}),n(this),a(this).combo("followCustomHandle")})},addEventListener:function(e,t){return e.each(function(){var e=a.isArray(t)?t:[t],n=this;a.each(e,function(e,t){!function(e,t,n,i){var o=a(e).combobox("options"),r=o[t];switch(t){case"onBeforeLoad":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onLoadSuccess":case"onLoadError":o[t]=i?n:function(){r.apply(this,arguments),n.apply(this,arguments)};break;case"onSelect":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onUnselect":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;default:a(e).combo("addEventListener",{name:t,override:i,handler:n})}}(n,t.name,t.handler||function(){},t.override)})})},getSelected:function(e){for(var t=e.combobox("options").valueField,n=e.combobox("getValue"),i=e.combobox("getData"),o=0;o<i.length;o++){var r=i[o];if(r[t]==n)return r}return null}})}(jQuery),function(a){a.fn.combo.defaults.customAttr={headervalue:null,autocomplete:{enabled:!1,minLength:3,url:void 0}},a.extend(a.fn.combo.methods,{followCustomHandle:function(e){return e.each(function(){var i,t;!function(n){var e=a.data(n,"combo").options,i=a.extend(!0,{},a.fn.combo.defaults,e);if(i.customAttr.headervalue){if(e.required){var t=['unequal["'+i.customAttr.headervalue+'"]'];e.validType?("string"==typeof e.validType&&(t.push(e.validType),e.validType=t),a.isArray(e.validType)&&a.merge(e.validType,t)):a.extend(e,{validType:t})}a(n).combo("addEventListener",{name:"onChange",handler:function(e,t){null!=e&&""!=e||a(n).combo("setText",i.customAttr.headervalue)}}).combo("textbox").val(i.customAttr.headervalue).attr("prompt",i.customAttr.headervalue).focus(function(){a(this).val()==i.customAttr.headervalue&&a(this).val("")}).blur(function(){""==a.trim(a(this).val())&&a(this).val(i.customAttr.headervalue),a(n).combo("validate")})}}(this),i=this,(t=a.extend(!0,{},a.fn.combo.defaults,a.data(i,"combo").options).customAttr.autocomplete).enabled&&a(i).combo("textbox").keyup(function(e){0!=a(this).val().length&&a(this).val().length%t.minLength==0&&t.url&&a.ajax({type:"POST",url:t.url,data:{wd:a(this).val()},dataType:"json",success:function(e){for(var t=a(i).combo("panel").empty(),n=0;n<e.length;n++)a("<div>").addClass("combobox-item").attr("value",e[n].id).text(e[n].text).click(function(e){var t=a(this).attr("value"),n=a(this).text();a(i).combo("setValue",t).combo("setText",n).combo("hidePanel")}).hover(function(){a(this).addClass("combobox-item-hover")},function(){a(this).removeClass("combobox-item-hover")}).appendTo(t)},error:function(e,t,n){a.messager.alert("Error",n,"error")}})})})},clear:function(e){return e.each(function(){!function(e){if(a(e).combo("getValue")){var t=a.data(e,"combo").options;a(e).combo("setText",""),t.multiple?a(e).combo("setValues",[]):a(e).combo("setValue","")}}(this)})},getValue:function(e){return t=e[0],0<(n=a(t).combo("getValues")).length&&""!=n[0]?n[0]:null;var t,n},addEventListener:function(e,t){return e.each(function(){var e=a.isArray(t)?t:[t],n=this;a.each(e,function(e,t){!function(e,t,n,i){var o=a(e).combo("options"),r=o[t];switch(t){case"onShowPanel":case"onHidePanel":o[t]=i?n:function(){r.apply(this,arguments),n.apply(this,arguments)};break;case"onChange":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)}}}(n,t.name,t.handler||function(){},t.override)})})}})}(jQuery),function(e){e.extend(e.fn.combogrid.methods,{getSelected:function(e){return e.combogrid("grid").datagrid("getSelected")}})}(jQuery),function(t){t.extend(t.fn.combotree.methods,{followCustomHandle:function(e){return e.each(function(){t(this).combotree("tree").tree("followCustomHandle"),t(this).combo("followCustomHandle")})}})}(jQuery),function(m){function s(e,t,n){var i=l(e,n),o=m("#"+i);return 0==o.length&&(o=m("<div>",{id:i}).menu().menu("appendItems",t)),o}function l(e,t){return m(e).attr("id")+"_"+t}function c(e){var n={};return m.each(e,function(){var e=this;if(e.onclick){var t=e.id||e.text;n[t]=e.onclick,delete e.onclick}e.submenu&&m.isArray(e.submenu)&&0<e.submenu.length&&m.extend(n,c(e.submenu))}),n}function a(i){var e,o,r=l(i,"headerContextMenu"),t=[{text:StrackLang.Show_Hide_Column,iconCls:"icon-columns",submenu:[{id:r+"_showAll",text:StrackLang.ShowAll,iconCls:"icon-columns",onclick:function(e,t,n){m.fn.datagrid.headerContextMenu.defaultEvents.doShowAll(n)}},{id:r+"_restore",text:StrackLang.Restore,iconCls:"icon-columns",onclick:function(e,t,n){m.fn.datagrid.headerContextMenu.defaultEvents.doRestore(n)}},"-"]}],a=[],n=(m(i).datagrid("getColumnFields",!0),m(i).datagrid("getColumnFields"));return e=n,o=!1,m.each(e,function(e,t){if(!t||"ck"==t)return!0;var n=m(i).datagrid("getColumnOption",t);n._hidden=n.hidden,a.push({id:r+"-"+t,text:n.title,disabled:o,iconCls:n.hidden?"icon-unchecked":"icon-checked",onclick:function(e,t,n){var i,o=(i=e.id).substr(i.lastIndexOf("-")+1,i.length);m(n).datagrid("getColumnOption",o).hidden?m.fn.datagrid.headerContextMenu.defaultEvents.doShowColumn(n,o,e):m.fn.datagrid.headerContextMenu.defaultEvents.doHideColumn(n,o,e)}})}),m.merge(t[0].submenu,a),t}function t(o){var e=m.extend(!0,{},m.fn.datagrid.defaults,m(o).datagrid("options")).customAttr.rowContextMenu;if(e.isShow){var t,n=[{id:(t=l(o,"rowContextMenu"))+"_delete",text:"删除",iconCls:"icon-remove",onclick:function(e,t,n,i){m.fn.datagrid.rowContextMenu.defaultEvents.doDelete(e,t,n,i)}},"-",{id:t+"_reload",text:"刷新",iconCls:"icon-reload",onclick:function(e,t,n,i){m.fn.datagrid.rowContextMenu.defaultEvents.doReload(e,t,n,i)}},{id:t+"_reload_this_page",text:"刷新当前页",onclick:function(e,t,n,i){m.fn.datagrid.rowContextMenu.defaultEvents.doReloadThisPage(e,t,n,i)}}];e.isMerge&&m.merge(n,e.items),!e.isMerge&&m.isArray(e.items)&&0<e.items.length&&(n=e.items);var r=c(n),a=s(o,n,"rowContextMenu");m(o).datagrid("addEventListener",{name:"onRowContextMenu",handler:function(e,n,i){e.preventDefault(),m(o).datagrid("selectRow",n),a.menu("addEventListener",{name:"onClick",override:!0,handler:function(e){var t=e.id||e.text;r[t]&&r[t].call(this,e,n,i,o)}}).menu("show",{left:e.pageX,top:e.pageY})}})}}function n(h){var r=m.extend(!0,{},m.fn.datagrid.defaults,m(h).datagrid("options"));if(r.customAttr.rowediting){function p(e){return m(e).attr("id")+"_editor_buttons_panel"}function f(t){var e=p(t);if(!(0<m("#"+e).length)){var n=m(t).datagrid("getPanel"),i=m.data(t,"datagrid").dc.body2;i.css("position","relative");var o=m("<div>",{id:e}).addClass("dialog-button").appendTo(i).css({position:"absolute",display:"block","border-bottom":"1px solid #ddd","border-left":"1px solid #ddd","border-right":"1px solid #ddd",left:parseInt(n.width()/2)-120,"z-index":2013,display:"none",padding:"4px 5px"});m('<a href="javascript:void(0)">确定</a>').css("margin-left","0px").linkbutton({iconCls:"icon-ok"}).click(function(){var e=m(t).datagrid("getRowIndex",m(t).datagrid("getEditingRow"));r.customAttr.onConfirmEdit.call(t,e)&&m(t).datagrid("endEdit",e)}).appendTo(o),m('<a href="javascript:void(0)">取消</a>').css("margin-left","6px").linkbutton({iconCls:"icon-cancel"}).click(function(){var e=m(t).datagrid("getRowIndex",m(t).datagrid("getEditingRow"));m(t).datagrid("cancelEdit",e)}).appendTo(o)}}function i(e){var t="#"+p(e);m(t).hide()}m(h).datagrid("addEventListener",[{name:"onLoadSuccess",handler:function(e){f(this)}},{name:"onBeforeEdit",handler:function(e,t){var n,i,o,r,a,s,l,c,d,u;f(h),n=h,i=e,l=m.data(n,"datagrid").options.finder.getTr(n,i,"body",2),c=l.position(),d="#"+p(n),u=m.data(n,"datagrid").dc.body2,m(d).css((o=l.height(),r=l.width(),a=c.top+u.scrollTop(),s=c.left,s=r>u.width()?u.width()/2-120:r/2-120,c.top+(2*o+11)>u.height()?a-=o+11:a+=o,{top:a,left:s})).show()}},{name:"onAfterEdit",handler:function(e,t,n){i(h)}},{name:"onCancelEdit",handler:function(e,t){i(h)}}])}}function o(l){var i=m.extend(!0,{},m.fn.datagrid.defaults,m(l).datagrid("options"));if(i.customAttr.tooltip.enable){function c(e,t){var n={position:i.customAttr.tooltip.position,trackMouse:!0,onHide:function(){m(e).tooltip("destroy")},onShow:function(){m.isPlainObject(t)&&t.css&&m(this).tooltip("tip").css(t.css)}};m.extend(n,m.isPlainObject(t)?t:{content:t}),m(e).tooltip(n).tooltip("show")}function n(e,t){var n,i,o,r=parseInt(e.attr("datagrid-row-index")),a=m(l).datagrid("getRows")[r],s=t?t(a,r):(n=a,i=[],o=m.grep(m.merge(m(l).datagrid("getColumnFields",!0),m(l).datagrid("getColumnFields")),function(e,t){return 0<m.trim(e).length}),m.each(o,function(){var e=m(l).datagrid("getColumnOption",this).title;i.push(e+": "+n[this])}),i.join("<br>"));e.mouseover(function(){c(this,s)})}function t(){if("row"==i.customAttr.tooltip.target)i.finder.getTr(l,"","allbody").each(function(){var e=m(this);e.hasClass("datagrid-row")&&n(e,i.customAttr.tooltip.formatter)});else if(i.customAttr.tooltip.fields&&m.isArray(i.customAttr.tooltip.fields)){m(l).datagrid("getPanel");var t=m.data(l,"datagrid").dc.body2;m.each(i.customAttr.tooltip.fields,function(){var e,r;e=m("td[field="+this+"]",t),r=i.customAttr.tooltip.formatter,e.mouseover(function(){var e=m(this).parent().attr("datagrid-row-index"),t=m(l).datagrid("getRows")[e],n=m(this).attr("field"),i=t[n],o=r?r(i,n):i;c(this,o)})})}}m(l).datagrid("addEventListener",{name:"onLoadSuccess",handler:function(e){t()}})}}function d(e,t){var i=m(e).datagrid("options");i.frozenColumns[0]||(i.frozenColumns=[[]]);var n=m(e).datagrid("getColumnOption",t);i.frozenColumns[0].push(n),function(e){for(var t=0;t<i.columns.length;t++)for(var n=0;n<i.columns[t].length;n++)if(i.columns[t][n].field==e.field)return i.columns[t].splice(n,1)}(n),m(e).datagrid(i);var o=m(e).datagrid("getHeaderContextMenu").menu("findItem",n.title);m(e).datagrid("getHeaderContextMenu").menu("disableItem",o.target)}function u(n,i,e,o){var r=m(n).datagrid("options"),t=m.data(n,"datagrid").dc,a=(1==e?t.header1:t.header2).find(">table>tbody>tr.datagrid-header-row>td[field="+i+"]");o<e?(1==o?t.header1:t.header2).find(">table>tbody>tr.datagrid-header-row").append(a):(1==o?t.header1:t.header2).find(">table>tbody>tr.datagrid-header-row").children("td[field]").each(function(){if(l(i,m(this).attr("field")))return m(this).before(a),!1});var s=(1==e?t.body1:t.body2).find(">table>tbody>tr>td[field="+i+"]");function l(e,t){return c(e)<c(t)}function c(e){return m.inArray(e,m(n).datagrid("getColumnFields"))}o<e?m.each(s,function(e,t){r.finder.getTr(n,e,"body",o).append(t)}):m.each(s,function(e,t){r.finder.getTr(n,e,"body",o).children("td[field]").each(function(){if(l(i,m(this).attr("field")))return m(this).before(t),!1})}),m(n).datagrid("fixColumnSize")}function h(e,t,n){var i,o=(i=t,m.inArray(i,m(e).datagrid("getColumnFields"))),r=m(e).datagrid("getColumnOption",t);m.extend(r,{index:o});var a=m(e).datagrid("getHeaderContextMenu"),s=a.menu("findItem",r.title);s&&(n?a.menu("disableItem",s.target):a.menu("enableItem",s.target))}function r(e,t,n){var i=m(e).datagrid("options"),o=$(".unfrozen_gtitle"),r=$(".frozen_gtitle");i.frozenColumns.length<2&&(o.hide(),r.show().html(o.html())),(n?function(e,t){var n=m(e).datagrid("options"),i=m(e).datagrid("getColumnFields",!0),o=n.columns[0],r=[],a=[],s=o[0];0==i.length&&s.checkbox&&u(e,s.field,2,1),h(e,t,!0),u(e,t,2,1);for(var l=0;l<o.length;l++)o[l].field==t||o[l].checkbox?a.push(o[l]):r.push(o[l]);r.length<1?n.columns=[]:n.columns[0]=r,n.frozenColumns[0]?a.forEach(function(e){n.frozenColumns[0].push(e)}):n.frozenColumns.push(a)}:d)(e,t)}m.fn.datagrid.headerContextMenu={},m.fn.datagrid.headerContextMenu.defaultEvents={doHideColumn:function(e,t,n){m(e).datagrid("hideColumn",t),m(e).datagrid("getHeaderContextMenu").menu("setIcon",{target:n.target,iconCls:"icon-unchecked"})},doShowColumn:function(e,t,n){m(e).datagrid("showColumn",t),m(e).datagrid("getHeaderContextMenu").menu("setIcon",{target:n.target,iconCls:"icon-checked"})},doShowAll:function(e){var t=m(e).datagrid("getColumnFields"),n=m(e).datagrid("getHeaderContextMenu");for(i in t){m(e).datagrid("showColumn",t[i]);var o=m(e).datagrid("getColumnOption",t[i]),r=n.menu("findItem",o.title);r&&n.menu("setIcon",{target:r.target,iconCls:"icon-checked"})}},doRestore:function(e){var t=m(e).datagrid("getColumnFields"),n=m(e).datagrid("getHeaderContextMenu");for(i in t){var o=m(e).datagrid("getColumnOption",t[i]),r=n.menu("findItem",o.title);o._hidden?(m(e).datagrid("hideColumn",t[i]),r&&n.menu("setIcon",{target:r.target,iconCls:"icon-unchecked"})):(m(e).datagrid("showColumn",t[i]),r&&n.menu("setIcon",{target:r.target,iconCls:"icon-checked"}))}}},m.fn.datagrid.rowContextMenu={},m.fn.datagrid.rowContextMenu.defaultEvents={doAdd:function(e,t,n,i){},doEdit:function(e,t,n,i){},doDelete:function(e,t,n,i){m.messager.confirm("疑问","您确定要删除已选中的行？",function(e){e&&m(i).datagrid("deleteRows",m(i).datagrid("getSelections"))})},doReload:function(e,t,n,i){m(i).datagrid("load")},doReloadThisPage:function(e,t,n,i){m(i).datagrid("reload")},doExportThisPage:function(e,t,n,i){},doExprotAll:function(e,t,n,i){}},m.extend(m.fn.datagrid.defaults.editors,{my97:{init:function(e,t){var n=m('<input type="text" class="Wdate">').appendTo(e);return t=t||{},t=m.extend({},t,{readOnly:!0}),n.focus(function(){WdatePicker()})},getValue:function(e){return m(e).val()},setValue:function(e,t){m(e).val(t)},resize:function(e,t){var n=m(e);1==m.boxModel?n.width(t-(n.outerWidth()-n.width())):n.width(t)}},numberspinner:{init:function(e,t){var n=m('<input type="text">').appendTo(e);return t=t||{},t=m.extend({},t,{min:0,editable:!1}),n.numberspinner(t)},getValue:function(e){return m(e).numberspinner("getValue")},setValue:function(e,t){m(e).numberspinner("setValue",t)},resize:function(e,t){m(e).numberspinner("resize",t)}},timespinner:{init:function(e,t){return t=t||{},m('<input type="text">').appendTo(e).timespinner(t)},getValue:function(e){return m(e).timespinner("getValue")},setValue:function(e,t){m(e).timespinner("setValue",t)},resize:function(e,t){m(e).timespinner("resize",t)}},combogrid:{init:function(e,t){var n=m('<input type="text">').appendTo(e);return t=t||{},t=m.extend({},t,{panelWidth:400,editable:!1}),n.combogrid(t)},getValue:function(e){return m(e).combogrid("getValue")},setValue:function(e,t){m(e).combogrid("setValue",t)},resize:function(e,t){m(e).combogrid("resize",t)}}}),m.fn.datagrid.defaults.customAttr={headerContextMenu:{isShow:!1,isMerge:!0,items:[],onShow:function(e,t){},onHide:function(){}},rowContextMenu:{isShow:!1,isMerge:!0,items:[]},pagination:{showPageList:!1,showRefresh:!0,beforePageText:void 0,afterPageText:void 0,displayMsg:void 0},slaveList:void 0,activeSlave:"dblclickrow",rowediting:!1,tooltip:{enable:!1,target:"row",position:"bottom",fields:void 0,formatter:void 0},onConfirmEdit:function(e){return!0}},m.extend(m.fn.datagrid.methods,{followCustomHandle:function(e){return e.each(function(){!function(i){var e=m.extend(!0,{},m.fn.datagrid.defaults,m(i).datagrid("options")),t=e.customAttr.headerContextMenu;if(t.isShow){e.columns[0][0].checkbox&&(e.columns[0][0].field="ck");var n=a(i);t.isMerge&&m.merge(n,t.items),!t.isMerge&&m.isArray(t.items)&&0<t.items.length&&(n=t.items);var o=c(n),r=s(i,n,"headerContextMenu");m(i).datagrid("addEventListener",{name:"onHeaderContextMenu",handler:function(e,n){e.preventDefault(),r.menu("addEventListener",[{name:"onClick",override:!0,handler:function(e){var t=e.id||e.text;o[t]&&o[t].call(this,e,n,i)}},{name:"onShow",override:!0,handler:function(){t.onShow&&t.onShow.call(this,n,i)}},{name:"onHide",override:!0,handler:function(){t.onHide&&t.onHide.call(this)}}]).menu("show",{left:e.pageX,top:e.pageY})}})}}(this),t(this),function(e){var t=m.extend(!0,{},m.fn.datagrid.defaults,m(e).datagrid("options"));if(m.isArray(t.customAttr.slaveList)&&0!=t.customAttr.slaveList.length){var n={slaveList:t.customAttr.slaveList,activeSlave:t.customAttr.activeSlave},i=m(e),o=[];for(var r in n.slaveList){var a,s={id:n.slaveList[r].id,params:{}},l={};n.slaveList[r].relatedfield?(a=n.slaveList[r].relatedfield,l[n.slaveList[r].relatedfield]="undefined"):l[a=i.datagrid("options").idField]="undefined",m.extend(s.params,l,n.slaveList[r].queryParams),o.push(s)}n.activeSlave==m.fn.datagrid.defaults.customAttr.activeSlave&&i.datagrid("addEventListener",{name:"onDblClickRow",handler:function(e,t){for(var n in o)o[n].params[a]=t[a],m("#"+o[n].id).datagrid("load",o[n].params)}})}}(this),n(this),o(this)})},getHeaderContextMenu:function(e){return m("#"+l(e[0],"headerContextMenu"))},getRowContextMenu:function(e){return m("#"+l(e[0],"rowContextMenu"))},getEditingRow:function(e){var t=e.datagrid("getEditingRows");return t.length?t[0]:null},getEditingRows:function(e){var t=m.data(e[0],"datagrid"),n=t.options,i=t.data,o=[];return n.finder.getTr(e[0],"","allbody").each(function(){if(m(this).hasClass("datagrid-row-editing")){var e=parseInt(m(this).attr("datagrid-row-index"));o.push(i.rows[e])}}),o},setPagination:function(e,t){return e.each(function(){m(this).datagrid("getPager").pagination(t)})},deleteRows:function(e,t){return e.each(function(){var e=void 0;e=m.isArray(t)?t:[t];var i=this;m.each(e,function(e,t){if(m.isPlainObject(t)){var n=m(i).datagrid("getRowIndex",t);m(i).datagrid("deleteRow",n)}else m(i).datagrid("deleteRow",t)})})},Freeze_Column:function(e,t){return e.each(function(){r(this,t,!0)})},unfreezColumn:function(e,t){return e.each(function(){!function(e,t){var n=m(e).datagrid("options"),i=n.frozenColumns[0],o=(n.columns[0],[]),r=[];2==i.length&&($(".frozen_gtitle").hide(),$(".unfrozen_gtitle").show());for(var a=0;a<i.length;a++)i[a].field==t?r.push(i[a]):i[a].checkbox&&2==i.length&&o.push(i[a]);h(e,t,!1),u(e,t,1,2),o.length<1?n.frozenColumns=[]:n.frozenColumns[0]=o,n.columns[0]?r.forEach(function(e){n.columns[0].unshift(e)}):n.columns.push(r)}(this,t)})},addEventListener:function(e,t){return e.each(function(){var e=m.isArray(t)?t:[t],n=this;m.each(e,function(e,t){!function(e,t,i,n){var o=m(e).datagrid("options"),r=o[t];switch(t){case"onLoadSuccess":o[t]=n?i:function(e){r.apply(this,arguments),i.apply(this,arguments)};break;case"onLoadError":o[t]=n?i:function(){r.apply(this,arguments),i.apply(this,arguments)};break;case"onBeforeLoad":o[t]=n?i:function(e){r.apply(this,arguments),i.apply(this,arguments)};break;case"onClickRow":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onDblClickRow":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onClickCell":o[t]=n?i:function(e,t,n){r.apply(this,arguments),i.apply(this,arguments)};break;case"onDblClickCell":o[t]=n?i:function(e,t,n){r.apply(this,arguments),i.apply(this,arguments)};break;case"onSortColumn":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onResizeColumn":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onSelect":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onUnselect":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onSelectAll":o[t]=n?i:function(e){r.apply(this,arguments),i.apply(this,arguments)};break;case"onUnselectAll":o[t]=n?i:function(e){r.apply(this,arguments),handlerapply(this,arguments)};break;case"onCheck":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onUncheck":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onCheckAll":o[t]=n?i:function(e){r.apply(this,arguments),i.apply(this,arguments)};break;case"onUncheckAll":o[t]=n?i:function(e){r.apply(this,arguments),i.apply(this,arguments)};break;case"onBeforeEdit":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onAfterEdit":o[t]=n?i:function(e,t,n){r.apply(this,arguments),i.apply(this,arguments)};break;case"onCancelEdit":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onHeaderContextMenu":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onRowContextMenu":o[t]=n?i:function(e,t,n){r.apply(this,arguments),i.apply(this,arguments)};break;case"onExpandRow":o[t]=n?i:function(e,t){r&&r.apply(this,arguments),i.apply(this,arguments)};break;case"onCollapseRow":o[t]=n?i:function(e,t){r&&r.apply(this,arguments),i.apply(this,arguments)}}}(n,t.name,t.handler||function(){},t.override)})})},fixDetailRowWidth:function(e,t){return e.each(function(){var e=m.data(this,"datagrid").dc.header2.children();t.handler&&t.handler.call(this,t.index,e.width())})},getAllExpandRowIndex:function(e){return t=e[0],n=m(t).datagrid("options"),i=[],n.finder.getTr(t,"","allbody",1).each(function(){0<m("span.datagrid-row-collapse",this).length&&i.push(m(this).attr("datagrid-row-index"))}),i;var t,n,i},getExpandRowIndex:function(e){var t=e.datagrid("getAllExpandRowIndex");return 0<t.length?t[0]:-1}})}(jQuery),function(u){function h(e){var t=u(e),n=u.data(e,"portal").options;if(n.fit){var i=t.parent();n.width=i.width(),n.height=i.height()}isNaN(n.width)?t.width("auto"):t._outerWidth(n.width),isNaN(n.height)?t.height("auto"):t._outerHeight(n.height);for(var o=t.find(">table").outerHeight()>t.height(),r=t.width(),a=u.data(e,"portal").columnWidths,s=0,l=0;l<a.length;l++){i=t.find("div.portal-column:eq("+l+")");var c=Math.floor(r*a[l]);l==a.length-1&&(c=r-s-(1==o?18:0)),i._outerWidth(c),s+=i.outerWidth(),i.find("div.portal-p").panel("resize",{width:i.width()})}n.onResize.call(e,n.width,n.height)}function a(l,t){var c;function d(e,t){c._outerWidth(e),t&&c._outerHeight(t)}t.panel("panel").draggable({handle:">div.panel-header>div.panel-title",proxy:function(e){var t=u('<div class="portal-proxy">proxy</div>').insertAfter(e);return t.width(u(e).width()),t.height(u(e).height()),t.html(u(e).html()),t.find("div.portal-p").removeClass("portal-p"),t},onBeforeDrag:function(e){e.data.startTop=u(this).position().top+u(l).scrollTop()},onStartDrag:function(e){u(this).hide(),c=u('<div class="portal-spacer"></div>').insertAfter(this),d(u(this).outerWidth(),u(this).outerHeight())},onDrag:function(e){var n,i,o,r,a,t=(n=e,i=this,o=null,u(l).find("div.portal-p").each(function(){var e=u(this).panel("panel");if(e[0]!=i){var t=e.offset();n.pageX>t.left&&n.pageX<t.left+e.outerWidth()&&n.pageY>t.top&&n.pageY<t.top+e.outerHeight()&&(o=n.pageY>t.top+e.outerHeight()/2?{target:e,pos:"down"}:{target:e,pos:"up"})}}),o);if(t)"up"==t.pos?c.insertBefore(t.target):c.insertAfter(t.target),d(u(t.target).outerWidth());else{var s=(r=e,a=null,u(l).find("div.portal-column").each(function(){var e=u(this),t=e.offset();r.pageX>t.left&&r.pageX<t.left+e.outerWidth()&&(a=e)}),a);s&&0==s.find("div.portal-spacer").length&&(c.appendTo(s),h(l),d(s.width()))}},onStopDrag:function(e){u(this).css("position","static"),u(this).show(),c.hide(),u(this).insertAfter(c),c.remove(),h(l),t.panel("move"),u.data(l,"portal").options.onStateChange.call(l,t)}})}u.fn.portal=function(t,e){return"string"==typeof t?u.fn.portal.methods[t](this,e):(t=t||{},this.each(function(){var e=u.data(this,"portal");e?u.extend(e.options,t):e=u.data(this,"portal",{options:u.extend({},u.fn.portal.defaults,u.fn.portal.parseOptions(this),t),columnWidths:function(n){u(n).addClass("portal");var i=u('<table border="0" cellspacing="0" cellpadding="0"><tr></tr></table>').appendTo(n).find("tr"),o=[],r=0;u(n).children("div:first").addClass("portal-column-left"),u(n).children("div:last").addClass("portal-column-right"),u(n).find(">div").each(function(){var e=u(this);r+=e.outerWidth(),o.push(e.outerWidth());var t=u('<td class="portal-column-td"></td>').appendTo(i);e.addClass("portal-column").appendTo(t),e.find(">div").each(function(){var e=u(this).addClass("portal-p").panel({doSize:!1,cls:"portal-panel"});a(n,e)})});for(var e=0;e<o.length;e++)o[e]/=r;return u(n).bind("_resize",function(){return 1==u.data(n,"portal").options.fit&&h(n),!1}),o}(this)}),e.options.border?u(this).removeClass("portal-noborder"):u(this).addClass("portal-noborder"),u("#easyui-portal-style").length||u("head").append('<style id="easyui-portal-style">.portal{padding:0;margin:0;overflow:auto;}.portal-noborder{border:0;}.portal .portal-panel{margin-bottom:10px;}.portal-column-td{vertical-align:top;}.portal-column{padding:10px 0 10px 10px;overflow:hidden;}.portal-column-left{padding-left:10px;}.portal-column-right{padding-right:10px;}.portal-proxy{opacity:0.6;filter:alpha(opacity=60);}.portal-spacer{border:3px dashed #eee;margin-bottom:10px;}</style>'),h(this)}))},u.fn.portal.methods={options:function(e){return u.data(e[0],"portal").options},resize:function(e,t){return e.each(function(){if(t){var e=u.data(this,"portal").options;t.width&&(e.width=t.width),t.height&&(e.height=t.height)}h(this)})},getPanels:function(e,t){var n=e;0<=t&&(n=e.find("div.portal-column:eq("+t+")"));var i=[];return n.find("div.portal-p").each(function(){i.push(u(this))}),i},add:function(e,n){return e.each(function(){var e=u(this).find("div.portal-column:eq("+n.columnIndex+")"),t=n.panel.addClass("portal-p");t.panel("panel").addClass("portal-panel").appendTo(e),a(this,t),t.panel("resize",{width:e.width()})})},remove:function(e,i){return e.each(function(){for(var e=u(this).portal("getPanels"),t=0;t<e.length;t++){var n=e[t];n[0]==u(i)[0]&&n.panel("destroy")}})},disableDragging:function(e,t){return t.panel("panel").draggable("disable"),e},enableDragging:function(e,t){return t.panel("panel").draggable("enable"),e}},u.fn.portal.parseOptions=function(e){var t=u(e);return{width:parseInt(e.style.width)||void 0,height:parseInt(e.style.height)||void 0,border:t.attr("border")?"true"==t.attr("border"):void 0,fit:t.attr("fit")?"true"==t.attr("fit"):void 0}},u.fn.portal.defaults={width:"auto",height:"auto",border:!0,fit:!1,onResize:function(e,t){},onStateChange:function(e){}}}(jQuery),jQuery.extend({dateFormat:function(e,t){if(null==e)return null;if(null==t)var n="yyyy-MM-dd";else n=t;var i=e.getFullYear().toString(),o=(e.getMonth()+1).toString(),r=e.getDate().toString(),a=e.getHours().toString(),s=e.getMinutes().toString(),l=e.getSeconds().toString(),c=n.replace(/[^y]/g,""),d=n.replace(/[^M]/g,""),u=n.replace(/[^d]/g,""),h=n.replace(/[^h]/g,""),p=n.replace(/[^m]/g,""),f=n.replace(/[^s]/g,"");return 2==c.length&&(i=i.substring(2,4)),1<d.length&&1==o.length&&(o="0"+o),1<u.length&&1==r.length&&(r="0"+r),1<h.length&&1==a.length&&(a="0"+a),1<p.length&&1==s.length&&(s="0"+s),1<f.length&&1==l.length&&(l="0"+l),0<c.length&&(n=n.replace(c,i)),0<d.length&&(n=n.replace(d,o)),0<u.length&&(n=n.replace(u,r)),0<h.length&&(n=n.replace(h,a)),0<p.length&&(n=n.replace(p,s)),0<f.length&&(n=n.replace(f,l)),n},parseDate:function(e,t){var n=new Date;if(null==e)return n;if(null==t)var i="yyyy-MM-dd";else i=t;var o=i.replace(/[^y]/g,""),r=i.replace(/[^M]/g,""),a=i.replace(/[^d]/g,""),s=i.replace(/[^h]/g,""),l=i.replace(/[^m]/g,""),c=i.replace(/[^s]/g,""),d=i.indexOf(o),u=o.length,h=parseInt(e.substring(d,d+u));isNaN(h)?h=n.getYear():2==u&&(h+=h<50?2e3:1900);var p=i.indexOf(r),f=parseInt(e.substring(p,p+r.length));isNaN(f)?f=n.getMonth():--f;var m=i.indexOf(a),g=parseInt(e.substring(m,m+a.length));isNaN(g)&&(g=n.getDate());var v=i.indexOf(s),b=parseInt(e.substring(v,v+s.length));isNaN(b)&&(b=0);var y=i.indexOf(l),x=parseInt(e.substring(y,y+l.length));isNaN(x)&&(x=0);var w=i.indexOf(c),C=parseInt(e.substring(w,w+c.length));return isNaN(C)&&(C=0),new Date(h,f,g,b,x,C)}}),function(r){r.extend({mask:function(e){e=e||{};var t=r.extend({},{target:"body",loadMsg:r.fn.datagrid.defaults.loadMsg},e);this.unmask(t),"body"!=t.target&&"static"==r(t.target).css("position")&&r(t.target).addClass("mask-relative");r('<div class="datagrid-mask" style="display:block;"></div>').appendTo(t.target);var n=r('<div class="datagrid-mask-msg" style="display:block; left: 50%;"></div>').html(t.loadMsg).appendTo(t.target);setTimeout(function(){n.css("marginLeft",-n.outerWidth()/2)},5);var i,o;o=".mask-relative {position: relative !important;}",0<r("#"+(i="mask_css")).length||r("<style>"+o+"</style>").attr("id",i).attr("type","text/css").appendTo("head")},unmask:function(e){var t=e.target||"body";r(">div.datagrid-mask-msg",t).remove(),r(">div.datagrid-mask",t).remove(),r(e.target).removeClass("mask-relative")}})}(jQuery),function(s){s.extend(s.fn.menu.methods,{followCustomHandle:function(e){},appendItems:function(e,t){return e.each(function(){!function o(r,e,a){e&&s.isArray(e)&&s.each(e,function(){var e=this,t={};if(a&&s.extend(t,{parent:a}),s.isPlainObject(e)){if(s(r).menu("appendItem",s.extend(e,t)),e.submenu){var n=s(r).menu("findItem",e.text);o(r,e.submenu,n.target)}}else if("-"==e){var i=s(r).menu("appendItem",s.extend({text:e},t)).menu("findItem",e).target;s(i).removeClass("menu-item").addClass("menu-sep").removeAttr("style").empty()}})}(this,t)})},addEventListener:function(e,t){return e.each(function(){var e=s.isArray(t)?t:[t],n=this;s.each(e,function(e,t){!function(e,t,n,i){var o=s(e).menu("options"),r=o[t];switch(t){case"onShow":case"onHide":o[t]=i?n:function(){r.apply(this,arguments),n.apply(this,arguments)};break;case"onClick":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)}}}(n,t.name,t.handler||function(){},t.override)})})}})}(jQuery),function(a){a.fn.panel.defaults.customAttr={toolbar:{buttonPosition:"left",data:void 0}},a.extend(a.fn.panel.methods,{followCustomHandle:function(e){return e.each(function(){!function(e){var t=a.extend(!0,{},a.fn.panel.defaults,a(e).panel("options")).customAttr.toolbar;if(t){var n=a(e).panel("body");if("string"==typeof t)a(t).addClass("dialog-toolbar panel-body").insertBefore(n),a(t).show();else a("<div></div>").insertBefore(n).toolbar(t)}}(this)})},addEventListener:function(e,t){return e.each(function(){var e=a.isArray(t)?t:[t],n=this;a.each(e,function(e,t){!function(e,t,n,i){var o=a(e).panel("options"),r=o[t];switch(t){case"onResize":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;case"onMove":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;default:o[t]=i?n:function(){r.apply(this,arguments),n.apply(this,arguments)}}}(n,t.name,t.handler||function(){},t.override)})})}})}(jQuery),function(d){function e(e,t){var n=e,i=t;n<1&&(n=1),i<1&&(i=1);var o=parseInt(d(this).parent().css("width"))+14,r=parseInt(d(this).parent().css("height"))+14,a=n+o,s=i+r,l=d(window).width(),c=d(window).height();l<a&&(n=l-o),c<s&&(i=c-r),d(this).parent().css({left:n,top:i})}d.fn.dialog.defaults.onMove=e,d.fn.window.defaults.onMove=e,d.fn.panel.defaults.onMove=e,d.fn.panel.defaults=jQuery.extend({},d.fn.panel.defaults,{onBeforeDestroy:function(){var e=d("iframe",this);0<e.length&&(e[0].contentWindow.document.write(""),e[0].contentWindow.close(),e.remove(),0<navigator.userAgent.indexOf("MSIE")&&CollectGarbage())}})}(jQuery),function(u){function c(e){return u(e).attr("id")+"_contextmenu"}function t(o){var e=u.extend(!0,{},u.fn.tabs.defaults,u.data(o,"tabs").options).customAttr.contextMenu;if(e.isShow){var t,n=[{id:(t=c(o))+"_reload",text:u.fn.tabs.defaults.contextMenu.itemname.reload,onclick:u.fn.tabs.defaults.contextMenu.defaultEventsHandler.reload},{id:t+"_fixed",text:u.fn.tabs.defaults.contextMenu.itemname.fixtab,onclick:function(e,t,n,i){e.text==u.fn.tabs.defaults.contextMenu.itemname.fixtab?u.fn.tabs.defaults.contextMenu.defaultEventsHandler.fixtab(e,t,n,i):u.fn.tabs.defaults.contextMenu.defaultEventsHandler.unfixtab(e,t,n,i)}},"-",{id:t+"_close",text:u.fn.tabs.defaults.contextMenu.itemname.close,onclick:u.fn.tabs.defaults.contextMenu.defaultEventsHandler.closetab},{id:t+"_close_others",text:u.fn.tabs.defaults.contextMenu.itemname.closeothers,onclick:u.fn.tabs.defaults.contextMenu.defaultEventsHandler.closeOthersTab},{id:t+"_close_rightside",text:u.fn.tabs.defaults.contextMenu.itemname.closerightside,onclick:u.fn.tabs.defaults.contextMenu.defaultEventsHandler.closeRightSideTabs},{id:t+"_close_all",text:u.fn.tabs.defaults.contextMenu.itemname.closeall,onclick:u.fn.tabs.defaults.contextMenu.defaultEventsHandler.closeAll}];e.isMerge&&u.isArray(e.items)&&0<e.items.length&&(n=u.merge(n,e.items)),!e.isMerge&&u.isArray(e.items)&&0<e.items.length&&(n=e.items);var i,r,a,s=function n(e){var i={};return u.each(e,function(){var e=this;if(e.onclick){var t=e.id||e.text;i[t]=e.onclick,delete e.onclick}e.submenu&&u.isArray(e.submenu)&&0<e.submenu.length&&u.extend(i,n(e.submenu))}),i}(n),l=(i=n,r=c(o),0==(a=u("#"+r)).length&&(a=u("<div>",{id:r}).menu()).menu("appendItems",i),a);u(o).tabs("addEventListener",{name:"onContextMenu",handler:function(e,n,i){e.preventDefault(),function(e,t,n){var i=c(e),o=u("#"+i+"_fixed");-1!=u.inArray(n,u.fn.tabs.defaults.customAttr.fixedtabs)||u(e).tabs("getTab",n).panel("options").closable?(t.menu("setText",{target:o,text:u.fn.tabs.defaults.contextMenu.itemname.fixtab}),-1<u.inArray(n,u.fn.tabs.defaults.customAttr.fixedtabs)?t.menu("disableItem",o):t.menu("enableItem",o)):t.menu("setText",{target:o,text:u.fn.tabs.defaults.contextMenu.itemname.unfixtab});o=u("#"+i+"_close"),u(e).tabs("getTab",n).panel("options").closable?t.menu("enableItem",o):t.menu("disableItem",o)}(o,l,i),l.menu("addEventListener",{name:"onClick",override:!0,handler:function(e){var t=e.id||e.text;s[t]&&s[t].call(this,e,n,i,o)}}).menu("show",{left:e.pageX,top:e.pageY})}})}}function h(e,t){var n=[];return t++,u(e).children("div.tabs-header").find("ul li:nth-child("+t+")").each(function(){n.push(this)}),0<n.length?n[0]:null}function a(e,t,n,i){if("number"==typeof n&&"number"==typeof t){var o=u.data(e,"tabs").tabs;if(n<0||n>o.length)return;if(t<0||t>o.length)return;if(i){for(var r=o[n],a=n;t<a;a--)o.splice(a,1,o[a-1]);if(o[t]=r,c=h(e,t)){var s=h(e,n);u(c).before(s)}}else{r=o[t];for(var l=t;l<=n;l++)o.splice(l,1,o[l+1]);var c;if(o[n]=r,c=h(e,n)){var d=h(e,t);u(c).after(d)}}}}u.fn.tabs.defaults.contextMenu={},u.fn.tabs.defaults.contextMenu.itemname={},u.fn.tabs.defaults.contextMenu.itemname.reload="重新加载",u.fn.tabs.defaults.contextMenu.itemname.fixtab="固定标签页",u.fn.tabs.defaults.contextMenu.itemname.unfixtab="取消固定标签",u.fn.tabs.defaults.contextMenu.itemname.close="关闭标签页",u.fn.tabs.defaults.contextMenu.itemname.closeothers="关闭其他标签页",u.fn.tabs.defaults.contextMenu.itemname.closerightside="关闭右侧标签页",u.fn.tabs.defaults.contextMenu.itemname.closeall="关闭所有标签页",u.fn.tabs.defaults.contextMenu.defaultEventsHandler={reload:function(e,t,n,i){var o=u(i).tabs("getTab",n);o.panel("options").useiframe?u("iframe",o.panel("body")).each(function(){this.contentWindow.location.reload()}):o.panel("refresh")},fixtab:function(e,t,n,i){var o=u(i).tabs("getTab",n);u(i).tabs("update",{tab:o,options:{closable:!1}}),a(i,u.fn.tabs.defaults.customAttr.fixedtabs.length,n,!0)},unfixtab:function(e,t,n,i){var o=function(e){for(var t=u(e).tabs("tabs"),n=[],i=0;i<t.length;i++){var o=t[i];null!=o.panel("options").closable&&o.panel("options").closable||n.push(o)}return n}(i).length-1,r=u(i).tabs("getTab",n);u(i).tabs("update",{tab:r,options:{closable:!0}}),a(i,n,o)},closetab:function(e,t,n,i){u(i).tabs("getTab",n).panel("options").closable&&u(i).tabs("close",n)},closeOthersTab:function(e,t,n,i){var o=u(i).tabs("tabs"),r=u.grep(o,function(e,t){return e.panel("options").closable&&t!=n});u.each(r,function(){u(i).tabs("close",this.panel("options").title)})},closeRightSideTabs:function(e,t,n,i){var o=u(i).tabs("tabs"),r=u.grep(o,function(e,t){return n<t&&e.panel("options").closable});u.each(r,function(){u(i).tabs("close",this.panel("options").title)})},closeAll:function(e,t,n,i){var o=u(i).tabs("tabs"),r=u.grep(o,function(e,t){return e.panel("options").closable});u.each(r,function(){u(i).tabs("close",this.panel("options").title)})}},u.fn.tabs.defaults.customAttr={fixedtabs:[0],contextMenu:{isShow:!1,isMerge:!0,items:[]}};var i=u.extend({},u.fn.tabs.methods);u.extend(u.fn.tabs.methods,{followCustomHandle:function(e){return e.each(function(){t(this)})},add:function(t,n){return t.each(function(){var e=null;(n.href||/^url:/.test(n.content))&&(e=n.href||n.content.substr(4,n.content.length),delete n.content,delete n.href),e?n.useiframe?(i.add(t,n),function(e,t,n,i,o){var r=u("<iframe>").attr("height","100%").attr("width","100%").attr("marginheight","0").attr("marginwidth","0").attr("frameborder","0");setTimeout(function(){r.attr("src",n)},1);var a=u(e).tabs("getTab",t);if(a.panel("body").css({overflow:"hidden"}).empty().append(r),i){o=o||u.fn.datagrid.defaults.loadMsg;var s=a.panel("body");s.css("position","relative");u('<div class="datagrid-mask" style="display:block;"></div>').appendTo(s);var l=u('<div class="datagrid-mask-msg" style="display:block; left: 50%;"></div>').html(o).appendTo(s);setTimeout(function(){l.css("marginLeft",-l.outerWidth()/2)},5)}r.bind("load",function(){r[0].contentWindow&&(a.panel("body").children("div.datagrid-mask-msg").remove(),a.panel("body").children("div.datagrid-mask").remove())})}(this,n.title,e,n.showMask,n.loadMsg)):i.add(t,u.extend(n,{href:e})):i.add(t,n),n.css&&u(this).tabs("getTab",n.title).css(n.css)})},addEventListener:function(e,t){return e.each(function(){var e=u.isArray(t)?t:[t],n=this;u.each(e,function(e,t){!function(e,t,i,n){var o=u(e).tabs("options"),r=o[t];switch(t){case"onLoad":o[t]=n?i:function(e){r.apply(this,arguments),i.apply(this,arguments)};break;case"onContextMenu":o[t]=n?i:function(e,t,n){r.apply(this,arguments),i.apply(this,arguments)};break;default:o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)}}}(n,t.name,t.handler||function(){},t.override)})})}})}(jQuery),function($){function init(t){var n=$(t).toolbar("options"),e=$(t).addClass("datagrid-toolbar").css({"border-top-width":1});e.append('<table cellspacing="0" cellpadding="0"><tr></tr></table>'),"right"==n.buttonPosition&&e.find("table").css("float","right"),n.data?addItems(t,n.data):n.loader.call(t,function(e){n.data=e,addItems(t,n.data)},function(){n.onLoadError.apply(t,arguments)})}function add(target,item){var tr=$(target).find("tr");if("string"==typeof item&&"-"==$.trim(item))$('<td><div class="dialog-tool-separator"></div></td>').appendTo(tr);else if("-"==$.trim(item.text))$('<td><div class="dialog-tool-separator"></div></td>').appendTo(tr);else{var td=$("<td></td>").appendTo(tr),button=$('<a href="javascript:void(0)"></a>').appendTo(td);button[0].onclick=eval(item.handler||function(){}),button.linkbutton($.extend({},item,{plain:!0}))}}function addItems(e,t){if($.isArray(t))for(var n=0;n<t.length;n++)add(e,t[n])}$.fn.toolbar=function(t,e){return"string"==typeof t?$.fn.toolbar.methods[t](this,e):(t=t||{},this.each(function(){var e=$.data(this,"toolbar");e?$.extend(e.options,t):($.data(this,"toolbar",{options:$.extend({},$.fn.toolbar.defaults,$.parser.parseOptions(this),t)}),init(this))}))},$.fn.toolbar.methods={options:function(e){return $.data(e[0],"toolbar").options},add:function(e,t){return e.each(function(){addItems(this,t)})}},$.fn.toolbar.defaults={data:null,url:void 0,buttonPosition:"left",loader:function(t,e){$(this).toolbar("options");$.ajax({type:"POST",url:"toolbar_data.json",dataType:"json",success:function(e){t(e)},error:function(){e.apply(this,arguments)}})},onLoadError:function(){}}}(jQuery),function(d){function c(e){return d(e).attr("id")+"_contextmenu"}function n(i){var e=d.extend(!0,{},d.fn.tree.defaults,d(i).tree("options")).customAttr.contextMenu;if(e.isShow){var t,n=[{id:(t=c(i))+"_moveup",text:"位置上移",iconCls:"icon-moveup",onclick:d.fn.tree.contextmenu.defaultEvents.moveup},{id:t+"_movedown",text:"位置下移",iconCls:"icon-movedown",onclick:d.fn.tree.contextmenu.defaultEvents.movedown}];e.isMerge&&d.isArray(e.items)&&0<e.items.length&&(n=d.merge(n,e.items)),!e.isMerge&&d.isArray(e.items)&&0<e.items.length&&(n=e.items);var o,r,a,s=function n(e){var i={};return d.each(e,function(){var e=this;if(e.onclick){var t=e.id||e.text;i[t]=e.onclick,delete e.onclick}e.submenu&&d.isArray(e.submenu)&&0<e.submenu.length&&d.extend(i,n(e.submenu))}),i}(n),l=(o=n,r=c(i),0==(a=d("#"+r)).length&&(a=d("<div>",{id:r}).menu()).menu("appendItems",o),a);d(i).tree("addEventListener",{name:"onContextMenu",handler:function(e,n){e.preventDefault(),d(i).tree("select",n.target),l.menu("addEventListener",{name:"onClick",override:!0,handler:function(e){var t=e.id||e.text;s[t]&&s[t].call(this,e,n,i)}}).menu("show",{left:e.pageX,top:e.pageY})}})}}function l(e,t,n){if(n)return d(e).tree("getChildren",t);var i=[];return d(t).next().find(">li>div.tree-node").each(function(){i.push(d(e).tree("getNode",this))}),i}function u(e,t){e.attributes||(e.attributes={});for(var n=0;n<t.length;n++)e.attributes[t[n]]=e[t[n]]}function h(e){return!!(e.idField||e.textField||e.iconField||e.childrenField||e.attributesField||e.attributes||!1)}d.fn.tree.contextmenu={},d.fn.tree.contextmenu.defaultEvents={moveup:function(e,t,n){var i=d.extend(!0,{},d.fn.tree.defaults,d(n).tree("options")),o=function(e,t){for(var n=t.id||t.text,i=l(e,d(e).tree("getParent",t.target).target,!1),o=-1,r=0,a=i.length;r<a;r++){if(n==(i[r].id||i[r].text)){o=r-1;break}}return-1<o?i[o]:null}(n,t);if(o){var r=d(n).tree("pop",t.target);d(n).tree("insert",{before:o.target,data:r}),i.customAttr.onAfterMove.call(this,o,t)}},movedown:function(e,t,n){var i=d.extend(!0,{},d.fn.tree.defaults,d(n).tree("options")),o=function(e,t){for(var n=t.id||t.text,i=l(e,d(e).tree("getParent",t.target).target,!1),o=-1,r=0,a=i.length;r<a;r++){if(n==(i[r].id||i[r].text)){o=r+1;break}}return-1<o&&o<i.length?i[o]:null}(n,t);if(o){var r=d(n).tree("pop",t.target);d(n).tree("insert",{after:o.target,data:r}),i.customAttr.onAfterMove.call(this,o,t)}}},d.fn.tree.defaults.customAttr={idField:null,textField:null,parentField:null,iconField:null,childrenField:null,attributesField:null,attributes:null,dataModel:null,expandOnNodeClick:!1,expandOnDblClick:!1,onlyNodeExpand:!1,contextMenu:{isShow:!1,isMerge:!0,items:[]},onAfterMove:function(e,t){}},d.fn.tree.defaults.loadFilter=function(e,t){var n=d(this).tree("options").customAttr;return n?("simpleData"==n.dataModel?function(e,t){if(!h(e))return t;for(var n=e.idField||"id",i=e.textField||"text",o=e.iconField||"iconCls",r=e.parentField||"pid",a=e.attributes||[],s=[],l=[],c=0,d=t.length;c<d;c++)l[t[c][n]]=t[c];for(c=0,d=t.length;c<d;c++)l[t[c][r]]&&t[c][n]!=t[c][r]?(l[t[c][r]].children||(l[t[c][r]].children=[]),t[c].text=t[c][i],t[c][o]&&(t[c].iconCls=t[c][o]),u(t[c],a),l[t[c][r]].children.push(t[c])):(t[c].text=t[c][i],t[c][o]&&(t[c].iconCls=t[c][o]),u(t[c],a),s.push(t[c]));return s}:function(e,t){if(!h(e))return t;for(var n=e.idField||"id",i=e.textField||"text",o=e.iconField||"iconCls",r=e.childrenField||"children",a=e.attributesField||"attributes",s=e.attributes||[],l=function(e){if(!e.id&&e[n]&&(e.id=e[n]),!e.text&&e[i]&&(e.text=e[i]),!e.iconCls&&e[o]&&(e.iconCls=e[o]),!e.children&&e[r]&&(e.children=e[r]),!e.attributes&&e[a]&&(e.attributes=e[a]),s&&d.isArray(s)&&u(e,s),e.children)for(var t=0;t<e.children.length;t++)l(e.children[t])},c=0;c<t.length;c++)l(t[c]);return t})(n,e):e},d.fn.combotree.defaults.loadFilter=d.fn.tree.defaults.loadFilter;var i=d.extend({},d.fn.tree.methods);d.extend(d.fn.tree.methods,{followCustomHandle:function(e){return e.each(function(){var t,e,o;n(this),t=this,((e=d.extend(!0,{},d.fn.tree.defaults,d(t).tree("options"))).customAttr.expandOnNodeClick||e.customAttr.expandOnDblClick)&&(e.customAttr.expandOnNodeClick?d(t).tree("addEventListener",{name:"onClick",handler:function(e){d(t).tree("toggle",e.target)}}):e.customAttr.expandOnDblClick&&d(t).tree("addEventListener",{name:"onDblClick",handler:function(e){d(t).tree("toggle",e.target)}})),o=this,d.extend(!0,{},d.fn.tree.defaults,d(o).tree("options")).customAttr.onlyNodeExpand&&d(o).tree("addEventListener",{name:"onBeforeExpand",handler:function(e){var t=d(o).tree("getParent",e.target);if(t)for(var n=l(o,t.target,!1),i=0;i<n.length;i++)"open"==n[i].state&&d(o).tree("collapseAll",n[i].target);else d(o).tree("collapseAll")}})})},getLevel:function(e,t){return function e(t,n){var i=d(t).tree("getParent",n.target);return i?1+e(t,i):1}(e[0],t)},expandTo:function(e,t){return e.each(function(){"number"==d.type(t)?function e(t,n,i){for(var o=i?[i]:d(t).tree("getRoots"),r=0;r<o.length;r++){for(var a=l(t,o[r].target,!1),s=0;s<a.length;s++)d(t).tree("expandTo",a[s].target);if(0<--n)for(s=0;s<a.length;s++)e(t,n,a[s])}}(this,t):i.expandTo(e,t)})},addEventListener:function(e,t){return e.each(function(){var e=d.isArray(t)?t:[t],n=this;d.each(e,function(e,t){!function(e,t,i,n){var o=d(e).tree("options"),r=o[t];switch(t){case"onBeforeLoad":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onLoadSuccess":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onLoadError":o[t]=n?i:function(e){r.apply(this,e),i.apply(this,e)};break;case"onBeforeCheck":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onCheck":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onContextMenu":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onDragEnter":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onDragOver":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onDragLeave":o[t]=n?i:function(e,t){r.apply(this,arguments),i.apply(this,arguments)};break;case"onBeforeDrop":o[t]=n?i:function(e,t,n){r.apply(this,arguments),i.apply(this,arguments)};break;case"onDrop":o[t]=n?i:function(e,t,n){r.apply(this,arguments),i.apply(this,arguments)};break;default:o[t]=n?i:function(e){r.apply(this,arguments),i.apply(this,arguments)}}}(n,t.name,t.handler||function(){},t.override)})})}})}(jQuery),function(g){function l(e,t){return g(e).attr("id")+"_"+t}function s(e,t,n){var i=l(e,n),o=g("#"+i);return 0==o.length&&(o=g("<div>",{id:i}).menu()).menu("appendItems",t),o}function c(e){var n={};return g.each(e,function(){var e=this;if(e.onclick){var t=e.id||e.text;n[t]=e.onclick,delete e.onclick}e.submenu&&g.isArray(e.submenu)&&0<e.submenu.length&&g.extend(n,c(e.submenu))}),n}function t(i){var o=g.extend(!0,{},g.fn.treegrid.defaults,g(i).treegrid("options")),e=o.customAttr.contextMenu;if(e.isShow){var t,n=[{id:(t=l(i,"rowContextMenu"))+"_delete",text:"删除",iconCls:"icon-remove",onclick:g.fn.treegrid.headerContextMenu.defaultEvents.doRemove},"-",{id:t+"_reload",text:"刷新",iconCls:"icon-reload",onclick:g.fn.treegrid.headerContextMenu.defaultEvents.doReload}];e.isMerge&&g.isArray(e.items)&&0<e.items.length&&g.merge(n,e.items),!e.isMerge&&g.isArray(e.items)&&0<e.items.length&&(n=e.items);var r=c(n),a=s(i,n,"rowContextMenu");g(i).treegrid("addEventListener",{name:"onContextMenu",handler:function(e,n){e.preventDefault(),g(i).treegrid("select",n[o.idField]);var t=a.menu("options");t.onClickCallback=t.onClickCallback||t.onClick,a.menu("addEventListener",{name:"onClick",override:!0,handler:function(e){var t=e.id||e.text;r[t]&&r[t].call(this,e,n,i)}}).menu("show",{left:e.pageX,top:e.pageY})}})}}function n(o){var r=l(o,"headerContextMenu"),e=[{text:StrackLang.Show_Hide_Column,iconCls:"icon-columns",submenu:[{id:r+"_showAll",text:StrackLang.ShowAll,iconCls:"icon-columns",onclick:function(e,t,n){g.fn.datagrid.headerContextMenu.defaultEvents.doShowAll(n)}},{id:r+"_restore",text:StrackLang.Restore,iconCls:"icon-columns",onclick:function(e,t,n){g.fn.datagrid.headerContextMenu.defaultEvents.doRestore(n)}},"-"]}],a=[],t=g(o).treegrid("getColumnFields"),s=g(o).treegrid("options").treeField;return g.each(t,function(e,t){if(!t)return!0;var n=t==s,i=g(o).treegrid("getColumnOption",t);i._hidden=i.hidden,a.push({id:r+"-"+t,text:i.title,iconCls:i.hidden?"icon-unchecked":"icon-checked",disabled:n,onclick:function(e,t,n){var i,o=(i=e.id).substr(i.lastIndexOf("-")+1,i.length);g(n).treegrid("getColumnOption",o).hidden?g.fn.datagrid.headerContextMenu.defaultEvents.doShowColumn(n,o,e):g.fn.datagrid.headerContextMenu.defaultEvents.doHideColumn(n,o,e)}})}),g.merge(e[0].submenu,a),e}function i(p){var f=g.extend(!0,{},g.fn.treegrid.defaults,g(p).treegrid("options"));if(f.customAttr.rowediting){function m(e){return g(e).attr("id")+"_editor_buttons_panel"}function n(e){var t="#"+m(e);g(t).hide()}g(p).treegrid("addEventListener",[{name:"onLoadSuccess",handler:function(e,t){!function(n){var e=m(n);if(!(0<g("#"+e).length)){var t=g(n).treegrid("getPanel"),i=g(">div.datagrid-view>div.datagrid-view2>div.datagrid-body",t);i.css("position","relative");var o=g("<div>",{id:e}).addClass("dialog-button").appendTo(i).css({position:"absolute",display:"block","border-bottom":"1px solid #ddd","border-left":"1px solid #ddd","border-right":"1px solid #ddd",left:parseInt(t.width()/2)-120,"z-index":2013,display:"none",padding:"4px 5px"});g('<a href="javascript:void(0)">确定</a>').css("margin-left","0px").linkbutton({iconCls:"icon-ok"}).click(function(){var e=f.idField,t=g(n).treegrid("getEditingRow");f.customAttr.onConfirmEdit.call(n,t)&&g(n).treegrid("endEdit",t[e])}).appendTo(o),g('<a href="javascript:void(0)">取消</a>').css("margin-left","6px").linkbutton({iconCls:"icon-cancel"}).click(function(){var e=f.idField,t=g(n).treegrid("getEditingRow");g(n).treegrid("cancelEdit",t[e])}).appendTo(o)}}(this)}},{name:"onBeforeEdit",handler:function(e){var t,n,i,o,r,a,s,l,c,d,u,h;t=p,n=e,s=f.idField,l=f.finder.getTr(t,n[s],"body",2),c=l.position(),d="#"+m(t),u=g(t).treegrid("getPanel"),h=g(">div.datagrid-view>div.datagrid-view2>div.datagrid-body",u),g(d).css((i=l.height(),o=l.width(),r=c.top+h.scrollTop(),a=c.left,a=o>h.width()?h.width()/2-120:o/2-120,c.top+(2*i+11)>h.height()?r-=i+11:r+=i,{top:r,left:a})).show()}},{name:"onAfterEdit",handler:function(e,t){n(p)}},{name:"onCancelEdit",handler:function(e){n(p)}}])}}function o(l){var i=g.extend(!0,{},g.fn.treegrid.defaults,g(l).treegrid("options"));if(i.customAttr.tooltip.enable){function c(e,t){var n={position:i.customAttr.tooltip.position,trackMouse:!0,onHide:function(){g(e).tooltip("destroy")},onShow:function(){g.isPlainObject(t)&&t.css&&g(this).tooltip("tip").css(t.css)}};g.extend(n,g.isPlainObject(t)?t:{content:t}),g(e).tooltip(n).tooltip("show")}function n(e,t){var n,i,o,r=g(e).attr("node-id"),a=g(l).treegrid("find",r),s=t?t(r,a):(n=a,i=[],o=g.grep(g.merge(g(l).treegrid("getColumnFields",!0),g(l).treegrid("getColumnFields")),function(e,t){return 0<g.trim(e).length}),g.each(o,function(){var e=g(l).treegrid("getColumnOption",this).title;i.push(e+": "+n[this])}),i.join("<br>"));g(e).mouseover(function(){c(this,s)})}function o(){if("row"==i.customAttr.tooltip.target)i.finder.getTr(l,"","allbody").each(function(){g(this).hasClass("datagrid-row")&&n(this,i.customAttr.tooltip.formatter)});else if(i.customAttr.tooltip.fields&&g.isArray(i.customAttr.tooltip.fields)){var e=g(l).treegrid("getPanel"),t=g(">div.datagrid-view>div.datagrid-view2>div.datagrid-body",e);g.each(i.customAttr.tooltip.fields,function(){var e,r;e=g("td[field="+this+"]",t),r=i.customAttr.tooltip.formatter,e.mouseover(function(){var e=g(this).parent().attr("node-id"),t=g(l).treegrid("find",e),n=g(this).attr("field"),i=t[n],o=r?r(i,n,e,t):i;c(this,o)})})}}g(l).treegrid("addEventListener",{name:"onLoadSuccess",handler:function(e,t){o()}})}}g.fn.treegrid.headerContextMenu={},g.fn.treegrid.headerContextMenu.defaultEvents={doRemove:function(e,i,o){g.messager.confirm("疑问","您确定要删除已选中的行？",function(e){if(e){var t=g(o).treegrid("options").idField,n=i[t];g(o).treegrid("remove",n)}})},doReload:function(e,t,n){g(n).treegrid("reload")}},g.fn.treegrid.defaults.customAttr={iconField:null,parentField:null,expandOnNodeClick:!1,expandOnDblClick:!1,headerContextMenu:{isShow:!1,isMerge:!0,items:[]},contextMenu:{isShow:!1,isMerge:!0,items:[]},rowediting:!1,tooltip:{enable:!1,target:"row",position:"bottom",fields:void 0,formatter:void 0},onConfirmEdit:function(e){return!0}},g.fn.treegrid.defaults.loadFilter=function(e,t){var n=g(this).treegrid("options"),i=n.customAttr;if(i&&i.parentField)for(var o=n.idField,r=i.parentField,a=i.iconField||"icon",s=0,l=e.rows.length;s<l;s++)e.rows[s][r]&&"0"!=e.rows[s][r]&&e.rows[s][o]!=e.rows[s][r]?e.rows[s]._parentId=e.rows[s][r]:delete e.rows[s][r],e.rows[s].iconCls=e.rows[s][a];return e},g.extend(g.fn.treegrid.methods,{followCustomHandle:function(e){return e.each(function(){!function(i){var e=g.extend(!0,{},g.fn.treegrid.defaults,g(i).treegrid("options")).customAttr.headerContextMenu;if(e.isShow){var t=n(i);e.isMerge&&g.merge(t,e.items),!e.isMerge&&g.isArray(e.items)&&0<e.items.length&&(t=e.items);var o=c(t),r=s(i,t,"headerContextMenu");g(i).treegrid("addEventListener",{name:"onHeaderContextMenu",handler:function(e,n){e.preventDefault(),r.menu("addEventListener",{name:"onClick",override:!0,handler:function(e){var t=e.id||e.text;o[t]&&o[t].call(this,e,n,i)}}).menu("show",{left:e.pageX,top:e.pageY})}})}}(this),t(this),function(n){var e=g.extend(!0,{},g.fn.treegrid.defaults,g(n).treegrid("options"));if(e.customAttr.expandOnNodeClick||e.customAttr.expandOnDblClick){var i=e.treeField,o=e.idField;e.customAttr.expandOnNodeClick?g(n).treegrid("addEventListener",{name:"onClickCell",handler:function(e,t){i==e&&g(n).treegrid("toggle",t[o])}}):e.customAttr.expandOnDblClick&&g(n).treegrid("addEventListener",{name:"onDblClickCell",handler:function(e,t){i==e&&g(n).treegrid("toggle",t[o])}})}}(this),i(this),o(this)})},getEditingRow:function(e){var t=e.treegrid("getEditingRows");return t.length?t[0]:null},getEditingRows:function(t){var e=t.treegrid("options"),n=[];return e.finder.getTr(t[0],"","allbody").each(function(){if(g(this).hasClass("datagrid-row-editing")){var e=g(this).attr("node-id");n.push(t.treegrid("find",e))}}),n},addEventListener:function(e,t){return e.each(function(){var e=g.isArray(t)?t:[t],n=this;g.each(e,function(e,t){!function(e,t,n,i){var o=g(e).treegrid("options"),r=o[t];switch(t){case"onClickRow":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onDblClickRow":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onClickCell":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;case"onDblClickCell":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;case"onBeforeLoad":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;case"onLoadSuccess":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;case"onLoadError":o[t]=i?n:function(e){r.apply(this,e),n.apply(this,e)};break;case"onBeforeExpand":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onExpand":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onBeforeCollapse":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onCollapse":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onContextMenu":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;case"onBeforeEdit":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;case"onAfterEdit":o[t]=i?n:function(e,t){r.apply(this,arguments),n.apply(this,arguments)};break;case"onCancelEdit":o[t]=i?n:function(e){r.apply(this,arguments),n.apply(this,arguments)};break;default:g(e).datagrid("addEventListener",{name:t,override:i,handler:n})}}(n,t.name,t.handler||function(){},t.override)})})}})}(jQuery),function(n){n.extend(n.fn.validatebox.defaults.rules,{unequal:{validator:function(e,t){return e!=t},message:n.fn.validatebox.defaults.missingMessage},minLength:{validator:function(e,t){return e.length>=t[0]}},equals:{validator:function(e,t){return/^#/.test(t)?e==n(t).val():e==t}}}),n.fn.validatebox&&(n.fn.validatebox.defaults.rules.minLength.message="请至少输入{0}个字符。",n.fn.validatebox.defaults.rules.equals.message="字段不匹配")}(jQuery),function($){function getTop(t,e){var n;try{(n=t.top.document).getElementsByTagName}catch(e){return t}return"document"==e.locate||0<n.getElementsByTagName("frameset").length?t:t.top}function setWindowSize(e,t){var n=getTop(e,t),i=$(n).height(),o=$(n).width();if("top"==t.locate||"document"==t.locate)"auto"==t.height&&(t.height=.6*i),"auto"==t.width&&(t.width=.6*o);else{var r=/^#/.test(t.locate)?t.locate:"#"+t.locate;"auto"==t.height&&(t.height=.6*$(r).height()),"auto"==t.width&&(t.width=.6*$(r).width())}}$.extend({showWindow:function(options){var target;options=options||{};var winOpts=$.extend({},{iconCls:"icon-form",useiframe:!1,locate:"top",data:void 0,width:"auto",height:"auto",cache:!1,minimizable:!0,maximizable:!0,collapsible:!0,resizable:!0,loadMsg:$.fn.datagrid.defaults.loadMsg,showMask:!1,onClose:function(){target.dialog("destroy")}},options),iframe=null;if(/^url:/.test(winOpts.content)){var url=winOpts.content.substr(4,winOpts.content.length);winOpts.useiframe?(iframe=$("<iframe>").attr("height","100%").attr("width","100%").attr("marginheight",0).attr("marginwidth",0).attr("frameborder",0),setTimeout(function(){iframe.attr("src",url)},10)):winOpts.href=url,delete winOpts.content}var selfRefrence={getData:function(e){return winOpts.data?winOpts.data[e]:null},close:function(){target.panel("close")}},_top=getTop(window,winOpts),warpHandler=function(handler){return"function"==typeof handler?function(){handler(selfRefrence)}:"string"==typeof handler&&winOpts.useiframe?function(){iframe[0].contentWindow[handler](selfRefrence)}:"string"==typeof handler?function(){eval(_top[handler])(selfRefrence)}:void 0};setWindowSize(window,winOpts),winOpts.toolbar&&$.isArray(winOpts.toolbar)&&$.each(winOpts.toolbar,function(e,t){t.handler=warpHandler(t.handler)}),winOpts.buttons&&$.isArray(winOpts.buttons)&&$.each(winOpts.buttons,function(e,t){t.handler=warpHandler(t.handler)});var onLoadCallback=winOpts.onLoad;if(winOpts.onLoad=function(){onLoadCallback&&onLoadCallback.call(this,selfRefrence,_top)},"top"==winOpts.locate||"document"==winOpts.locate)target=winOpts.useiframe&&iframe?(winOpts.showMask&&(winOpts.onBeforeOpen=function(){$(this).panel("panel"),$(this).panel("header");var e=$(this).panel("body");e.css("position","relative");$('<div class="datagrid-mask" style="display:block;"></div>').appendTo(e);var t=$('<div class="datagrid-mask-msg" style="display:block; left: 50%;"></div>').html(winOpts.loadMsg).appendTo(e);setTimeout(function(){t.css("marginLeft",-t.outerWidth()/2)},5)}),iframe.bind("load",function(){iframe[0].contentWindow&&(onLoadCallback&&onLoadCallback.call(this,selfRefrence,iframe[0].contentWindow),target.panel("body").children("div.datagrid-mask-msg").remove(),target.panel("body").children("div.datagrid-mask").remove())}),_top.$("<div>").css({overflow:"hidden"}).append(iframe).dialog(winOpts)):_top.$("<div>").dialog(winOpts);else{var locate=/^#/.test(winOpts.locate)?winOpts.locate:"#"+winOpts.locate;target=$("<div>").appendTo(locate).dialog($.extend({},winOpts,{inline:!0}))}return target},showModalDialog:function(e){e=e||{};var t=$.extend({},e,{modal:!0,minimizable:!1,maximizable:!1,resizable:!1,collapsible:!1});return $.showWindow(t)}})}(jQuery),function(h){h.extend(h.fn.datagrid.defaults,{dragSelection:!1,onBeforeDrag:function(e){},onStartDrag:function(e){},onStopDrag:function(e){},onDragEnter:function(e,t){},onDragOver:function(e,t){},onDragLeave:function(e,t){},onBeforeDrop:function(e,t,n){},onDrop:function(e,t,n){}}),h.extend(h.fn.datagrid.methods,{_appendRow:function(e,n){return e.each(function(){var t=h(this),e=h.isArray(n)?n:[n];h.map(e,function(e){t.datagrid("appendRow",e).datagrid("enableDnd",t.datagrid("getRows").length-1),e._selected&&t.datagrid("selectRow",t.datagrid("getRows").length-1)})})},_insertRow:function(e,o){return e.each(function(){var n=h(this),i=o.index,e=o.row,t=h.isArray(e)?e:[e];h.map(t,function(e,t){n.datagrid("insertRow",{index:i+t,row:e}).datagrid("enableDnd",i+t),e._selected&&n.datagrid("selectRow",i+t)})})},_deleteRow:function(e,t){return e.each(function(){var n=h(this),e=h.isArray(t)?t:[t];h.map(e,function(e){var t=n.datagrid("getRowIndex",e);n.datagrid("deleteRow",t)})})}});var p=[];h.extend(h.fn.datagrid.methods,{enableDnd:function(e,s){return e.each(function(){var e,l=this,t=h.data(this,"datagrid"),r=h(this),c=t.options,n={disabled:!1,revert:!0,cursor:"pointer",proxy:function(e){var o=h('<div style="z-index:9999999999999;background-color: #ffffff"></div>').appendTo("body"),t=u(e),n=h.isArray(t)?t:[t];return h.map(n,function(e,t){var n=r.datagrid("getRowIndex",e),i=c.finder.getTr(l,n,"body",1);c.finder.getTr(l,n,"body",2).clone().removeAttr("id").removeClass("droppable").appendTo(o),i.clone().removeAttr("id").removeClass("droppable").find("td").insertBefore(o.find("tr:eq("+t+") td:first")),h('<td><span class="tree-dnd-icon tree-dnd-no" style="position:static;width: 20px;">&nbsp;</span></td>').insertBefore(o.find("tr:eq("+t+") td:first"))}),o.find("td").css("vertical-align","middle"),o.hide(),o},deltaX:15,deltaY:15,onBeforeDrag:function(e){if("INPUT"==e.target.tagName||"TEXTAREA"==e.target.tagName)return!1;var t=u(this);return 0!=c.onBeforeDrag.call(l,t)&&(!h(e.target).parent().hasClass("datagrid-cell-check")&&(1==e.which&&void h.map(h.isArray(t)?t:[t],function(e){var t=h(l).datagrid("getRowIndex",e);c.finder.getTr(l,t).droppable({accept:"no-accept"})})))},onStartDrag:function(){h(this).draggable("proxy").css({left:-1e4,top:-1e4});var e=u(this);c.onStartDrag.call(l,e),t.draggingRow=e},onDrag:function(e){var t=e.pageX,n=e.pageY,i=e.data.startX,o=e.data.startY;if(3<Math.sqrt((t-i)*(t-i)+(n-o)*(n-o))){h(this).draggable("proxy").show();var r=c.finder.getTr(l,parseInt(h(this).attr("datagrid-row-index")),"body");h.extend(e.data,{startX:r.offset().left,startY:r.offset().top,offsetWidth:0,offsetHeight:0})}this.pageY=e.pageY},onStopDrag:function(){h.map(p,function(e){var t=h(e);!t.hasClass("datagrid-row")&&0!=t.find("tr.datagrid-row:first").length||t.droppable("enable")}),p=[],h.map(h.isArray(t.draggingRow)?t.draggingRow:[t.draggingRow],function(e){var t=r.datagrid("getRowIndex",e);r.datagrid("enableDnd",t)}),c.onStopDrag.call(l,t.draggingRow)}},i={accept:"tr.datagrid-row",onDragEnter:function(e,t){if(!h(this).droppable("options").disabled&&0==c.onDragEnter.call(l,d(this),u(t))){a(t,!1);var n=c.finder.getTr(l,h(this).attr("datagrid-row-index"));n.find("td").css("border",""),n.droppable("disable"),h(this).droppable("disable"),p.push(this)}},onDragOver:function(e,t){if(!(h(this).droppable("options").disabled||0<=h.inArray(this,p))){var n=t.pageY,i=h(this).offset().top,o=i+h(this).outerHeight();a(t,!0);var r=c.finder.getTr(l,h(this).attr("datagrid-row-index"));r.children("td").css("border",""),i+(o-i)/2<n?r.children("td").css("border-bottom","1px solid red"):r.children("td").css("border-top","1px solid red"),0==c.onDragOver.call(l,d(this),u(t))&&(a(t,!1),r.find("td").css("border",""),r.droppable("disable"),h(this).droppable("disable"),p.push(this))}},onDragLeave:function(e,t){h(this).droppable("options").disabled||(a(t,!1),c.finder.getTr(l,h(this).attr("datagrid-row-index")).children("td").css("border",""),c.onDragLeave.call(l,d(this),u(t)))},onDrop:function(e,r){if(!h(this).droppable("options").disabled){var t=c.finder.getTr(l,h(this).attr("datagrid-row-index")).children("td"),a=parseInt(t.css("border-top-width"))?"top":"bottom";t.css("border","");var n=d(this),s=u(r);0!=c.onBeforeDrop.call(l,n,s,a)&&(function(){parseInt(h(r).attr("datagrid-row-index"));var e=parseInt(h(this).attr("datagrid-row-index")),t=h(r).closest("div.datagrid-view").children("table")[0],n=h(this).closest("div.datagrid-view").children("table")[0];if(h(this).hasClass("datagrid-view"))h(n).datagrid("_appendRow",s),h(t).datagrid("_deleteRow",s),0==h(t).datagrid("getRows").length&&h(t).datagrid("enableDnd");else if(n!=t){0<=(o="top"==a?e:e+1)&&(h(t).datagrid("_deleteRow",s),h(n).datagrid("_insertRow",{index:o,row:s}))}else{var i=h(n);if(0<=(o="top"==a?e:e+1)){i.datagrid("_deleteRow",s);var o;e=parseInt(h(this).attr("datagrid-row-index"));0<=(o="top"==a?e:e+1)&&i.datagrid("_insertRow",{index:o,row:s})}}}.call(this),c.onDrop.call(l,n,s,a))}}};if(null!=s)var o=c.finder.getTr(this,s);else o=c.finder.getTr(this,0,"allbody");function a(e,t){h(e).draggable("proxy").find("span.tree-dnd-icon").removeClass("tree-dnd-yes tree-dnd-no").addClass(t?"tree-dnd-yes":"tree-dnd-no")}function d(e){if(!h(e).hasClass("datagrid-row"))return null;var t=h(e).closest("div.datagrid-view").children("table")[0];return h(t).datagrid("options").finder.getRow(t,h(e))}function u(e){if(!h(e).hasClass("datagrid-row"))return null;var t=h(e).closest("div.datagrid-view").children("table")[0],n=h(t).datagrid("options");if(n.dragSelection){var i=h(t).datagrid("getSelections");return(h.map(i,function(e){e._selected=!0}),i.length)?i:((o=n.finder.getRow(t,h(e)))._selected=!1,o)}var o=n.finder.getRow(t,h(e));return h(e).hasClass("datagrid-row-selected")&&(o._selected=!0),o}o.draggable(n),o.droppable(i),(e=h(l).datagrid("getPanel").find("div.datagrid-view")).droppable(i),e.find("tr.datagrid-row:first").length?e.droppable("disable"):e.droppable("enable")})}})}(jQuery),function(m,g,v,b){m.site=m.fn.site=function(e){var s,l,i=(new Date).getTime(),o=[],t=e,n="string"==typeof t,c=[].slice.call(arguments,1),d=m.isPlainObject(e)?m.extend(!0,{},m.site.settings,e):m.extend({},m.site.settings),r=d.namespace,u=d.error,a="module-"+r,h=m(v),p=this,f=h.data(a);return s={initialize:function(){s.instantiate()},instantiate:function(){s.verbose("Storing instance of site",s),f=s,h.data(a,s)},normalize:function(){s.fix.console(),s.fix.requestAnimationFrame()},fix:{console:function(){s.debug("Normalizing window.console"),console!==b&&console.log!==b||(s.verbose("Console not available, normalizing events"),s.disable.console()),void 0!==console.group&&void 0!==console.groupEnd&&void 0!==console.groupCollapsed||(s.verbose("Console group not available, normalizing events"),g.console.group=function(){},g.console.groupEnd=function(){},g.console.groupCollapsed=function(){}),void 0===console.markTimeline&&(s.verbose("Mark timeline not available, normalizing events"),g.console.markTimeline=function(){})},consoleClear:function(){s.debug("Disabling programmatic console clearing"),g.console.clear=function(){}},requestAnimationFrame:function(){s.debug("Normalizing requestAnimationFrame"),g.requestAnimationFrame===b&&(s.debug("RequestAnimationFrame not available, normalizing event"),g.requestAnimationFrame=g.requestAnimationFrame||g.mozRequestAnimationFrame||g.webkitRequestAnimationFrame||g.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(e){return m.fn[e]!==b&&m.fn[e].settings!==b},enabled:{modules:function(e){var n=[];return e=e||d.modules,m.each(e,function(e,t){s.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(e){var n=[];return e=e||d.modules,m.each(e,function(e,t){s.moduleExists(t)||n.push(t)}),n}},change:{setting:function(o,r,e,a){e="string"==typeof e?"all"===e?d.modules:[e]:e||d.modules,a=a===b||a,m.each(e,function(e,t){var n,i=!s.moduleExists(t)||(m.fn[t].settings.namespace||!1);s.moduleExists(t)&&(s.verbose("Changing default setting",o,r,t),m.fn[t].settings[o]=r,a&&i&&0<(n=m(":data(module-"+i+")")).length&&(s.verbose("Modifying existing settings",n),n[t]("setting",o,r)))})},settings:function(i,e,o){e="string"==typeof e?[e]:e||d.modules,o=o===b||o,m.each(e,function(e,t){var n;s.moduleExists(t)&&(s.verbose("Changing default setting",i,t),m.extend(!0,m.fn[t].settings,i),o&&r&&0<(n=m(":data(module-"+r+")")).length&&(s.verbose("Modifying existing settings",n),n[t]("setting",i)))})}},enable:{console:function(){s.console(!0)},debug:function(e,t){e=e||d.modules,s.debug("Enabling debug for modules",e),s.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||d.modules,s.debug("Enabling verbose debug for modules",e),s.change.setting("verbose",!0,e,t)}},disable:{console:function(){s.console(!1)},debug:function(e,t){e=e||d.modules,s.debug("Disabling debug for modules",e),s.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||d.modules,s.debug("Disabling verbose debug for modules",e),s.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(f.cache.console===b)return void s.error(u.console);s.debug("Restoring console function"),g.console=f.cache.console}else s.debug("Disabling console function"),f.cache.console=g.console,g.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){s.verbose("Destroying previous site for",h),h.removeData(a)},cache:{},setting:function(e,t){if(m.isPlainObject(e))m.extend(!0,d,e);else{if(t===b)return d[e];d[e]=t}},internal:function(e,t){if(m.isPlainObject(e))m.extend(!0,s,e);else{if(t===b)return s[e];s[e]=t}},debug:function(){d.debug&&(d.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,d.name+":"),s.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,d.name+":"),s.error.apply(console,arguments)},performance:{log:function(e){var t,n;d.performance&&(n=(t=(new Date).getTime())-(i||t),i=t,o.push({Element:p,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var e=d.name+":",n=0;i=!1,clearTimeout(s.performance.timer),m.each(o,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",(console.group!==b||console.table!==b)&&0<o.length&&(console.groupCollapsed(e),console.table?console.table(o):m.each(o,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),o=[]}},invoke:function(i,e,t){var o,r,n,a=f;return e=e||c,t=p||t,"string"==typeof i&&a!==b&&(i=i.split(/[\. ]/),o=i.length-1,m.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(m.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==b)return r=a[n],!1;if(!m.isPlainObject(a[t])||e==o)return a[t]!==b?r=a[t]:s.error(u.method,i),!1;a=a[t]}})),m.isFunction(r)?n=r.apply(t,e):r!==b&&(n=r),m.isArray(l)?l.push(n):l!==b?l=[l,n]:n!==b&&(l=n),r}},n?(f===b&&s.initialize(),s.invoke(t)):(f!==b&&s.destroy(),s.initialize()),l!==b?l:this},m.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},m.extend(m.expr[":"],{data:m.expr.createPseudo?m.expr.createPseudo(function(t){return function(e){return!!m.data(e,t)}}):function(e,t,n){return!!m.data(e,n[3])}})}(jQuery,window,document),function(j,P,O){"use strict";j.fn.form=function(y){var x,w=j(this),C=w.selector||"",k=(new Date).getTime(),S=[],T=y,E=arguments[1],_="string"==typeof T,A=[].slice.call(arguments,1);return w.each(function(){var n,l,t,e,d,r,c,u,h,s,i,o,a,p,f,m=j(this),g=this,v=[],b=!1;(f={initialize:function(){f.get.settings(),_?(p===O&&f.instantiate(),f.invoke(T)):(f.verbose("Initializing form validation",m,d),f.bindEvents(),f.set.defaults(),f.instantiate())},instantiate:function(){f.verbose("Storing instance of module",f),p=f,m.data(o,f)},destroy:function(){f.verbose("Destroying previous module",p),f.removeEvents(),m.removeData(o)},refresh:function(){f.verbose("Refreshing selector cache"),n=m.find(u.field),l=m.find(u.group),t=m.find(u.message),m.find(u.prompt),e=m.find(u.submit),m.find(u.clear),m.find(u.reset)},submit:function(){f.verbose("Submitting form",m),m.submit()},attachEvents:function(e,t){t=t||"submit",j(e).on("click"+a,function(e){f[t](),e.preventDefault()})},bindEvents:function(){f.verbose("Attaching form events"),m.on("submit"+a,f.validate.form).on("blur"+a,u.field,f.event.field.blur).on("click"+a,u.submit,f.submit).on("click"+a,u.reset,f.reset).on("click"+a,u.clear,f.clear),d.keyboardShortcuts&&m.on("keydown"+a,u.field,f.event.field.keydown),n.each(function(){var e=j(this),t=e.prop("type"),n=f.get.changeEvent(t,e);j(this).on(n+a,f.event.field.change)})},clear:function(){n.each(function(){var e=j(this),t=e.parent(),n=e.closest(l),i=n.find(u.prompt),o=e.data(c.defaultValue)||"",r=t.is(u.uiCheckbox),a=t.is(u.uiDropdown);n.hasClass(h.error)&&(f.verbose("Resetting error on field",n),n.removeClass(h.error),i.remove()),a?(f.verbose("Resetting dropdown value",t,o),t.dropdown("clear")):r?e.prop("checked",!1):(f.verbose("Resetting field value",e,o),e.val(""))})},reset:function(){n.each(function(){var e=j(this),t=e.parent(),n=e.closest(l),i=n.find(u.prompt),o=e.data(c.defaultValue),r=t.is(u.uiCheckbox),a=t.is(u.uiDropdown),s=n.hasClass(h.error);o!==O&&(s&&(f.verbose("Resetting error on field",n),n.removeClass(h.error),i.remove()),a?(f.verbose("Resetting dropdown value",t,o),t.dropdown("restore defaults")):r?(f.verbose("Resetting checkbox value",t,o),e.prop("checked",o)):(f.verbose("Resetting field value",e,o),e.val(o)))})},is:{bracketedRule:function(e){return e.type&&e.type.match(d.regExp.bracket)},valid:function(){var n=!0;return f.verbose("Checking if form is valid"),j.each(r,function(e,t){f.validate.field(t,e)||(n=!1)}),n}},removeEvents:function(){m.off(a),n.off(a),e.off(a),n.off(a)},event:{field:{keydown:function(e){var t=j(this),n=e.which,i=13;n==27&&(f.verbose("Escape key pressed blurring field"),t.blur()),!e.ctrlKey&&n==i&&t.is(u.input)&&0<t.not(u.checkbox).length&&(b||(t.one("keyup"+a,f.event.field.keyup),f.submit(),f.debug("Enter pressed on input submitting form")),b=!0)},keyup:function(){b=!1},blur:function(e){var t=j(this),n=t.closest(l),i=f.get.validation(t);n.hasClass(h.error)?(f.debug("Revalidating field",t,i),f.validate.form.call(f,e,!0)):"blur"!=d.on&&"change"!=d.on||i&&f.validate.field(i)},change:function(e){var t=j(this),n=t.closest(l);("change"==d.on||n.hasClass(h.error)&&d.revalidate)&&(clearTimeout(f.timer),f.timer=setTimeout(function(){f.debug("Revalidating field",t,f.get.validation(t)),f.validate.form.call(f,e,!0)},d.delay))}}},get:{ancillaryValue:function(e){return!(!e.type||!f.is.bracketedRule(e))&&e.type.match(d.regExp.bracket)[1]+""},ruleName:function(e){return f.is.bracketedRule(e)?e.type.replace(e.type.match(d.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return"checkbox"==e||"radio"==e||"hidden"==e||t.is("select")?"change":f.get.inputEvent()},inputEvent:function(){return P.createElement("input").oninput!==O?"input":P.createElement("input").onpropertychange!==O?"propertychange":"keyup"},prompt:function(e,t){var n,i,o,r=f.get.ruleName(e),a=f.get.ancillaryValue(e),s=e.prompt||d.prompt[r]||d.text.unspecifiedRule,l=-1!==s.search("{value}"),c=-1!==s.search("{name}");return(c||l)&&(i=f.get.field(t.identifier)),l&&(s=s.replace("{value}",i.val())),c&&(o=1==(n=i.closest(u.group).find("label").eq(0)).size()?n.text():i.prop("placeholder")||d.text.unspecifiedField,s=s.replace("{name}",o)),s=(s=s.replace("{identifier}",t.identifier)).replace("{ruleValue}",a),e.prompt||f.verbose("Using default validation prompt for type",s,r),s},settings:function(){if(j.isPlainObject(y)){var e,t=Object.keys(y);0<t.length&&(y[t[0]].identifier!==O&&y[t[0]].rules!==O)?(d=j.extend(!0,{},j.fn.form.settings,E),r=j.extend({},j.fn.form.settings.defaults,y),f.error(d.error.oldSyntax,g),f.verbose("Extending settings from legacy parameters",r,d)):(y.fields&&(e=Object.keys(y.fields),"string"!=typeof y.fields[e[0]]&&!j.isArray(y.fields[e[0]])||j.each(y.fields,function(n,e){"string"==typeof e&&(e=[e]),y.fields[n]={rules:[]},j.each(e,function(e,t){y.fields[n].rules.push({type:t})})})),d=j.extend(!0,{},j.fn.form.settings,y),r=j.extend({},j.fn.form.settings.defaults,d.fields),f.verbose("Extending settings",r,d))}else d=j.fn.form.settings,r=j.fn.form.settings.defaults,f.verbose("Using default form validation",r,d);i=d.namespace,c=d.metadata,u=d.selector,h=d.className,s=d.error,o="module-"+i,a="."+i,p=m.data(o),f.refresh()},field:function(e){return f.verbose("Finding field with identifier",e),0<n.filter("#"+e).length?n.filter("#"+e):0<n.filter('[name="'+e+'"]').length?n.filter('[name="'+e+'"]'):0<n.filter('[name="'+e+'[]"]').length?n.filter('[name="'+e+'[]"]'):0<n.filter("[data-"+c.validate+'="'+e+'"]').length?n.filter("[data-"+c.validate+'="'+e+'"]'):j("<input/>")},fields:function(e){var n=j();return j.each(e,function(e,t){n=n.add(f.get.field(t))}),n},validation:function(n){var i,o;return!!r&&(j.each(r,function(e,t){o=t.identifier||e,f.get.field(o)[0]==n[0]&&(t.identifier=o,i=t)}),i||!1)},value:function(e){var t=[];return t.push(e),f.get.values.call(g,t)[e]},values:function(e){var t=j.isArray(e)?f.get.fields(e):n,c={};return t.each(function(e,t){var n=j(t),i=(n.prop("type"),n.prop("name")),o=n.val(),r=n.is(u.checkbox),a=n.is(u.radio),s=-1!==i.indexOf("[]"),l=!!r&&n.is(":checked");i&&(s?(i=i.replace("[]",""),c[i]||(c[i]=[]),r?l?c[i].push(o||!0):c[i].push(!1):c[i].push(o)):a?l&&(c[i]=o):c[i]=r?!!l&&(o||!0):o)}),c}},has:{field:function(e){return f.verbose("Checking for existence of a field with identifier",e),"string"!=typeof e&&f.error(s.identifier,e),0<n.filter("#"+e).length||(0<n.filter('[name="'+e+'"]').length||0<n.filter("[data-"+c.validate+'="'+e+'"]').length)}},add:{prompt:function(e,t){var n=f.get.field(e).closest(l),i=n.children(u.prompt),o=0!==i.length;t="string"==typeof t?[t]:t,f.verbose("Adding field error state",e),n.addClass(h.error),d.inline&&(o||(i=d.templates.prompt(t)).appendTo(n),i.html(t[0]),o?f.verbose("Inline errors are disabled, no inline error added",e):d.transition&&j.fn.transition!==O&&m.transition("is supported")?(f.verbose("Displaying error with css transition",d.transition),i.transition(d.transition+" in",d.duration)):(f.verbose("Displaying error with fallback javascript animation"),i.fadeIn(d.duration)))},errors:function(e){f.debug("Adding form error messages",e),f.set.error(),t.html(d.templates.error(e))}},remove:{prompt:function(e){var t=f.get.field(e).closest(l),n=t.children(u.prompt);t.removeClass(h.error),d.inline&&n.is(":visible")&&(f.verbose("Removing prompt for field",e),d.transition&&j.fn.transition!==O&&m.transition("is supported")?n.transition(d.transition+" out",d.duration,function(){n.remove()}):n.fadeOut(d.duration,function(){n.remove()}))}},set:{success:function(){m.removeClass(h.error).addClass(h.success)},defaults:function(){n.each(function(){var e=j(this),t=0<e.filter(u.checkbox).length?e.is(":checked"):e.val();e.data(c.defaultValue,t)})},error:function(){m.removeClass(h.success).addClass(h.error)},value:function(e,t){var n={};return n[e]=t,f.set.values.call(g,n)},values:function(e){j.isEmptyObject(e)||j.each(e,function(e,t){var n,i=f.get.field(e),o=i.parent(),r=j.isArray(t),a=o.is(u.uiCheckbox),s=o.is(u.uiDropdown),l=i.is(u.radio)&&a;0<i.length&&(r&&a?(f.verbose("Selecting multiple",t,i),o.checkbox("uncheck"),j.each(t,function(e,t){n=i.filter('[value="'+t+'"]'),o=n.parent(),0<n.length&&o.checkbox("check")})):l?(f.verbose("Selecting radio value",t,i),i.filter('[value="'+t+'"]').parent(u.uiCheckbox).checkbox("check")):a?(f.verbose("Setting checkbox value",t,o),!0===t?o.checkbox("check"):o.checkbox("uncheck")):s?(f.verbose("Setting dropdown value",t,o),o.dropdown("set selected",t)):(f.verbose("Setting field value",t,i),i.val(t)))})}},validate:{form:function(e,t){var n=f.get.values();if(b)return!1;if(v=[],f.is.valid()){if(f.debug("Form has no validation errors, submitting"),f.set.success(),!0!==t)return d.onSuccess.call(g,e,n)}else if(f.debug("Form has errors"),f.set.error(),d.inline||f.add.errors(v),m.data("moduleApi")!==O&&e.stopImmediatePropagation(),!0!==t)return d.onFailure.call(g,v,n)},field:function(n,e){var i=n.identifier||e,t=f.get.field(i),o=!0,r=[];return n.identifier||(f.debug("Using field name as identifier",i),n.identifier=i),t.prop("disabled")?(f.debug("Field is disabled. Skipping",i),o=!0):n.optional&&""===j.trim(t.val())?(f.debug("Field is optional and empty. Skipping",i),o=!0):n.rules!==O&&j.each(n.rules,function(e,t){f.has.field(i)&&!f.validate.rule(n,t)&&(f.debug("Field is invalid",i,t.type),r.push(f.get.prompt(t,n)),o=!1)}),o?(f.remove.prompt(i,r),d.onValid.call(t),!0):(v=v.concat(r),f.add.prompt(i,r),d.onInvalid.call(t,r),!1)},rule:function(e,t){var n=f.get.field(e.identifier),i=(t.type,n.val()),o=f.get.ancillaryValue(t),r=f.get.ruleName(t),a=d.rules[r];if(j.isFunction(a))return i=i===O||""===i||null===i?"":j.trim(i+""),a.call(n,i,o);f.error(s.noRule,r)}},setting:function(e,t){if(j.isPlainObject(e))j.extend(!0,d,e);else{if(t===O)return d[e];d[e]=t}},internal:function(e,t){if(j.isPlainObject(e))j.extend(!0,f,e);else{if(t===O)return f[e];f[e]=t}},debug:function(){d.debug&&(d.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,d.name+":"),f.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,d.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n;d.performance&&(n=(t=(new Date).getTime())-(k||t),k=t,S.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:g,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var e=d.name+":",n=0;k=!1,clearTimeout(f.performance.timer),j.each(S,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",C&&(e+=" '"+C+"'"),1<w.length&&(e+=" ("+w.length+")"),(console.group!==O||console.table!==O)&&0<S.length&&(console.groupCollapsed(e),console.table?console.table(S):j.each(S,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),S=[]}},invoke:function(i,e,t){var o,r,n,a=p;return e=e||A,t=g||t,"string"==typeof i&&a!==O&&(i=i.split(/[\. ]/),o=i.length-1,j.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(j.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==O)return r=a[n],!1;if(!j.isPlainObject(a[t])||e==o)return a[t]!==O&&(r=a[t]),!1;a=a[t]}})),j.isFunction(r)?n=r.apply(t,e):r!==O&&(n=r),j.isArray(x)?x.push(n):x!==O?x=[x,n]:n!==O&&(x=n),r}}).initialize()}),x!==O?x:this},j.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,decimal:/^\d*(\.)\d+/,email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(e){var n='<ul class="list">';return j.each(e,function(e,t){n+="<li>"+t+"</li>"}),j(n+="</ul>")},prompt:function(e){return j("<div/>").addClass("ui basic red pointing prompt label").html(e[0])}},rules:{empty:function(e){return!(e===O||""===e||j.isArray(e)&&0===e.length)},checked:function(){return 0<j(this).filter(":checked").length},email:function(e){return new RegExp(j.fn.form.settings.regExp.email,"i").test(e)},url:function(e){return j.fn.form.settings.regExp.url.test(e)},regExp:function(e,t){var n,i=t.match(j.fn.form.settings.regExp.flags);return i&&(t=2<=i.length?i[1]:t,n=3<=i.length?i[2]:""),e.match(new RegExp(t,n))},integer:function(e,t){var n,i,o,r=j.fn.form.settings.regExp.integer;return t&&-1===["",".."].indexOf(t)&&(-1==t.indexOf("..")?r.test(t)&&(n=i=+t):(o=t.split("..",2),r.test(o[0])&&(n=+o[0]),r.test(o[1])&&(i=+o[1]))),r.test(e)&&(n===O||n<=e)&&(i===O||e<=i)},decimal:function(e){return j.fn.form.settings.regExp.decimal.test(e)},number:function(e){return j.fn.form.settings.regExp.number.test(e)},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,(e="string"==typeof e?e.toLowerCase():e)==t},isExactly:function(e,t){return e==t},not:function(e,t){return(e="string"==typeof e?e.toLowerCase():e)!=(t="string"==typeof t?t.toLowerCase():t)},notExactly:function(e,t){return e!=t},contains:function(e,t){return t=t.replace(j.fn.form.settings.regExp.escape,"\\$&"),-1!==e.search(new RegExp(t,"i"))},containsExactly:function(e,t){return t=t.replace(j.fn.form.settings.regExp.escape,"\\$&"),-1!==e.search(new RegExp(t))},doesntContain:function(e,t){return t=t.replace(j.fn.form.settings.regExp.escape,"\\$&"),-1===e.search(new RegExp(t,"i"))},doesntContainExactly:function(e,t){return t=t.replace(j.fn.form.settings.regExp.escape,"\\$&"),-1===e.search(new RegExp(t))},minLength:function(e,t){return e!==O&&e.length>=t},length:function(e,t){return e!==O&&e.length>=t},exactLength:function(e,t){return e!==O&&e.length==t},maxLength:function(e,t){return e!==O&&e.length<=t},match:function(e,t){var n;j(this);return 0<j('[data-validate="'+t+'"]').length?n=j('[data-validate="'+t+'"]').val():0<j("#"+t).length?n=j("#"+t).val():0<j('[name="'+t+'"]').length?n=j('[name="'+t+'"]').val():0<j('[name="'+t+'[]"]').length&&(n=j('[name="'+t+'[]"]')),n!==O&&e.toString()==n.toString()},different:function(e,t){var n;j(this);return 0<j('[data-validate="'+t+'"]').length?n=j('[data-validate="'+t+'"]').val():0<j("#"+t).length?n=j("#"+t).val():0<j('[name="'+t+'"]').length?n=j('[name="'+t+'"]').val():0<j('[name="'+t+'[]"]').length&&(n=j('[name="'+t+'[]"]')),n!==O&&e.toString()!==n.toString()},creditCard:function(n,e){var t,i,o={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},r={},a=!1,s="string"==typeof e&&e.split(",");if("string"==typeof n&&0!==n.length){if(s&&(j.each(s,function(e,t){(i=o[t])&&(r={length:-1!==j.inArray(n.length,i.length),pattern:-1!==n.search(i.pattern)}).length&&r.pattern&&(a=!0)}),!a))return!1;if((t={number:-1!==j.inArray(n.length,o.unionPay.length),pattern:-1!==n.search(o.unionPay.pattern)}).number&&t.pattern)return!0;for(var l=n.length,c=0,d=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],u=0;l--;)u+=d[c][parseInt(n.charAt(l),10)],c^=1;return u%10==0&&0<u}},minCount:function(e,t){return 0==t||(1==t?""!==e:e.split(",").length>=t)},exactCount:function(e,t){return 0==t?""===e:1==t?""!==e&&-1===e.search(","):e.split(",").length==t},maxCount:function(e,t){return 0!=t&&(1==t?-1===e.search(","):e.split(",").length<=t)}}}}(jQuery,(window,document)),function(k,S,T){"use strict";k.fn.accordion=function(r){var v,a=k(this),b=(new Date).getTime(),y=[],x=r,w="string"==typeof x,C=[].slice.call(arguments,1);S.requestAnimationFrame||S.mozRequestAnimationFrame||S.webkitRequestAnimationFrame||S.msRequestAnimationFrame;return a.each(function(){var e,c,d=k.isPlainObject(r)?k.extend(!0,{},k.fn.accordion.settings,r):k.extend({},k.fn.accordion.settings),u=d.className,t=d.namespace,h=d.selector,s=d.error,n="."+t,i="module-"+t,o=a.selector||"",p=k(this),f=p.find(h.title),m=p.find(h.content),l=this,g=p.data(i);c={initialize:function(){c.debug("Initializing",p),c.bind.events(),d.observeChanges&&c.observeChanges(),c.instantiate()},instantiate:function(){g=c,p.data(i,c)},destroy:function(){c.debug("Destroying previous instance",p),p.off(n).removeData(i)},refresh:function(){f=p.find(h.title),m=p.find(h.content)},observeChanges:function(){"MutationObserver"in S&&((e=new MutationObserver(function(e){c.debug("DOM tree modified, updating selector cache"),c.refresh()})).observe(l,{childList:!0,subtree:!0}),c.debug("Setting up mutation observer",e))},bind:{events:function(){c.debug("Binding delegated events"),p.on(d.on+n,h.trigger,c.event.click)}},event:{click:function(){c.toggle.call(this)}},toggle:function(e){var t=e!==T?"number"==typeof e?f.eq(e):k(e).closest(h.title):k(this).closest(h.title),n=t.next(m),i=n.hasClass(u.animating),o=n.hasClass(u.active),r=o&&!i,a=!o&&i;c.debug("Toggling visibility of content",t),r||a?d.collapsible?c.close.call(t):c.debug("Cannot close accordion content collapsing is disabled"):c.open.call(t)},open:function(e){var t=e!==T?"number"==typeof e?f.eq(e):k(e).closest(h.title):k(this).closest(h.title),n=t.next(m),i=n.hasClass(u.animating);n.hasClass(u.active)||i?c.debug("Accordion already open, skipping",n):(c.debug("Opening accordion content",t),d.onOpening.call(n),d.exclusive&&c.closeOthers.call(t),t.addClass(u.active),n.stop(!0,!0).addClass(u.animating),d.animateChildren&&(k.fn.transition!==T&&p.transition("is supported")?n.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:d.debug,verbose:d.verbose,duration:d.duration}):n.children().stop(!0,!0).animate({opacity:1},d.duration,c.resetOpacity)),n.slideDown(d.duration,d.easing,function(){n.removeClass(u.animating).addClass(u.active),c.reset.display.call(this),d.onOpen.call(this),d.onChange.call(this)}))},close:function(e){var t=e!==T?"number"==typeof e?f.eq(e):k(e).closest(h.title):k(this).closest(h.title),n=t.next(m),i=n.hasClass(u.animating),o=n.hasClass(u.active);!o&&!(!o&&i)||o&&i||(c.debug("Closing accordion content",n),d.onClosing.call(n),t.removeClass(u.active),n.stop(!0,!0).addClass(u.animating),d.animateChildren&&(k.fn.transition!==T&&p.transition("is supported")?n.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:d.debug,verbose:d.verbose,duration:d.duration}):n.children().stop(!0,!0).animate({opacity:0},d.duration,c.resetOpacity)),n.slideUp(d.duration,d.easing,function(){n.removeClass(u.animating).removeClass(u.active),c.reset.display.call(this),d.onClose.call(this),d.onChange.call(this)}))},closeOthers:function(e){var t,n,i,o=e!==T?f.eq(e):k(this).closest(h.title),r=o.parents(h.content).prev(h.title),a=o.closest(h.accordion),s=h.title+"."+u.active+":visible",l=h.content+"."+u.active+":visible";i=d.closeNested?(t=a.find(s).not(r)).next(m):(t=a.find(s).not(r),n=a.find(l).find(s).not(r),(t=t.not(n)).next(m)),0<t.length&&(c.debug("Exclusive enabled, closing other content",t),t.removeClass(u.active),i.removeClass(u.animating).stop(!0,!0),d.animateChildren&&(k.fn.transition!==T&&p.transition("is supported")?i.children().transition({animation:"fade out",useFailSafe:!0,debug:d.debug,verbose:d.verbose,duration:d.duration}):i.children().stop(!0,!0).animate({opacity:0},d.duration,c.resetOpacity)),i.slideUp(d.duration,d.easing,function(){k(this).removeClass(u.active),c.reset.display.call(this)}))},reset:{display:function(){c.verbose("Removing inline display from element",this),k(this).css("display",""),""===k(this).attr("style")&&k(this).attr("style","").removeAttr("style")},opacity:function(){c.verbose("Removing inline opacity from element",this),k(this).css("opacity",""),""===k(this).attr("style")&&k(this).attr("style","").removeAttr("style")}},setting:function(e,t){if(c.debug("Changing setting",e,t),k.isPlainObject(e))k.extend(!0,d,e);else{if(t===T)return d[e];d[e]=t}},internal:function(e,t){if(c.debug("Changing internal",e,t),t===T)return c[e];k.isPlainObject(e)?k.extend(!0,c,e):c[e]=t},debug:function(){d.debug&&(d.performance?c.performance.log(arguments):(c.debug=Function.prototype.bind.call(console.info,console,d.name+":"),c.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?c.performance.log(arguments):(c.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),c.verbose.apply(console,arguments)))},error:function(){c.error=Function.prototype.bind.call(console.error,console,d.name+":"),c.error.apply(console,arguments)},performance:{log:function(e){var t,n;d.performance&&(n=(t=(new Date).getTime())-(b||t),b=t,y.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:l,"Execution Time":n})),clearTimeout(c.performance.timer),c.performance.timer=setTimeout(c.performance.display,500)},display:function(){var e=d.name+":",n=0;b=!1,clearTimeout(c.performance.timer),k.each(y,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",o&&(e+=" '"+o+"'"),(console.group!==T||console.table!==T)&&0<y.length&&(console.groupCollapsed(e),console.table?console.table(y):k.each(y,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),y=[]}},invoke:function(i,e,t){var o,r,n,a=g;return e=e||C,t=l||t,"string"==typeof i&&a!==T&&(i=i.split(/[\. ]/),o=i.length-1,k.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(k.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==T)return r=a[n],!1;if(!k.isPlainObject(a[t])||e==o)return a[t]!==T?r=a[t]:c.error(s.method,i),!1;a=a[t]}})),k.isFunction(r)?n=r.apply(t,e):r!==T&&(n=r),k.isArray(v)?v.push(n):v!==T?v=[v,n]:n!==T&&(v=n),r}},w?(g===T&&c.initialize(),c.invoke(x)):(g!==T&&g.invoke("destroy"),c.initialize())}),v!==T?v:this},k.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},k.extend(k.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,void document),function(T,E,_,A){"use strict";T.fn.checkbox=function(v){var b,e=T(this),y=e.selector||"",x=(new Date).getTime(),w=[],C=v,k="string"==typeof C,S=[].slice.call(arguments,1);return e.each(function(){var e,s,i=T.extend(!0,{},T.fn.checkbox.settings,v),t=i.className,n=i.namespace,o=i.selector,l=i.error,r="."+n,a="module-"+n,c=T(this),d=T(this).children(o.label),u=T(this).children(o.input),h=u[0],p=!1,f=!1,m=c.data(a),g=this;s={initialize:function(){s.verbose("Initializing checkbox",i),s.create.label(),s.bind.events(),s.set.tabbable(),s.hide.input(),s.observeChanges(),s.instantiate(),s.setup()},instantiate:function(){s.verbose("Storing instance of module",s),m=s,c.data(a,s)},destroy:function(){s.verbose("Destroying module"),s.unbind.events(),s.show.input(),c.removeData(a)},fix:{reference:function(){c.is(o.input)&&(s.debug("Behavior called on <input> adjusting invoked element"),c=c.closest(o.checkbox),s.refresh())}},setup:function(){s.set.initialLoad(),s.is.indeterminate()?(s.debug("Initial value is indeterminate"),s.indeterminate()):s.is.checked()?(s.debug("Initial value is checked"),s.check()):(s.debug("Initial value is unchecked"),s.uncheck()),s.remove.initialLoad()},refresh:function(){d=c.children(o.label),u=c.children(o.input),h=u[0]},hide:{input:function(){s.verbose("Modfying <input> z-index to be unselectable"),u.addClass(t.hidden)}},show:{input:function(){s.verbose("Modfying <input> z-index to be selectable"),u.removeClass(t.hidden)}},observeChanges:function(){"MutationObserver"in E&&((e=new MutationObserver(function(e){s.debug("DOM tree modified, updating selector cache"),s.refresh()})).observe(g,{childList:!0,subtree:!0}),s.debug("Setting up mutation observer",e))},attachEvents:function(e,t){var n=T(e);t=T.isFunction(s[t])?s[t]:s.toggle,0<n.length?(s.debug("Attaching checkbox events to element",e,t),n.on("click"+r,t)):s.error(l.notFound)},event:{click:function(e){var t=T(e.target);t.is(o.input)?s.verbose("Using default check action on initialized checkbox"):t.is(o.link)?s.debug("Clicking link inside checkbox, skipping toggle"):(s.toggle(),u.focus(),e.preventDefault())},keydown:function(e){var t=e.which,n=13,i=32;f=t==27?(s.verbose("Escape key pressed blurring field"),u.blur(),!0):!(e.ctrlKey||t!=i&&t!=n)&&(s.verbose("Enter/space key pressed, toggling checkbox"),s.toggle(),!0)},keyup:function(e){f&&e.preventDefault()}},check:function(){s.should.allowCheck()&&(s.debug("Checking checkbox",u),s.set.checked(),s.should.ignoreCallbacks()||(i.onChecked.call(h),i.onChange.call(h)))},uncheck:function(){s.should.allowUncheck()&&(s.debug("Unchecking checkbox"),s.set.unchecked(),s.should.ignoreCallbacks()||(i.onUnchecked.call(h),i.onChange.call(h)))},indeterminate:function(){s.should.allowIndeterminate()?s.debug("Checkbox is already indeterminate"):(s.debug("Making checkbox indeterminate"),s.set.indeterminate(),s.should.ignoreCallbacks()||(i.onIndeterminate.call(h),i.onChange.call(h)))},determinate:function(){s.should.allowDeterminate()?s.debug("Checkbox is already determinate"):(s.debug("Making checkbox determinate"),s.set.determinate(),s.should.ignoreCallbacks()||(i.onDeterminate.call(h),i.onChange.call(h)))},enable:function(){s.is.enabled()?s.debug("Checkbox is already enabled"):(s.debug("Enabling checkbox"),s.set.enabled(),i.onEnable.call(h))},disable:function(){s.is.disabled()?s.debug("Checkbox is already disabled"):(s.debug("Disabling checkbox"),s.set.disabled(),i.onDisable.call(h))},get:{radios:function(){var e=s.get.name();return T('input[name="'+e+'"]').closest(o.checkbox)},otherRadios:function(){return s.get.radios().not(c)},name:function(){return u.attr("name")}},is:{initialLoad:function(){return p},radio:function(){return u.hasClass(t.radio)||"radio"==u.attr("type")},indeterminate:function(){return u.prop("indeterminate")!==A&&u.prop("indeterminate")},checked:function(){return u.prop("checked")!==A&&u.prop("checked")},disabled:function(){return u.prop("disabled")!==A&&u.prop("disabled")},enabled:function(){return!s.is.disabled()},determinate:function(){return!s.is.indeterminate()},unchecked:function(){return!s.is.checked()}},should:{allowCheck:function(){return s.is.determinate()&&s.is.checked()&&!s.should.forceCallbacks()?(s.debug("Should not allow check, checkbox is already checked"),!1):!1!==i.beforeChecked.apply(h)||(s.debug("Should not allow check, beforeChecked cancelled"),!1)},allowUncheck:function(){return s.is.determinate()&&s.is.unchecked()&&!s.should.forceCallbacks()?(s.debug("Should not allow uncheck, checkbox is already unchecked"),!1):!1!==i.beforeUnchecked.apply(h)||(s.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1)},allowIndeterminate:function(){return s.is.indeterminate()&&!s.should.forceCallbacks()?(s.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):!1!==i.beforeIndeterminate.apply(h)||(s.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1)},allowDeterminate:function(){return s.is.determinate()&&!s.should.forceCallbacks()?(s.debug("Should not allow determinate, checkbox is already determinate"),!1):!1!==i.beforeDeterminate.apply(h)||(s.debug("Should not allow determinate, beforeDeterminate cancelled"),!1)},forceCallbacks:function(){return s.is.initialLoad()&&i.fireOnInit},ignoreCallbacks:function(){return p&&!i.fireOnInit}},can:{change:function(){return!(c.hasClass(t.disabled)||c.hasClass(t.readOnly)||u.prop("disabled")||u.prop("readonly"))},uncheck:function(){return"boolean"==typeof i.uncheckable?i.uncheckable:!s.is.radio()}},set:{initialLoad:function(){p=!0},checked:function(){s.verbose("Setting class to checked"),c.removeClass(t.indeterminate).addClass(t.checked),s.is.radio()&&s.uncheckOthers(),s.is.indeterminate()||!s.is.checked()?(s.verbose("Setting state to checked",h),u.prop("indeterminate",!1).prop("checked",!0),s.trigger.change()):s.debug("Input is already checked, skipping input property change")},unchecked:function(){s.verbose("Removing checked class"),c.removeClass(t.indeterminate).removeClass(t.checked),s.is.indeterminate()||!s.is.unchecked()?(s.debug("Setting state to unchecked"),u.prop("indeterminate",!1).prop("checked",!1),s.trigger.change()):s.debug("Input is already unchecked")},indeterminate:function(){s.verbose("Setting class to indeterminate"),c.addClass(t.indeterminate),s.is.indeterminate()?s.debug("Input is already indeterminate, skipping input property change"):(s.debug("Setting state to indeterminate"),u.prop("indeterminate",!0),s.trigger.change())},determinate:function(){s.verbose("Removing indeterminate class"),c.removeClass(t.indeterminate),s.is.determinate()?s.debug("Input is already determinate, skipping input property change"):(s.debug("Setting state to determinate"),u.prop("indeterminate",!1))},disabled:function(){s.verbose("Setting class to disabled"),c.addClass(t.disabled),s.is.disabled()?s.debug("Input is already disabled, skipping input property change"):(s.debug("Setting state to disabled"),u.prop("disabled","disabled"),s.trigger.change())},enabled:function(){s.verbose("Removing disabled class"),c.removeClass(t.disabled),s.is.enabled()?s.debug("Input is already enabled, skipping input property change"):(s.debug("Setting state to enabled"),u.prop("disabled",!1),s.trigger.change())},tabbable:function(){s.verbose("Adding tabindex to checkbox"),u.attr("tabindex")===A&&u.attr("tabindex",0)}},remove:{initialLoad:function(){p=!1}},trigger:{change:function(){var e=_.createEvent("HTMLEvents"),t=u[0];t&&(s.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},create:{label:function(){0<u.prevAll(o.label).length?(u.prev(o.label).detach().insertAfter(u),s.debug("Moving existing label",d)):s.has.label()||(d=T("<label>").insertAfter(u),s.debug("Creating label",d))}},has:{label:function(){return 0<d.length}},bind:{events:function(){s.verbose("Attaching checkbox events"),c.on("click"+r,s.event.click).on("keydown"+r,o.input,s.event.keydown).on("keyup"+r,o.input,s.event.keyup)}},unbind:{events:function(){s.debug("Removing events"),c.off(r)}},uncheckOthers:function(){var e=s.get.otherRadios();s.debug("Unchecking other radios",e),e.removeClass(t.checked)},toggle:function(){s.can.change()?s.is.indeterminate()||s.is.unchecked()?(s.debug("Currently unchecked"),s.check()):s.is.checked()&&s.can.uncheck()&&(s.debug("Currently checked"),s.uncheck()):s.is.radio()||s.debug("Checkbox is read-only or disabled, ignoring toggle")},setting:function(e,t){if(s.debug("Changing setting",e,t),T.isPlainObject(e))T.extend(!0,i,e);else{if(t===A)return i[e];i[e]=t}},internal:function(e,t){if(T.isPlainObject(e))T.extend(!0,s,e);else{if(t===A)return s[e];s[e]=t}},debug:function(){i.debug&&(i.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,i.name+":"),s.debug.apply(console,arguments)))},verbose:function(){i.verbose&&i.debug&&(i.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,i.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,i.name+":"),s.error.apply(console,arguments)},performance:{log:function(e){var t,n;i.performance&&(n=(t=(new Date).getTime())-(x||t),x=t,w.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:g,"Execution Time":n})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var e=i.name+":",n=0;x=!1,clearTimeout(s.performance.timer),T.each(w,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",y&&(e+=" '"+y+"'"),(console.group!==A||console.table!==A)&&0<w.length&&(console.groupCollapsed(e),console.table?console.table(w):T.each(w,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),w=[]}},invoke:function(i,e,t){var o,r,n,a=m;return e=e||S,t=g||t,"string"==typeof i&&a!==A&&(i=i.split(/[\. ]/),o=i.length-1,T.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(T.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==A)return r=a[n],!1;if(!T.isPlainObject(a[t])||e==o)return a[t]!==A?r=a[t]:s.error(l.method,i),!1;a=a[t]}})),T.isFunction(r)?n=r.apply(t,e):r!==A&&(n=r),T.isArray(b)?b.push(n):b!==A?b=[b,n]:n!==A&&(b=n),r}},k?(m===A&&s.initialize(),s.invoke(C)):(m!==A&&m.invoke("destroy"),s.initialize())}),b!==A?b:this},T.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnabled:function(){},onDisabled:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(k,S,T){"use strict";k.fn.dimmer=function(m){var g,v=k(this),b=(new Date).getTime(),y=[],x=m,w="string"==typeof x,C=[].slice.call(arguments,1);return v.each(function(){var o,t,s,r=k.isPlainObject(m)?k.extend(!0,{},k.fn.dimmer.settings,m):k.extend({},k.fn.dimmer.settings),n=r.selector,e=r.namespace,i=r.className,l=r.error,a="."+e,c="module-"+e,d=v.selector||"",u="ontouchstart"in S.documentElement?"touchstart":"click",h=k(this),p=this,f=h.data(c);(s={preinitialize:function(){o=s.is.dimmer()?(t=h.parent(),h):(t=h,s.has.dimmer()?r.dimmerName?t.find(n.dimmer).filter("."+r.dimmerName):t.find(n.dimmer):s.create())},initialize:function(){s.debug("Initializing dimmer",r),s.bind.events(),s.set.dimmable(),s.instantiate()},instantiate:function(){s.verbose("Storing instance of module",s),f=s,h.data(c,f)},destroy:function(){s.verbose("Destroying previous module",o),s.unbind.events(),s.remove.variation(),t.off(a)},bind:{events:function(){"hover"==r.on?t.on("mouseenter"+a,s.show).on("mouseleave"+a,s.hide):"click"==r.on&&t.on(u+a,s.toggle),s.is.page()&&(s.debug("Setting as a page dimmer",t),s.set.pageDimmer()),s.is.closable()&&(s.verbose("Adding dimmer close event",o),t.on(u+a,n.dimmer,s.event.click))}},unbind:{events:function(){h.removeData(c)}},event:{click:function(e){s.verbose("Determining if event occured on dimmer",e),0!==o.find(e.target).length&&!k(e.target).is(n.content)||(s.hide(),e.stopImmediatePropagation())}},addContent:function(e){var t=k(e);s.debug("Add content to dimmer",t),t.parent()[0]!==o[0]&&t.detach().appendTo(o)},create:function(){var e=k(r.template.dimmer());return r.variation&&(s.debug("Creating dimmer with variation",r.variation),e.addClass(r.variation)),r.dimmerName&&(s.debug("Creating named dimmer",r.dimmerName),e.addClass(r.dimmerName)),e.appendTo(t),e},show:function(e){e=k.isFunction(e)?e:function(){},s.debug("Showing dimmer",o,r),s.is.dimmed()&&!s.is.animating()||!s.is.enabled()?s.debug("Dimmer is already shown or disabled"):(s.animate.show(e),r.onShow.call(p),r.onChange.call(p))},hide:function(e){e=k.isFunction(e)?e:function(){},s.is.dimmed()||s.is.animating()?(s.debug("Hiding dimmer",o),s.animate.hide(e),r.onHide.call(p),r.onChange.call(p)):s.debug("Dimmer is not visible")},toggle:function(){s.verbose("Toggling dimmer visibility",o),s.is.dimmed()?s.hide():s.show()},animate:{show:function(e){e=k.isFunction(e)?e:function(){},r.useCSS&&k.fn.transition!==T&&o.transition("is supported")?("auto"!==r.opacity&&s.set.opacity(),o.transition({animation:r.transition+" in",queue:!1,duration:s.get.duration(),useFailSafe:!0,onStart:function(){s.set.dimmed()},onComplete:function(){s.set.active(),e()}})):(s.verbose("Showing dimmer animation with javascript"),s.set.dimmed(),"auto"==r.opacity&&(r.opacity=.8),o.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(s.get.duration(),r.opacity,function(){o.removeAttr("style"),s.set.active(),e()}))},hide:function(e){e=k.isFunction(e)?e:function(){},r.useCSS&&k.fn.transition!==T&&o.transition("is supported")?(s.verbose("Hiding dimmer with css"),o.transition({animation:r.transition+" out",queue:!1,duration:s.get.duration(),useFailSafe:!0,onStart:function(){s.remove.dimmed()},onComplete:function(){s.remove.active(),e()}})):(s.verbose("Hiding dimmer with javascript"),s.remove.dimmed(),o.stop().fadeOut(s.get.duration(),function(){s.remove.active(),o.removeAttr("style"),e()}))}},get:{dimmer:function(){return o},duration:function(){return"object"==typeof r.duration?s.is.active()?r.duration.hide:r.duration.show:r.duration}},has:{dimmer:function(){return r.dimmerName?0<h.find(n.dimmer).filter("."+r.dimmerName).length:0<h.find(n.dimmer).length}},is:{active:function(){return o.hasClass(i.active)},animating:function(){return o.is(":animated")||o.hasClass(i.animating)},closable:function(){return"auto"==r.closable?"hover"!=r.on:r.closable},dimmer:function(){return h.hasClass(i.dimmer)},dimmable:function(){return h.hasClass(i.dimmable)},dimmed:function(){return t.hasClass(i.dimmed)},disabled:function(){return t.hasClass(i.disabled)},enabled:function(){return!s.is.disabled()},page:function(){return t.is("body")},pageDimmer:function(){return o.hasClass(i.pageDimmer)}},can:{show:function(){return!o.hasClass(i.disabled)}},set:{opacity:function(e){var t=o.css("background-color"),n=t.split(","),i=n&&4==n.length;e=0===r.opacity?0:r.opacity||e,t=i?(n[3]=e+")",n.join(",")):"rgba(0, 0, 0, "+e+")",s.debug("Setting opacity to",e),o.css("background-color",t)},active:function(){o.addClass(i.active)},dimmable:function(){t.addClass(i.dimmable)},dimmed:function(){t.addClass(i.dimmed)},pageDimmer:function(){o.addClass(i.pageDimmer)},disabled:function(){o.addClass(i.disabled)},variation:function(e){(e=e||r.variation)&&o.addClass(e)}},remove:{active:function(){o.removeClass(i.active)},dimmed:function(){t.removeClass(i.dimmed)},disabled:function(){o.removeClass(i.disabled)},variation:function(e){(e=e||r.variation)&&o.removeClass(e)}},setting:function(e,t){if(s.debug("Changing setting",e,t),k.isPlainObject(e))k.extend(!0,r,e);else{if(t===T)return r[e];r[e]=t}},internal:function(e,t){if(k.isPlainObject(e))k.extend(!0,s,e);else{if(t===T)return s[e];s[e]=t}},debug:function(){r.debug&&(r.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,r.name+":"),s.debug.apply(console,arguments)))},verbose:function(){r.verbose&&r.debug&&(r.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,r.name+":"),s.error.apply(console,arguments)},performance:{log:function(e){var t,n;r.performance&&(n=(t=(new Date).getTime())-(b||t),b=t,y.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:p,"Execution Time":n})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var e=r.name+":",n=0;b=!1,clearTimeout(s.performance.timer),k.each(y,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",d&&(e+=" '"+d+"'"),1<v.length&&(e+=" ("+v.length+")"),(console.group!==T||console.table!==T)&&0<y.length&&(console.groupCollapsed(e),console.table?console.table(y):k.each(y,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),y=[]}},invoke:function(i,e,t){var o,r,n,a=f;return e=e||C,t=p||t,"string"==typeof i&&a!==T&&(i=i.split(/[\. ]/),o=i.length-1,k.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(k.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==T)return r=a[n],!1;if(!k.isPlainObject(a[t])||e==o)return a[t]!==T?r=a[t]:s.error(l.method,i),!1;a=a[t]}})),k.isFunction(r)?n=r.apply(t,e):r!==T&&(n=r),k.isArray(g)?g.push(n):g!==T?g=[g,n]:n!==T&&(g=n),r}}).preinitialize(),w?(f===T&&s.initialize(),s.invoke(x)):(f!==T&&f.invoke("destroy"),s.initialize())}),g!==T?g:this},k.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return k("<div />").attr("class","ui dimmer")}}}}(jQuery,(window,document)),function(U,W,X,Y){"use strict";U.fn.dropdown=function(N){var R,L=U(this),M=U(X),F=L.selector||"",q="ontouchstart"in X.documentElement,z=(new Date).getTime(),H=[],B=N,$="string"==typeof B,V=[].slice.call(arguments,1);return L.each(function(n){var e,t,i,o,r,a,f,m=U.isPlainObject(N)?U.extend(!0,{},U.fn.dropdown.settings,N):U.extend({},U.fn.dropdown.settings),g=m.className,c=m.message,s=m.fields,v=m.keys,b=m.metadata,l=m.namespace,d=m.regExp,y=m.selector,u=m.error,h=m.templates,p="."+l,x="module-"+l,w=U(this),C=U(m.context),k=w.find(y.text),S=w.find(y.search),T=w.find(y.input),E=(w.find(y.icon),0<w.prev().find(y.text).length?w.prev().find(y.text):w.prev()),_=w.children(y.menu),A=_.find(y.item),j=!1,P=!1,O=!1,D=this,I=w.data(x);f={initialize:function(){f.debug("Initializing dropdown",m),f.is.alreadySetup()?f.setup.reference():(f.setup.layout(),f.refreshData(),f.save.defaults(),f.restore.selected(),f.create.id(),f.bind.events(),f.observeChanges(),f.instantiate())},instantiate:function(){f.verbose("Storing instance of dropdown",f),I=f,w.data(x,f)},destroy:function(){f.verbose("Destroying previous dropdown",w),f.remove.tabbable(),w.off(p).removeData(x),_.off(p),M.off(i),r&&r.disconnect(),a&&a.disconnect()},observeChanges:function(){"MutationObserver"in W&&(r=new MutationObserver(function(e){f.debug("<select> modified, recreating menu"),f.setup.select()}),a=new MutationObserver(function(e){f.debug("Menu modified, updating selector cache"),f.refresh()}),f.has.input()&&r.observe(T[0],{childList:!0,subtree:!0}),f.has.menu()&&a.observe(_[0],{childList:!0,subtree:!0}),f.debug("Setting up mutation observer",r,a))},create:{id:function(){o=(Math.random().toString(16)+"000000000").substr(2,8),i="."+o,f.verbose("Creating unique id for element",o)},userChoice:function(e){var n,i,o;return!!(e=e||f.get.userValues())&&(e=U.isArray(e)?e:[e],U.each(e,function(e,t){!1===f.get.item(t)&&(o=m.templates.addition(f.add.variables(c.addResult,t)),i=U("<div />").html(o).attr("data-"+b.value,t).attr("data-"+b.text,t).addClass(g.addition).addClass(g.item),n=n===Y?i:n.add(i),f.verbose("Creating user choices for value",t,i))}),n)},userLabels:function(e){var t=f.get.userValues();t&&(f.debug("Adding user labels",t),U.each(t,function(e,t){f.verbose("Adding custom user value"),f.add.label(t,t)}))},menu:function(){_=U("<div />").addClass(g.menu).appendTo(w)}},search:function(e){e=e!==Y?e:f.get.query(),f.verbose("Searching for query",e),f.filter(e)},select:{firstUnfiltered:function(){f.verbose("Selecting first non-filtered element"),f.remove.selectedItem(),A.not(y.unselectable).eq(0).addClass(g.selected)},nextAvailable:function(e){var t=(e=e.eq(0)).nextAll(y.item).not(y.unselectable).eq(0),n=e.prevAll(y.item).not(y.unselectable).eq(0);0<t.length?(f.verbose("Moving selection to",t),t.addClass(g.selected)):(f.verbose("Moving selection to",n),n.addClass(g.selected))}},setup:{api:function(){var e={debug:m.debug,on:!1};f.verbose("First request, initializing API"),w.api(e)},layout:function(){w.is("select")&&(f.setup.select(),f.setup.returnedObject()),f.has.menu()||f.create.menu(),f.is.search()&&!f.has.search()&&(f.verbose("Adding search input"),S=U("<input />").addClass(g.search).prop("autocomplete","off").insertBefore(k)),m.allowTab&&f.set.tabbable()},select:function(){var e=f.get.selectValues();f.debug("Dropdown initialized on a select",e),w.is("select")&&(T=w),0<T.parent(y.dropdown).length?(f.debug("UI dropdown already exists. Creating dropdown menu only"),w=T.closest(y.dropdown),f.has.menu()||f.create.menu(),_=w.children(y.menu),f.setup.menu(e)):(f.debug("Creating entire dropdown from select"),w=U("<div />").attr("class",T.attr("class")).addClass(g.selection).addClass(g.dropdown).html(h.dropdown(e)).insertBefore(T),T.hasClass(g.multiple)&&!1===T.prop("multiple")&&(f.error(u.missingMultiple),T.prop("multiple",!0)),T.is("[multiple]")&&f.set.multiple(),T.prop("disabled")&&(f.debug("Disabling dropdown"),w.addClass(g.disabled)),T.removeAttr("class").detach().prependTo(w)),f.refresh()},menu:function(e){_.html(h.menu(e,s)),A=_.find(y.item)},reference:function(){f.debug("Dropdown behavior was called on select, replacing with closest dropdown"),w=w.parent(y.dropdown),f.refresh(),f.setup.returnedObject(),$&&(I=f).invoke(B)},returnedObject:function(){var e=L.slice(0,n),t=L.slice(n+1);L=e.add(w).add(t)}},refresh:function(){f.refreshSelectors(),f.refreshData()},refreshSelectors:function(){f.verbose("Refreshing selector cache"),k=w.find(y.text),S=w.find(y.search),T=w.find(y.input),w.find(y.icon),E=0<w.prev().find(y.text).length?w.prev().find(y.text):w.prev(),_=w.children(y.menu),A=_.find(y.item)},refreshData:function(){f.verbose("Refreshing cached metadata"),A.removeData(b.text).removeData(b.value),w.removeData(b.defaultText).removeData(b.defaultValue).removeData(b.placeholderText)},toggle:function(){f.verbose("Toggling menu visibility"),f.is.active()?f.hide():f.show()},show:function(e){if(e=U.isFunction(e)?e:function(){},f.can.show()&&!f.is.active()){if(f.debug("Showing dropdown"),f.is.multiple()&&!f.has.search()&&f.is.allFiltered())return!0;!f.has.message()||f.has.maxSelections()||f.has.allResultsFiltered()||f.remove.message(),!1!==m.onShow.call(D)&&f.animate.show(function(){f.can.click()&&f.bind.intent(),f.set.visible(),e.call(D)})}},hide:function(e){e=U.isFunction(e)?e:function(){},f.is.active()&&(f.debug("Hiding dropdown"),!1!==m.onHide.call(D)&&f.animate.hide(function(){f.remove.visible(),e.call(D)}))},hideOthers:function(){f.verbose("Finding other dropdowns to hide"),L.not(w).has(y.menu+"."+g.visible).dropdown("hide")},hideMenu:function(){f.verbose("Hiding menu  instantaneously"),f.remove.active(),f.remove.visible(),_.transition("hide")},hideSubMenus:function(){var e=_.children(y.item).find(y.menu);f.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){q&&f.bind.touchEvents(),f.bind.keyboardEvents(),f.bind.inputEvents(),f.bind.mouseEvents()},touchEvents:function(){f.debug("Touch device detected binding additional touch events"),f.is.searchSelection()||f.is.single()&&w.on("touchstart"+p,f.event.test.toggle),_.on("touchstart"+p,y.item,f.event.item.mouseenter)},keyboardEvents:function(){f.verbose("Binding keyboard events"),w.on("keydown"+p,f.event.keydown),f.has.search()&&w.on(f.get.inputEvent()+p,y.search,f.event.input),f.is.multiple()&&M.on("keydown"+i,f.event.document.keydown)},inputEvents:function(){f.verbose("Binding input change events"),w.on("change"+p,y.input,f.event.change)},mouseEvents:function(){f.verbose("Binding mouse events"),f.is.multiple()&&w.on("click"+p,y.label,f.event.label.click).on("click"+p,y.remove,f.event.remove.click),f.is.searchSelection()?(w.on("mousedown"+p,y.menu,f.event.menu.mousedown).on("mouseup"+p,y.menu,f.event.menu.mouseup).on("click"+p,y.icon,f.event.icon.click).on("click"+p,y.search,f.show).on("focus"+p,y.search,f.event.search.focus).on("blur"+p,y.search,f.event.search.blur).on("click"+p,y.text,f.event.text.focus),f.is.multiple()&&w.on("click"+p,f.event.click)):("click"==m.on?w.on("click"+p,y.icon,f.event.icon.click).on("click"+p,f.event.test.toggle):"hover"==m.on?w.on("mouseenter"+p,f.delay.show).on("mouseleave"+p,f.delay.hide):w.on(m.on+p,f.toggle),w.on("mousedown"+p,f.event.mousedown).on("mouseup"+p,f.event.mouseup).on("focus"+p,f.event.focus).on("blur"+p,f.event.blur)),_.on("mouseenter"+p,y.item,f.event.item.mouseenter).on("mouseleave"+p,y.item,f.event.item.mouseleave).on("click"+p,y.item,f.event.item.click)},intent:function(){f.verbose("Binding hide intent event to document"),q&&M.on("touchstart"+i,f.event.test.touch).on("touchmove"+i,f.event.test.touch),M.on("click"+i,f.event.test.hide)}},unbind:{intent:function(){f.verbose("Removing hide intent event from document"),q&&M.off("touchstart"+i).off("touchmove"+i),M.off("click"+i)}},filter:function(e){function t(){f.is.multiple()&&f.filterActive(),f.select.firstUnfiltered(),f.has.allResultsFiltered()?m.onNoResults.call(D,n)?m.allowAdditions||(f.verbose("All items filtered, showing message",n),f.add.message(c.noResults)):(f.verbose("All items filtered, hiding dropdown",n),f.hideMenu()):f.remove.message(),m.allowAdditions&&f.add.userSuggestion(e),f.is.searchSelection()&&f.can.show()&&f.is.focusedOnSearch()&&f.show()}var n=e!==Y?e:f.get.query();m.useLabels&&f.has.maxSelections()||(m.apiSettings?f.can.useAPI()?f.queryRemote(n,function(){t()}):f.error(u.noAPI):(f.filterItems(n),t()))},queryRemote:function(e,t){var n={errorDuration:!1,throttle:m.throttle,urlData:{query:e},onError:function(){f.add.message(c.serverError),t()},onFailure:function(){f.add.message(c.serverError),t()},onSuccess:function(e){f.remove.message(),f.setup.menu({values:e[s.remoteValues]}),t()}};w.api("get request")||f.setup.api(),n=U.extend(!0,{},n,m.apiSettings),w.api("setting",n).api("query")},filterItems:function(e){var i=e!==Y?e:f.get.query(),o=null,t=f.escape.regExp(i),r=new RegExp("^"+t,"igm");f.has.query()&&(o=[],f.verbose("Searching for matching values",i),A.each(function(){var e,t,n=U(this);if("both"==m.match||"text"==m.match){if(-1!==(e=String(f.get.choiceText(n,!1))).search(r))return o.push(this),!0;if(m.fullTextSearch&&f.fuzzySearch(i,e))return o.push(this),!0}if("both"==m.match||"value"==m.match){if(-1!==(t=String(f.get.choiceValue(n,e))).search(r))return o.push(this),!0;if(m.fullTextSearch&&f.fuzzySearch(i,t))return o.push(this),!0}})),f.debug("Showing only matched items",i),f.remove.filteredItem(),o&&A.not(o).addClass(g.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),n<i)return!1;if(i===n)return e===t;e:for(var o=0,r=0;o<i;o++){for(var a=e.charCodeAt(o);r<n;)if(t.charCodeAt(r++)===a)continue e;return!1}return!0},filterActive:function(){m.useLabels&&A.filter("."+g.active).addClass(g.filtered)},focusSearch:function(){f.is.search()&&!f.is.focusedOnSearch()&&S[0].focus()},forceSelection:function(){var e=A.not(g.filtered).filter("."+g.selected).eq(0),t=A.not(g.filtered).filter("."+g.active).eq(0),n=0<e.length?e:t,i=0<n.size();if(f.has.query()){if(i)return f.debug("Forcing partial selection to selected item",n),void f.event.item.click.call(n);f.remove.searchTerm()}f.hide()},event:{change:function(){O||(f.debug("Input changed, updating selection"),f.set.selected())},focus:function(){m.showOnFocus&&!j&&f.is.hidden()&&!t&&f.show()},click:function(e){U(e.target).is(w)&&!f.is.focusedOnSearch()&&f.focusSearch()},blur:function(e){t=X.activeElement===this,j||t||(f.remove.activeLabel(),f.hide())},mousedown:function(){j=!0},mouseup:function(){j=!1},search:{focus:function(){j=!0,f.is.multiple()&&f.remove.activeLabel(),m.showOnFocus&&(f.search(),f.show())},blur:function(e){t=X.activeElement===this,P||t?t&&m.forceSelection&&f.forceSelection():f.is.multiple()?(f.remove.activeLabel(),f.hide()):m.forceSelection?f.forceSelection():f.hide()}},icon:{click:function(e){f.toggle(),e.stopPropagation()}},text:{focus:function(e){j=!0,f.focusSearch()}},input:function(e){(f.is.multiple()||f.is.searchSelection())&&f.set.filtered(),clearTimeout(f.timer),f.timer=setTimeout(f.search,m.delay.search)},label:{click:function(e){var t=U(this),n=w.find(y.label),i=n.filter("."+g.active),o=t.nextAll("."+g.active),r=t.prevAll("."+g.active),a=0<o.length?t.nextUntil(o).add(i).add(t):t.prevUntil(r).add(i).add(t);e.shiftKey?(i.removeClass(g.active),a.addClass(g.active)):e.ctrlKey?t.toggleClass(g.active):(i.removeClass(g.active),t.addClass(g.active)),m.onLabelSelect.apply(this,n.filter("."+g.active))}},remove:{click:function(){var e=U(this).parent();e.hasClass(g.active)?f.remove.activeLabels():f.remove.activeLabels(e)}},test:{toggle:function(e){var t=f.is.multiple()?f.show:f.toggle;f.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){f.determine.eventOnElement(e,function(){"touchstart"==e.type?f.timer=setTimeout(function(){f.hide()},m.delay.touch):"touchmove"==e.type&&clearTimeout(f.timer)}),e.stopPropagation()},hide:function(e){f.determine.eventInModule(e,f.hide)}},menu:{mousedown:function(){P=!0},mouseup:function(){P=!1}},item:{mouseenter:function(e){var t=U(this).children(y.menu),n=U(this).siblings(y.item).children(y.menu);0<t.length&&(clearTimeout(f.itemTimer),f.itemTimer=setTimeout(function(){f.verbose("Showing sub-menu",t),U.each(n,function(){f.animate.hide(!1,U(this))}),f.animate.show(!1,t)},m.delay.show),e.preventDefault())},mouseleave:function(e){var t=U(this).children(y.menu);0<t.length&&(clearTimeout(f.itemTimer),f.itemTimer=setTimeout(function(){f.verbose("Hiding sub-menu",t),f.animate.hide(!1,t)},m.delay.hide))},touchend:function(){},click:function(e){var t=U(this),n=U(e?e.target:""),i=t.find(y.menu),o=f.get.choiceText(t),r=f.get.choiceValue(t,o),a=0<i.length;0<i.find(n).length||a&&!m.allowCategorySelection||(m.useLabels||(f.remove.filteredItem(),f.remove.searchTerm(),f.set.scrollPosition(t)),f.determine.selectAction.call(this,o,r))}},document:{keydown:function(e){var t=e.which;if(f.is.inObject(t,v)){var n=w.find(y.label),i=n.filter("."+g.active),o=(i.data(b.value),n.index(i)),r=n.length,a=0<i.length,s=1<i.length,l=0===o,c=o+1==r,d=f.is.searchSelection(),u=f.is.focusedOnSearch(),h=f.is.focused(),p=u&&0===f.get.caretPosition();if(d&&!a&&!u)return;t==v.leftArrow?!h&&!p||a?a&&(e.shiftKey?f.verbose("Adding previous label to selection"):(f.verbose("Selecting previous label"),n.removeClass(g.active)),l&&!s?i.addClass(g.active):i.prev(y.siblingLabel).addClass(g.active).end(),e.preventDefault()):(f.verbose("Selecting previous label"),n.last().addClass(g.active)):t==v.rightArrow?(h&&!a&&n.first().addClass(g.active),a&&(e.shiftKey?f.verbose("Adding next label to selection"):(f.verbose("Selecting next label"),n.removeClass(g.active)),c?d?u?n.removeClass(g.active):f.focusSearch():s?i.next(y.siblingLabel).addClass(g.active):i.addClass(g.active):i.next(y.siblingLabel).addClass(g.active),e.preventDefault())):t==v.deleteKey||t==v.backspace?a?(f.verbose("Removing active labels"),c&&d&&!u&&f.focusSearch(),i.last().next(y.siblingLabel).addClass(g.active),f.remove.activeLabels(i),e.preventDefault()):p&&!a&&t==v.backspace&&(f.verbose("Removing last label on input backspace"),i=n.last().addClass(g.active),f.remove.activeLabels(i)):i.removeClass(g.active)}}},keydown:function(e){var t=e.which;if(f.is.inObject(t,v)){var n,i=A.not(y.unselectable).filter("."+g.selected).eq(0),o=_.children("."+g.active).eq(0),r=0<i.length?i:o,a=0<r.length?r.siblings(":not(."+g.filtered+")").andSelf():_.children(":not(."+g.filtered+")"),s=r.children(y.menu),l=r.closest(y.menu),c=l.hasClass(g.visible)||l.hasClass(g.animating)||0<l.parent(y.menu).length,d=0<s.length,u=0<r.length,h=0<r.not(y.unselectable).length,p=t==v.delimiter&&m.allowAdditions&&f.is.multiple();if(f.is.visible()){if(t!=v.enter&&!p||(t==v.enter&&u&&d&&!m.allowCategorySelection?(f.verbose("Pressed enter on unselectable category, opening sub menu"),t=v.rightArrow):h&&(f.verbose("Selecting item from keyboard shortcut",r),f.event.item.click.call(r,e),f.is.searchSelection()&&f.remove.searchTerm()),e.preventDefault()),t==v.leftArrow&&l[0]!==_[0]&&(f.verbose("Left key pressed, closing sub-menu"),f.animate.hide(!1,l),r.removeClass(g.selected),l.closest(y.item).addClass(g.selected),e.preventDefault()),t==v.rightArrow&&d&&(f.verbose("Right key pressed, opening sub-menu"),f.animate.show(!1,s),r.removeClass(g.selected),s.find(y.item).eq(0).addClass(g.selected),e.preventDefault()),t==v.upArrow){if(n=u&&c?r.prevAll(y.item+":not("+y.unselectable+")").eq(0):A.eq(0),a.index(n)<0)return f.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();f.verbose("Up key pressed, changing active item"),r.removeClass(g.selected),n.addClass(g.selected),f.set.scrollPosition(n),e.preventDefault()}if(t==v.downArrow){if(0===(n=u&&c?n=r.nextAll(y.item+":not("+y.unselectable+")").eq(0):A.eq(0)).length)return f.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();f.verbose("Down key pressed, changing active item"),A.removeClass(g.selected),n.addClass(g.selected),f.set.scrollPosition(n),e.preventDefault()}t==v.pageUp&&(f.scrollPage("up"),e.preventDefault()),t==v.pageDown&&(f.scrollPage("down"),e.preventDefault()),t==v.escape&&(f.verbose("Escape key pressed, closing dropdown"),f.hide())}else p&&e.preventDefault(),t==v.downArrow&&(f.verbose("Down key pressed, showing dropdown"),f.show(),e.preventDefault())}else f.is.selection()&&!f.is.search()&&f.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=X.createEvent("HTMLEvents"),t=T[0];t&&(f.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(e,t){f.verbose("Determining action",m.action),U.isFunction(f.action[m.action])?(f.verbose("Triggering preset action",m.action,e,t),f.action[m.action].call(this,e,t)):U.isFunction(m.action)?(f.verbose("Triggering user action",m.action,e,t),m.action.call(this,e,t)):f.error(u.action,m.action)},eventInModule:function(e,t){var n=U(e.target),i=0<n.closest(X.documentElement).length,o=0<n.closest(w).length;return t=U.isFunction(t)?t:function(){},i&&!o?(f.verbose("Triggering event",t),t(),!0):(f.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(e,t){var n=U(e.target),i=n.closest(y.siblingLabel),o=0===w.find(i).length,r=0===n.closest(_).length;return t=U.isFunction(t)?t:function(){},o&&r?(f.verbose("Triggering event",t),t(),!0):(f.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(e,t){if(t=t!==Y?t:e,f.can.activate(U(this))){if(f.set.selected(t,U(this)),f.is.multiple()&&!f.is.allFiltered())return;f.hideAndClear()}},select:function(e,t){f.action.activate.call(this)},combo:function(e,t){t=t!==Y?t:e,f.set.selected(t,U(this)),f.hideAndClear()},hide:function(e,t){f.set.value(t),f.hideAndClear()}},get:{id:function(){return o},defaultText:function(){return w.data(b.defaultText)},defaultValue:function(){return w.data(b.defaultValue)},placeholderText:function(){return w.data(b.placeholderText)||""},text:function(){return k.text()},query:function(){return U.trim(S.val())},searchWidth:function(e){return e*m.glyphWidth+"em"},selectionCount:function(){var e=f.get.values();return f.is.multiple()?U.isArray(e)?e.length:0:""!==f.get.value()?1:0},transition:function(e){return"auto"==m.transition?f.is.upward(e)?"slide up":"slide down":m.transition},userValues:function(){var e=f.get.values();return!!e&&(e=U.isArray(e)?e:[e],U.grep(e,function(e){return!1===f.get.item(e)}))},uniqueArray:function(n){return U.grep(n,function(e,t){return U.inArray(e,n)===t})},caretPosition:function(){var e,t,n=S.get(0);return"selectionStart"in n?n.selectionStart:X.selection?(n.focus(),t=(e=X.selection.createRange()).text.length,e.moveStart("character",-n.value.length),e.text.length-t):void 0},value:function(){var e=0<T.length?T.val():w.data(b.value);return U.isArray(e)&&1===e.length&&""===e[0]?"":e},values:function(){var e=f.get.value();return""===e?"":!f.has.selectInput()&&f.is.multiple()?"string"==typeof e?e.split(m.delimiter):"":e},remoteValues:function(){var e=f.get.values(),i=!1;return e&&("string"==typeof e&&(e=[e]),i={},U.each(e,function(e,t){var n=f.read.remoteData(t);f.verbose("Restoring value from session data",n,t),i[t]=n||t})),i},choiceText:function(e,t){if(t=t!==Y?t:m.preserveHTML,e)return 0<e.find(y.menu).length&&(f.verbose("Retreiving text of element with sub-menu"),(e=e.clone()).find(y.menu).remove(),e.find(y.menuIcon).remove()),e.data(b.text)!==Y?e.data(b.text):t?U.trim(e.html()):U.trim(e.text())},choiceValue:function(e,t){return t=t||f.get.choiceText(e),!!e&&(e.data(b.value)!==Y?String(e.data(b.value)):"string"==typeof t?U.trim(t.toLowerCase()):String(t))},inputEvent:function(){var e=S[0];return!!e&&(e.oninput!==Y?"input":e.onpropertychange!==Y?"propertychange":"keyup")},selectValues:function(){var o={values:[]};return w.find("option").each(function(){var e=U(this),t=e.html(),n=e.attr("disabled"),i=e.attr("value")!==Y?e.attr("value"):t;"auto"===m.placeholder&&""===i?o.placeholder=t:o.values.push({name:t,value:i,disabled:n})}),m.placeholder&&"auto"!==m.placeholder&&(f.debug("Setting placeholder value to",m.placeholder),o.placeholder=m.placeholder),m.sortSelect?(o.values.sort(function(e,t){return e.name>t.name?1:-1}),f.debug("Retrieved and sorted values from select",o)):f.debug("Retreived values from select",o),o},activeItem:function(){return A.filter("."+g.active)},selectedItem:function(){var e=A.not(y.unselectable).filter("."+g.selected);return 0<e.length?e:A.eq(0)},itemWithAdditions:function(e){var t=f.get.item(e),n=f.create.userChoice(e);return n&&0<n.length&&(t=0<t.length?t.add(n):n),t},item:function(i,o){var e,r,a=!1;return i=i!==Y?i:f.get.values()!==Y?f.get.values():f.get.text(),e=r?0<i.length:i!==Y&&null!==i,r=f.is.multiple()&&U.isArray(i),o=""===i||0===i||(o||!1),e&&A.each(function(){var e=U(this),t=f.get.choiceText(e),n=f.get.choiceValue(e,t);if(null!==n&&n!==Y)if(r)-1===U.inArray(String(n),i)&&-1===U.inArray(t,i)||(a=a?a.add(e):e);else if(o){if(f.verbose("Ambiguous dropdown value using strict type check",e,i),n===i||t===i)return a=e,!0}else if(String(n)==String(i)||t==i)return f.verbose("Found select item by value",n,i),a=e,!0}),a}},check:{maxSelections:function(e){return!m.maxSelections||((e=e!==Y?e:f.get.selectionCount())>=m.maxSelections?(f.debug("Maximum selection count reached"),m.useLabels&&(A.addClass(g.filtered),f.add.message(c.maxSelections)),!0):(f.verbose("No longer at maximum selection count"),f.remove.message(),f.remove.filteredItem(),f.is.searchSelection()&&f.filterItems(),!1))}},restore:{defaults:function(){f.clear(),f.restore.defaultText(),f.restore.defaultValue()},defaultText:function(){var e=f.get.defaultText();e===f.get.placeholderText?(f.debug("Restoring default placeholder text",e),f.set.placeholderText(e)):(f.debug("Restoring default text",e),f.set.text(e))},defaultValue:function(){var e=f.get.defaultValue();e!==Y&&(f.debug("Restoring default value",e),""!==e?(f.set.value(e),f.set.selected()):(f.remove.activeItem(),f.remove.selectedItem()))},labels:function(){m.allowAdditions&&(m.useLabels||(f.error(u.labels),m.useLabels=!0),f.debug("Restoring selected values"),f.create.userLabels()),f.check.maxSelections()},selected:function(){f.restore.values(),f.is.multiple()?(f.debug("Restoring previously selected values and labels"),f.restore.labels()):f.debug("Restoring previously selected values")},values:function(){f.set.initialLoad(),m.apiSettings?m.saveRemoteData?f.restore.remoteValues():f.clearValue():f.set.selected(),f.remove.initialLoad()},remoteValues:function(){var e=f.get.remoteValues();f.debug("Recreating selected from session data",e),e&&(f.is.single()?U.each(e,function(e,t){f.set.text(t)}):U.each(e,function(e,t){f.add.label(e,t)}))}},read:{remoteData:function(e){var t;if(W.Storage!==Y)return(t=sessionStorage.getItem(e))!==Y&&t;f.error(u.noStorage)}},save:{defaults:function(){f.save.defaultText(),f.save.placeholderText(),f.save.defaultValue()},defaultValue:function(){var e=f.get.value();f.verbose("Saving default value as",e),w.data(b.defaultValue,e)},defaultText:function(){var e=f.get.text();f.verbose("Saving default text as",e),w.data(b.defaultText,e)},placeholderText:function(){var e;!1!==m.placeholder&&k.hasClass(g.placeholder)&&(e=f.get.text(),f.verbose("Saving placeholder text as",e),w.data(b.placeholderText,e))},remoteData:function(e,t){W.Storage!==Y?(f.verbose("Saving remote data to session storage",t,e),sessionStorage.setItem(t,e)):f.error(u.noStorage)}},clear:function(){f.is.multiple()?f.remove.labels():(f.remove.activeItem(),f.remove.selectedItem()),f.set.placeholderText(),f.clearValue()},clearValue:function(){f.set.value("")},scrollPage:function(e,t){var n,i,o=t||f.get.selectedItem(),r=o.closest(y.menu),a=r.outerHeight(),s=r.scrollTop(),l=A.eq(0).outerHeight(),c=Math.floor(a/l),d=(r.prop("scrollHeight"),"up"==e?s-l*c:s+l*c),u=A.not(y.unselectable);i="up"==e?u.index(o)-c:u.index(o)+c,0<(n=("up"==e?0<=i:i<u.length)?u.eq(i):"up"==e?u.first():u.last()).length&&(f.debug("Scrolling page",e,n),o.removeClass(g.selected),n.addClass(g.selected),r.scrollTop(d))},set:{filtered:function(){var e=f.is.multiple(),t=f.is.searchSelection(),n=e&&t,i=t?f.get.query():"",o="string"==typeof i&&0<i.length,r=f.get.searchWidth(i.length),a=""!==i;e&&o&&(f.verbose("Adjusting input width",r,m.glyphWidth),S.css("width",r)),o||n&&a?(f.verbose("Hiding placeholder text"),k.addClass(g.filtered)):e&&(!n||a)||(f.verbose("Showing placeholder text"),k.removeClass(g.filtered))},loading:function(){w.addClass(g.loading)},placeholderText:function(e){e=e||f.get.placeholderText(),f.debug("Setting placeholder text",e),f.set.text(e),k.addClass(g.placeholder)},tabbable:function(){f.has.search()?(f.debug("Added tabindex to searchable dropdown"),S.val("").attr("tabindex",0),_.attr("tabindex",-1)):(f.debug("Added tabindex to dropdown"),w.attr("tabindex")===Y&&(w.attr("tabindex",0),_.attr("tabindex",-1)))},initialLoad:function(){f.verbose("Setting initial load"),e=!0},activeItem:function(e){m.allowAdditions&&0<e.filter(y.addition).length?e.addClass(g.filtered):e.addClass(g.active)},scrollPosition:function(e,t){var n,i,o,r,a,s;n=(e=e||f.get.selectedItem()).closest(y.menu),i=e&&0<e.length,t=t!==Y&&t,e&&0<n.length&&i&&(e.position().top,n.addClass(g.loading),o=(r=n.scrollTop())-n.offset().top+e.offset().top,t||(s=r+n.height()<o+5,a=o-5<r),f.debug("Scrolling to active item",o),(t||a||s)&&n.scrollTop(o),n.removeClass(g.loading))},text:function(e){"select"!==m.action&&("combo"==m.action?(f.debug("Changing combo button text",e,E),m.preserveHTML?E.html(e):E.text(e)):(e!==f.get.placeholderText()&&k.removeClass(g.placeholder),f.debug("Changing text",e,k),k.removeClass(g.filtered),m.preserveHTML?k.html(e):k.text(e)))},selectedLetter:function(e){var t,n=A.filter("."+g.selected),i=0<n.length&&f.has.firstLetter(n,e),o=!1;i&&(t=n.nextAll(A).eq(0),f.has.firstLetter(t,e)&&(o=t)),o||A.each(function(){if(f.has.firstLetter(U(this),e))return o=U(this),!1}),o&&(f.verbose("Scrolling to next value with letter",e),f.set.scrollPosition(o),n.removeClass(g.selected),o.addClass(g.selected))},direction:function(e){"auto"==m.direction?f.is.onScreen(e)?f.remove.upward(e):f.set.upward(e):"upward"==m.direction&&f.set.upward(e)},upward:function(e){(e||w).addClass(g.upward)},value:function(e,t,n){var i=0<T.length,o=(f.has.value(e),f.get.values()),r=e!==Y?String(e):e;if(i){if(r==o&&(f.verbose("Skipping value update already same value",e,o),!f.is.initialLoad()))return;f.is.single()&&f.has.selectInput()&&f.can.extendSelect()&&(f.debug("Adding user option",e),f.add.optionValue(e)),f.debug("Updating input value",e,o),O=!0,T.val(e),!1===m.fireOnInit&&f.is.initialLoad()?f.debug("Input native change event ignored on initial load"):f.trigger.change(),O=!1}else f.verbose("Storing value in metadata",e,T),e!==o&&w.data(b.value,r);!1===m.fireOnInit&&f.is.initialLoad()?f.verbose("No callback on initial load",m.onChange):m.onChange.call(D,e,t,n)},active:function(){w.addClass(g.active)},multiple:function(){w.addClass(g.multiple)},visible:function(){w.addClass(g.visible)},exactly:function(e,t){f.debug("Setting selected to exact values"),f.clear(),f.set.selected(e,t)},selected:function(e,s){var l=f.is.multiple();(s=m.allowAdditions?s||f.get.itemWithAdditions(e):s||f.get.item(e))&&(f.debug("Setting selected menu item to",s),f.is.single()?(f.remove.activeItem(),f.remove.selectedItem()):m.useLabels&&f.remove.selectedItem(),s.each(function(){var e=U(this),t=f.get.choiceText(e),n=f.get.choiceValue(e,t),i=e.hasClass(g.filtered),o=e.hasClass(g.active),r=e.hasClass(g.addition),a=l&&1==s.length;l?!o||r?(m.apiSettings&&m.saveRemoteData&&f.save.remoteData(t,n),m.useLabels?(f.add.value(n,t,e),f.add.label(n,t,a),f.set.activeItem(e),f.filterActive(),f.select.nextAvailable(s)):(f.add.value(n,t,e),f.set.text(f.add.variables(c.count)),f.set.activeItem(e))):i||(f.debug("Selected active value, removing label"),f.remove.selected(n)):(m.apiSettings&&m.saveRemoteData&&f.save.remoteData(t,n),f.set.text(t),f.set.value(n,t,e),e.addClass(g.active).addClass(g.selected))}))}},add:{label:function(e,t,n){var i,o=f.is.searchSelection()?S:k;i=U("<a />").addClass(g.label).attr("data-value",e).html(h.label(e,t)),i=m.onLabelCreate.call(i,e,t),f.has.label(e)?f.debug("Label already exists, skipping",e):(m.label.variation&&i.addClass(m.label.variation),!0===n?(f.debug("Animating in label",i),i.addClass(g.hidden).insertBefore(o).transition(m.label.transition,m.label.duration)):(f.debug("Adding selection label",i),i.insertBefore(o)))},message:function(e){var t=_.children(y.message),n=m.templates.message(f.add.variables(e));0<t.length?t.html(n):t=U("<div/>").html(n).addClass(g.message).appendTo(_)},optionValue:function(e){0<T.find('option[value="'+e+'"]').length||(r&&(r.disconnect(),f.verbose("Temporarily disconnecting mutation observer",e)),f.is.single()&&(f.verbose("Removing previous user addition"),T.find("option."+g.addition).remove()),U("<option/>").prop("value",e).addClass(g.addition).html(e).appendTo(T),f.verbose("Adding user addition as an <option>",e),r&&r.observe(T[0],{childList:!0,subtree:!0}))},userSuggestion:function(e){var t,n=_.children(y.addition),i=f.get.item(e),o=i&&i.not(y.addition).length,r=0<n.length;m.useLabels&&f.has.maxSelections()||(""===e||o?n.remove():(A.removeClass(g.selected),r?(t=m.templates.addition(f.add.variables(c.addResult,e)),n.html(t).attr("data-"+b.value,e).attr("data-"+b.text,e).removeClass(g.filtered).addClass(g.selected),f.verbose("Replacing user suggestion with new value",n)):((n=f.create.userChoice(e)).prependTo(_).addClass(g.selected),f.verbose("Adding item choice to menu corresponding with user choice addition",n))))},variables:function(e,t){var n,i,o=-1!==e.search("{count}"),r=-1!==e.search("{maxCount}"),a=-1!==e.search("{term}");return f.verbose("Adding templated variables to message",e),o&&(n=f.get.selectionCount(),e=e.replace("{count}",n)),r&&(n=f.get.selectionCount(),e=e.replace("{maxCount}",m.maxSelections)),a&&(i=t||f.get.query(),e=e.replace("{term}",i)),e},value:function(e,t,n){var i,o=f.get.values();""!==e?(i=U.isArray(o)?(i=o.concat([e]),f.get.uniqueArray(i)):[e],f.has.selectInput()?f.can.extendSelect()&&(f.debug("Adding value to select",e,i,T),f.add.optionValue(e)):(i=i.join(m.delimiter),f.debug("Setting hidden input to delimited value",i,T)),!1===m.fireOnInit&&f.is.initialLoad()?f.verbose("Skipping onadd callback on initial load",m.onAdd):m.onAdd.call(D,e,t,n),f.set.value(i,e,t,n),f.check.maxSelections()):f.debug("Cannot select blank values from multiselect")}},remove:{active:function(){w.removeClass(g.active)},activeLabel:function(){w.find(y.label).removeClass(g.active)},loading:function(){w.removeClass(g.loading)},initialLoad:function(){e=!1},upward:function(e){(e||w).removeClass(g.upward)},visible:function(){w.removeClass(g.visible)},activeItem:function(){A.removeClass(g.active)},filteredItem:function(){m.useLabels&&f.has.maxSelections()||(m.useLabels&&f.is.multiple()?A.not("."+g.active).removeClass(g.filtered):A.removeClass(g.filtered))},optionValue:function(e){var t=T.find('option[value="'+e+'"]');0<t.length&&t.hasClass(g.addition)&&(r&&(r.disconnect(),f.verbose("Temporarily disconnecting mutation observer",e)),t.remove(),f.verbose("Removing user addition as an <option>",e),r&&r.observe(T[0],{childList:!0,subtree:!0}))},message:function(){_.children(y.message).remove()},searchTerm:function(){f.verbose("Cleared search term"),S.val(""),f.set.filtered()},selected:function(e,t){if(!(t=m.allowAdditions?t||f.get.itemWithAdditions(e):t||f.get.item(e)))return!1;t.each(function(){var e=U(this),t=f.get.choiceText(e),n=f.get.choiceValue(e,t);f.is.multiple()?m.useLabels?(f.remove.value(n,t,e),f.remove.label(n)):(f.remove.value(n,t,e),0===f.get.selectionCount()?f.set.placeholderText():f.set.text(f.add.variables(c.count))):f.remove.value(n,t,e),e.removeClass(g.filtered).removeClass(g.active),m.useLabels&&e.removeClass(g.selected)})},selectedItem:function(){A.removeClass(g.selected)},value:function(e,t,n){var i,o=f.get.values();f.has.selectInput()?(f.verbose("Input is <select> removing selected option",e),i=f.remove.arrayValue(e,o),f.remove.optionValue(e)):(f.verbose("Removing from delimited values",e),i=(i=f.remove.arrayValue(e,o)).join(m.delimiter)),!1===m.fireOnInit&&f.is.initialLoad()?f.verbose("No callback on initial load",m.onRemove):m.onRemove.call(D,e,t,n),f.set.value(i,t,n),f.check.maxSelections()},arrayValue:function(t,e){return U.isArray(e)||(e=[e]),e=U.grep(e,function(e){return t!=e}),f.verbose("Removed value from delimited string",t,e),e},label:function(e,t){var n=w.find(y.label).filter('[data-value="'+e+'"]');f.verbose("Removing label",n),n.remove()},activeLabels:function(e){e=e||w.find(y.label).filter("."+g.active),f.verbose("Removing active label selections",e),f.remove.labels(e)},labels:function(e){e=e||w.find(y.label),f.verbose("Removing labels",e),e.each(function(){var e=U(this),t=e.data(b.value),n=t!==Y?String(t):t,i=f.is.userValue(n);!1!==m.onLabelRemove.call(e,t)?i?(f.remove.value(n),f.remove.label(n)):f.remove.selected(n):f.debug("Label remove callback cancelled removal")})},tabbable:function(){f.has.search()?(f.debug("Searchable dropdown initialized"),S.removeAttr("tabindex")):(f.debug("Simple selection dropdown initialized"),w.removeAttr("tabindex")),_.removeAttr("tabindex")}},has:{search:function(){return 0<S.length},selectInput:function(){return T.is("select")},firstLetter:function(e,t){var n;return!(!e||0===e.length||"string"!=typeof t)&&(n=f.get.choiceText(e,!1),(t=t.toLowerCase())==String(n).charAt(0).toLowerCase())},input:function(){return 0<T.length},items:function(){return 0<A.length},menu:function(){return 0<_.length},message:function(){return 0!==_.children(y.message).length},label:function(e){return 0<w.find(y.label).filter('[data-value="'+e+'"]').length},maxSelections:function(){return m.maxSelections&&f.get.selectionCount()>=m.maxSelections},allResultsFiltered:function(){return A.filter(y.unselectable).length===A.length},query:function(){return""!==f.get.query()},value:function(e){var t=f.get.values();return!!(U.isArray(t)?t&&-1!==U.inArray(e,t):t==e)}},is:{active:function(){return w.hasClass(g.active)},alreadySetup:function(){return w.is("select")&&0<w.parent(y.dropdown).length&&0===w.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):_.transition&&_.transition("is animating")},disabled:function(){return w.hasClass(g.disabled)},focused:function(){return X.activeElement===w[0]},focusedOnSearch:function(){return X.activeElement===S[0]},allFiltered:function(){return(f.is.multiple()||f.has.search())&&!f.has.message()&&f.has.allResultsFiltered()},hidden:function(e){return!f.is.visible(e)},initialLoad:function(){return e},onScreen:function(e){var t,n,i=e||_,o=!0;return i.addClass(g.loading),o=(t={above:(n={context:{scrollTop:C.scrollTop(),height:C.outerHeight()},menu:{offset:i.offset(),height:i.outerHeight()}}).context.scrollTop<=n.menu.offset.top-n.menu.height,below:n.context.scrollTop+n.context.height>=n.menu.offset.top+n.menu.height}).below?(f.verbose("Dropdown can fit in context downward",t),!0):t.below||t.above?(f.verbose("Dropdown cannot fit below, opening upward",t),!1):(f.verbose("Dropdown cannot fit in either direction, favoring downward",t),!0),i.removeClass(g.loading),o},inObject:function(n,e){var i=!1;return U.each(e,function(e,t){if(t==n)return i=!0}),i},multiple:function(){return w.hasClass(g.multiple)},single:function(){return!f.is.multiple()},selectMutation:function(e){var n=!1;return U.each(e,function(e,t){if(t.target&&U(t.target).is("select"))return n=!0}),n},search:function(){return w.hasClass(g.search)},searchSelection:function(){return f.has.search()&&1===S.parent(y.dropdown).length},selection:function(){return w.hasClass(g.selection)},userValue:function(e){return-1!==U.inArray(e,f.get.userValues())},upward:function(e){return(e||w).hasClass(g.upward)},visible:function(e){return e?e.hasClass(g.visible):_.hasClass(g.visible)}},can:{activate:function(e){return!!m.useLabels||(!f.has.maxSelections()||!(!f.has.maxSelections()||!e.hasClass(g.active)))},click:function(){return q||"click"==m.on},extendSelect:function(){return m.allowAdditions||m.apiSettings},show:function(){return!f.is.disabled()&&(f.has.items()||f.has.message())},useAPI:function(){return U.fn.api!==Y}},animate:{show:function(e,t){var n,i=t||_,o=t?function(){}:function(){f.hideSubMenus(),f.hideOthers(),f.set.active()};e=U.isFunction(e)?e:function(){},f.verbose("Doing menu show animation",i),f.set.direction(t),n=f.get.transition(t),f.is.selection()&&f.set.scrollPosition(f.get.selectedItem(),!0),(f.is.hidden(i)||f.is.animating(i))&&("none"==n?(o(),i.transition("show"),e.call(D)):U.fn.transition!==Y&&w.transition("is supported")?i.transition({animation:n+" in",debug:m.debug,verbose:m.verbose,duration:m.duration,queue:!0,onStart:o,onComplete:function(){e.call(D)}}):f.error(u.noTransition,n))},hide:function(e,t){var n=t||_,i=(t?m.duration:m.duration,t?function(){}:function(){f.can.click()&&f.unbind.intent(),f.remove.active()}),o=f.get.transition(t);e=U.isFunction(e)?e:function(){},(f.is.visible(n)||f.is.animating(n))&&(f.verbose("Doing menu hide animation",n),"none"==o?(i(),n.transition("hide"),e.call(D)):U.fn.transition!==Y&&w.transition("is supported")?n.transition({animation:o+" out",duration:m.duration,debug:m.debug,verbose:m.verbose,queue:!0,onStart:i,onComplete:function(){"auto"==m.direction&&f.remove.upward(t),e.call(D)}}):f.error(u.transition))}},hideAndClear:function(){f.remove.searchTerm(),f.has.maxSelections()||(f.has.search()?f.hide(function(){f.remove.filteredItem()}):f.hide())},delay:{show:function(){f.verbose("Delaying show event to ensure user intent"),clearTimeout(f.timer),f.timer=setTimeout(f.show,m.delay.show)},hide:function(){f.verbose("Delaying hide event to ensure user intent"),clearTimeout(f.timer),f.timer=setTimeout(f.hide,m.delay.hide)}},escape:{regExp:function(e){return(e=String(e)).replace(d.escape,"\\$&")}},setting:function(e,t){if(f.debug("Changing setting",e,t),U.isPlainObject(e))U.extend(!0,m,e);else{if(t===Y)return m[e];m[e]=t}},internal:function(e,t){if(U.isPlainObject(e))U.extend(!0,f,e);else{if(t===Y)return f[e];f[e]=t}},debug:function(){m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+":"),f.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,m.name+":"),f.error.apply(console,arguments)},performance:{log:function(e){var t,n;m.performance&&(n=(t=(new Date).getTime())-(z||t),z=t,H.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:D,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var e=m.name+":",n=0;z=!1,clearTimeout(f.performance.timer),U.each(H,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",F&&(e+=" '"+F+"'"),(console.group!==Y||console.table!==Y)&&0<H.length&&(console.groupCollapsed(e),console.table?console.table(H):U.each(H,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),H=[]}},invoke:function(i,e,t){var o,r,n,a=I;return e=e||V,t=D||t,"string"==typeof i&&a!==Y&&(i=i.split(/[\. ]/),o=i.length-1,U.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(U.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==Y)return r=a[n],!1;if(!U.isPlainObject(a[t])||e==o)return a[t]!==Y?r=a[t]:f.error(u.method,i),!1;a=a[t]}})),U.isFunction(r)?n=r.apply(t,e):r!==Y&&(n=r),U.isArray(R)?R.push(n):R!==Y?R=[R,n]:n!==Y&&(R=n),r}},$?(I===Y&&f.initialize(),f.invoke(B)):(I!==Y&&I.invoke("destroy"),f.initialize())}),R!==Y?R:L},U.fn.dropdown.settings={debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,saveRemoteData:!0,throttle:200,context:W,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(e,t){return U(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:StrackLang.No_Filter_Project,serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",name:"name",value:"value"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},U.fn.dropdown.settings.templates={dropdown:function(e){var t=e.placeholder||!1,n=(e.values,"");return n+='<i class="dropdown icon"></i>',e.placeholder?n+='<div class="default text">'+t+"</div>":n+='<div class="text"></div>',n+='<div class="menu">',U.each(e.values,function(e,t){n+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),n+="</div>"},menu:function(e,n){var t=e[n.values]||{},i="";return U.each(t,function(e,t){i+='<div class="item" data-value="'+t[n.value]+'">'+t[n.name]+"</div>"}),i},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),function(S,T,E){"use strict";S.fn.embed=function(m){var g,v=S(this),b=v.selector||"",y=(new Date).getTime(),x=[],w=m,C="string"==typeof w,k=[].slice.call(arguments,1);return v.each(function(){var s,i=S.isPlainObject(m)?S.extend(!0,{},S.fn.embed.settings,m):S.extend({},S.fn.embed.settings),e=i.selector,t=i.className,o=i.sources,l=i.error,r=i.metadata,n=i.namespace,a=i.templates,c="."+n,d="module-"+n,u=(S(T),S(this)),h=(u.find(e.placeholder),u.find(e.icon),u.find(e.embed)),p=this,f=u.data(d);s={initialize:function(){s.debug("Initializing embed"),s.determine.autoplay(),s.create(),s.bind.events(),s.instantiate()},instantiate:function(){s.verbose("Storing instance of module",s),f=s,u.data(d,s)},destroy:function(){s.verbose("Destroying previous instance of embed"),s.reset(),u.removeData(d).off(c)},refresh:function(){s.verbose("Refreshing selector cache"),u.find(e.placeholder),u.find(e.icon),h=u.find(e.embed)},bind:{events:function(){s.has.placeholder()&&(s.debug("Adding placeholder events"),u.on("click"+c,e.placeholder,s.createAndShow).on("click"+c,e.icon,s.createAndShow))}},create:function(){s.get.placeholder()?s.createPlaceholder():s.createAndShow()},createPlaceholder:function(e){var t=s.get.icon(),n=s.get.url();s.generate.embed(n);e=e||s.get.placeholder(),u.html(a.placeholder(e,t)),s.debug("Creating placeholder for embed",e,t)},createEmbed:function(e){s.refresh(),e=e||s.get.url(),h=S("<div/>").addClass(t.embed).html(s.generate.embed(e)).appendTo(u),i.onCreate.call(p,e),s.debug("Creating embed object",h)},createAndShow:function(){s.createEmbed(),s.show()},change:function(e,t,n){s.debug("Changing video to ",e,t,n),u.data(r.source,e).data(r.id,t).data(r.url,n),s.create()},reset:function(){s.debug("Clearing embed and showing placeholder"),s.remove.active(),s.remove.embed(),s.showPlaceholder(),i.onReset.call(p)},show:function(){s.debug("Showing embed"),s.set.active(),i.onDisplay.call(p)},hide:function(){s.debug("Hiding embed"),s.showPlaceholder()},showPlaceholder:function(){s.debug("Showing placeholder image"),s.remove.active(),i.onPlaceholderDisplay.call(p)},get:{id:function(){return i.id||u.data(r.id)},placeholder:function(){return i.placeholder||u.data(r.placeholder)},icon:function(){return i.icon?i.icon:u.data(r.icon)!==E?u.data(r.icon):s.determine.icon()},source:function(e){return i.source?i.source:u.data(r.source)!==E?u.data(r.source):s.determine.source()},type:function(){var e=s.get.source();return o[e]!==E&&o[e].type},url:function(){return i.url?i.url:u.data(r.url)!==E?u.data(r.url):s.determine.url()}},determine:{autoplay:function(){s.should.autoplay()&&(i.autoplay=!0)},source:function(n){var i=!1;return(n=n||s.get.url())&&S.each(o,function(e,t){if(-1!==n.search(t.domain))return i=e,!1}),i},icon:function(){var e=s.get.source();return o[e]!==E&&o[e].icon},url:function(){var e,t=i.id||u.data(r.id),n=i.source||u.data(r.source);return(e=o[n]!==E&&o[n].url.replace("{id}",t))&&u.data(r.url,e),e}},set:{active:function(){u.addClass(t.active)}},remove:{active:function(){u.removeClass(t.active)},embed:function(){h.empty()}},encode:{parameters:function(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&amp;")}},generate:{embed:function(e){s.debug("Generating embed html");var t,n,i=s.get.source();return(e=s.get.url(e))?(n=s.generate.parameters(i),t=a.iframe(e,n)):s.error(l.noURL,u),t},parameters:function(e,t){var n=o[e]&&o[e].parameters!==E?o[e].parameters(i):{};return(t=t||i.parameters)&&(n=S.extend({},n,t)),n=i.onEmbed(n),s.encode.parameters(n)}},has:{placeholder:function(){return i.placeholder||u.data(r.placeholder)}},should:{autoplay:function(){return"auto"===i.autoplay?i.placeholder||u.data(r.placeholder)!==E:i.autoplay}},is:{video:function(){return"video"==s.get.type()}},setting:function(e,t){if(s.debug("Changing setting",e,t),S.isPlainObject(e))S.extend(!0,i,e);else{if(t===E)return i[e];i[e]=t}},internal:function(e,t){if(S.isPlainObject(e))S.extend(!0,s,e);else{if(t===E)return s[e];s[e]=t}},debug:function(){i.debug&&(i.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,i.name+":"),s.debug.apply(console,arguments)))},verbose:function(){i.verbose&&i.debug&&(i.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,i.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,i.name+":"),s.error.apply(console,arguments)},performance:{log:function(e){var t,n;i.performance&&(n=(t=(new Date).getTime())-(y||t),y=t,x.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:p,"Execution Time":n})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var e=i.name+":",n=0;y=!1,clearTimeout(s.performance.timer),S.each(x,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",b&&(e+=" '"+b+"'"),1<v.length&&(e+=" ("+v.length+")"),(console.group!==E||console.table!==E)&&0<x.length&&(console.groupCollapsed(e),console.table?console.table(x):S.each(x,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),x=[]}},invoke:function(i,e,t){var o,r,n,a=f;return e=e||k,t=p||t,"string"==typeof i&&a!==E&&(i=i.split(/[\. ]/),o=i.length-1,S.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(S.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==E)return r=a[n],!1;if(!S.isPlainObject(a[t])||e==o)return a[t]!==E?r=a[t]:s.error(l.method,i),!1;a=a[t]}})),S.isFunction(r)?n=r.apply(t,e):r!==E&&(n=r),S.isArray(g)?g.push(n):g!==E?g=[g,n]:n!==E&&(g=n),r}},C?(f===E&&s.initialize(),s.invoke(w)):(f!==E&&f.invoke("destroy"),s.initialize())}),g!==E?g:this},S.fn.embed.settings={name:"Embed",namespace:"embed",debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(e){},onEmbed:function(e){return e},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(e){return{autohide:!e.brandedUI,autoplay:e.autoplay,color:e.colors||E,hq:e.hd,jsapi:e.api,modestbranding:!e.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(e){return{api:e.api,autoplay:e.autoplay,byline:e.brandedUI,color:e.colors||E,portrait:e.brandedUI,title:e.brandedUI}}}},templates:{iframe:function(e,t){return'<iframe src="'+e+"?"+t+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(e,t){var n="";return t&&(n+='<i class="'+t+' icon"></i>'),e&&(n+='<img class="placeholder" src="'+e+'">'),n}},api:!0,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,void document),function(I,N,R,L){"use strict";I.fn.modal=function(w){var C,e=I(this),k=I(N),S=I(R),T=I("body"),E=e.selector||"",_=(new Date).getTime(),A=[],j=w,P="string"==typeof j,O=[].slice.call(arguments,1),D=N.requestAnimationFrame||N.mozRequestAnimationFrame||N.webkitRequestAnimationFrame||N.msRequestAnimationFrame||function(e){setTimeout(e,0)};return e.each(function(){var n,i,e,o,r,t,a,s,l,c=I.isPlainObject(w)?I.extend(!0,{},I.fn.modal.settings,w):I.extend({},I.fn.modal.settings),d=c.selector,u=c.className,h=c.namespace,p=c.error,f="."+h,m="module-"+h,g=I(this),v=I(c.context),b=g.find(d.close),y=this,x=g.data(m);l={initialize:function(){l.verbose("Initializing dimmer",v),l.create.id(),l.create.dimmer(),l.refreshModals(),l.bind.events(),c.observeChanges&&l.observeChanges(),l.instantiate()},instantiate:function(){l.verbose("Storing instance of modal"),x=l,g.data(m,x)},create:{dimmer:function(){var e={debug:c.debug,dimmerName:"modals",duration:{show:c.duration,hide:c.duration}},t=I.extend(!0,e,c.dimmerSettings);c.inverted&&(t.variation=t.variation!==L?t.variation+" inverted":"inverted"),I.fn.dimmer!==L?(l.debug("Creating dimmer with settings",t),o=v.dimmer(t),c.detachable?(l.verbose("Modal is detachable, moving content into dimmer"),o.dimmer("add content",g)):l.set.undetached(),c.blurring&&o.addClass(u.blurring),r=o.dimmer("get dimmer")):l.error(p.dimmer)},id:function(){a=(Math.random().toString(16)+"000000000").substr(2,8),t="."+a,l.verbose("Creating unique id for element",a)}},destroy:function(){l.verbose("Destroying previous modal"),g.removeData(m).off(f),k.off(t),b.off(f),v.dimmer("destroy")},observeChanges:function(){"MutationObserver"in N&&((s=new MutationObserver(function(e){l.debug("DOM tree modified, refreshing"),l.refresh()})).observe(y,{childList:!0,subtree:!0}),l.debug("Setting up mutation observer",s))},refresh:function(){l.remove.scrolling(),l.cacheSizes(),l.set.screenHeight(),l.set.type(),l.set.position()},refreshModals:function(){i=g.siblings(d.modal),n=i.add(g)},attachEvents:function(e,t){var n=I(e);t=I.isFunction(l[t])?l[t]:l.toggle,0<n.length?(l.debug("Attaching modal events to element",e,t),n.off(f).on("click"+f,t)):l.error(p.notFound,e)},bind:{events:function(){l.verbose("Attaching events"),g.on("click"+f,d.close,l.event.close).on("click"+f,d.approve,l.event.approve).on("click"+f,d.deny,l.event.deny),k.on("resize"+t,l.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){!1!==c.onApprove.call(y,I(this))?l.hide():l.verbose("Approve callback returned false cancelling hide")},deny:function(){!1!==c.onDeny.call(y,I(this))?l.hide():l.verbose("Deny callback returned false cancelling hide")},close:function(){l.hide()},click:function(e){var t=0<I(e.target).closest(d.modal).length,n=I.contains(R.documentElement,e.target);!t&&n&&(l.debug("Dimmer clicked, hiding all modals"),l.is.active()&&(l.remove.clickaway(),c.allowMultiple?l.hide():l.hideAll()))},debounce:function(e,t){clearTimeout(l.timer),l.timer=setTimeout(e,t)},keyboard:function(e){27==e.which&&(c.closable?(l.debug("Escape key pressed hiding modal"),l.hide()):l.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){o.dimmer("is active")&&D(l.refresh)}},toggle:function(){l.is.active()||l.is.animating()?l.hide():l.show()},show:function(e){e=I.isFunction(e)?e:function(){},l.refreshModals(),l.showModal(e)},hide:function(e){e=I.isFunction(e)?e:function(){},l.refreshModals(),l.hideModal(e)},showModal:function(e){e=I.isFunction(e)?e:function(){},l.is.animating()||!l.is.active()?(l.showDimmer(),l.cacheSizes(),l.set.position(),l.set.screenHeight(),l.set.type(),l.set.clickaway(),!c.allowMultiple&&l.others.active()?l.hideOthers(l.showModal):(c.onShow.call(y),c.transition&&I.fn.transition!==L&&g.transition("is supported")?(l.debug("Showing modal with css animations"),g.transition({debug:c.debug,animation:c.transition+" in",queue:c.queue,duration:c.duration,useFailSafe:!0,onComplete:function(){c.onVisible.apply(y),l.add.keyboardShortcuts(),l.save.focus(),l.set.active(),c.autofocus&&l.set.autofocus(),e()}})):l.error(p.noTransition))):l.debug("Modal is already visible")},hideModal:function(e,t){e=I.isFunction(e)?e:function(){},l.debug("Hiding modal"),!1!==c.onHide.call(y,I(this))?(l.is.animating()||l.is.active())&&(c.transition&&I.fn.transition!==L&&g.transition("is supported")?(l.remove.active(),g.transition({debug:c.debug,animation:c.transition+" out",queue:c.queue,duration:c.duration,useFailSafe:!0,onStart:function(){l.others.active()||t||l.hideDimmer(),l.remove.keyboardShortcuts()},onComplete:function(){c.onHidden.call(y),l.restore.focus(),e()}})):l.error(p.noTransition)):l.verbose("Hide callback returned false cancelling hide")},showDimmer:function(){o.dimmer("is animating")||!o.dimmer("is active")?(l.debug("Showing dimmer"),o.dimmer("show")):l.debug("Dimmer already visible")},hideDimmer:function(){o.dimmer("is animating")||o.dimmer("is active")?o.dimmer("hide",function(){l.remove.clickaway(),l.remove.screenHeight()}):l.debug("Dimmer is not visible cannot hide")},hideAll:function(e){var t=n.filter("."+u.active+", ."+u.animating);e=I.isFunction(e)?e:function(){},0<t.length&&(l.debug("Hiding all visible modals"),l.hideDimmer(),t.modal("hide modal",e))},hideOthers:function(e){var t=i.filter("."+u.active+", ."+u.animating);e=I.isFunction(e)?e:function(){},0<t.length&&(l.debug("Hiding other modals",i),t.modal("hide modal",e,!0))},others:{active:function(){return 0<i.filter("."+u.active).length},animating:function(){return 0<i.filter("."+u.animating).length}},add:{keyboardShortcuts:function(){l.verbose("Adding keyboard shortcuts"),S.on("keyup"+f,l.event.keyboard)}},save:{focus:function(){e=I(R.activeElement).blur()}},restore:{focus:function(){e&&0<e.length&&e.focus()}},remove:{active:function(){g.removeClass(u.active)},clickaway:function(){c.closable&&r.off("click"+t)},bodyStyle:function(){""===T.attr("style")&&(l.verbose("Removing style attribute"),T.removeAttr("style"))},screenHeight:function(){l.debug("Removing page height"),T.css("height","")},keyboardShortcuts:function(){l.verbose("Removing keyboard shortcuts"),S.off("keyup"+f)},scrolling:function(){o.removeClass(u.scrolling),g.removeClass(u.scrolling)}},cacheSizes:function(){var e=g.outerHeight();l.cache!==L&&0===e||(l.cache={pageHeight:I(R).outerHeight(),height:e+c.offset,contextHeight:"body"==c.context?I(N).height():o.height()}),l.debug("Caching modal and container sizes",l.cache)},can:{fit:function(){return l.cache.height+2*c.padding<l.cache.contextHeight}},is:{active:function(){return g.hasClass(u.active)},animating:function(){return g.transition("is supported")?g.transition("is animating"):g.is(":visible")},scrolling:function(){return o.hasClass(u.scrolling)},modernBrowser:function(){return!(N.ActiveXObject||"ActiveXObject"in N)}},set:{autofocus:function(){var e=g.find(":input").filter(":visible"),t=e.filter("[autofocus]"),n=0<t.length?t.first():e.first();0<n.length&&n.focus()},clickaway:function(){c.closable&&r.on("click"+t,l.event.click)},screenHeight:function(){l.can.fit()?T.css("height",""):(l.debug("Modal is taller than page content, resizing page height"),T.css("height",l.cache.height+2*c.padding))},active:function(){g.addClass(u.active)},scrolling:function(){o.addClass(u.scrolling),g.addClass(u.scrolling)},type:function(){l.can.fit()?(l.verbose("Modal fits on screen"),l.others.active()||l.others.animating()||l.remove.scrolling()):(l.verbose("Modal cannot fit on screen setting to scrolling"),l.set.scrolling())},position:function(){l.verbose("Centering modal on page",l.cache),l.can.fit()?g.css({top:"",marginTop:-l.cache.height/2}):g.css({marginTop:"",top:S.scrollTop()})},undetached:function(){o.addClass(u.undetached)}},setting:function(e,t){if(l.debug("Changing setting",e,t),I.isPlainObject(e))I.extend(!0,c,e);else{if(t===L)return c[e];c[e]=t}},internal:function(e,t){if(I.isPlainObject(e))I.extend(!0,l,e);else{if(t===L)return l[e];l[e]=t}},debug:function(){c.debug&&(c.performance?l.performance.log(arguments):(l.debug=Function.prototype.bind.call(console.info,console,c.name+":"),l.debug.apply(console,arguments)))},verbose:function(){c.verbose&&c.debug&&(c.performance?l.performance.log(arguments):(l.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),l.verbose.apply(console,arguments)))},error:function(){l.error=Function.prototype.bind.call(console.error,console,c.name+":"),l.error.apply(console,arguments)},performance:{log:function(e){var t,n;c.performance&&(n=(t=(new Date).getTime())-(_||t),_=t,A.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:y,"Execution Time":n})),clearTimeout(l.performance.timer),l.performance.timer=setTimeout(l.performance.display,500)},display:function(){var e=c.name+":",n=0;_=!1,clearTimeout(l.performance.timer),I.each(A,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",E&&(e+=" '"+E+"'"),(console.group!==L||console.table!==L)&&0<A.length&&(console.groupCollapsed(e),console.table?console.table(A):I.each(A,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),A=[]}},invoke:function(i,e,t){var o,r,n,a=x;return e=e||O,t=y||t,"string"==typeof i&&a!==L&&(i=i.split(/[\. ]/),o=i.length-1,I.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(I.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==L)return r=a[n],!1;if(!I.isPlainObject(a[t])||e==o)return a[t]!==L&&(r=a[t]),!1;a=a[t]}})),I.isFunction(r)?n=r.apply(t,e):r!==L&&(n=r),I.isArray(C)?C.push(n):C!==L?C=[C,n]:n!==L&&(C=n),r}},P?(x===L&&l.initialize(),l.invoke(j)):(x!==L&&x.invoke("destroy"),l.initialize())}),C!==L?C:this},I.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(y,x,w){"use strict";y.fn.nag=function(u){var h,e=y(this),p=e.selector||"",f=(new Date).getTime(),m=[],g=u,v="string"==typeof g,b=[].slice.call(arguments,1);return e.each(function(){var s,i=y.isPlainObject(u)?y.extend(!0,{},y.fn.nag.settings,u):y.extend({},y.fn.nag.settings),e=(i.className,i.selector),l=i.error,t=i.namespace,n="."+t,o=t+"-module",r=y(this),a=(r.find(e.close),i.context?y(i.context):y("body")),c=this,d=r.data(o);x.requestAnimationFrame||x.mozRequestAnimationFrame||x.webkitRequestAnimationFrame||x.msRequestAnimationFrame;s={initialize:function(){s.verbose("Initializing element"),r.on("click"+n,e.close,s.dismiss).data(o,s),i.detachable&&r.parent()[0]!==a[0]&&r.detach().prependTo(a),0<i.displayTime&&setTimeout(s.hide,i.displayTime),s.show()},destroy:function(){s.verbose("Destroying instance"),r.removeData(o).off(n)},show:function(){s.should.show()&&!r.is(":visible")&&(s.debug("Showing nag",i.animation.show),"fade"==i.animation.show?r.fadeIn(i.duration,i.easing):r.slideDown(i.duration,i.easing))},hide:function(){s.debug("Showing nag",i.animation.hide),"fade"==i.animation.show?r.fadeIn(i.duration,i.easing):r.slideUp(i.duration,i.easing)},onHide:function(){s.debug("Removing nag",i.animation.hide),r.remove(),i.onHide&&i.onHide()},dismiss:function(e){i.storageMethod&&s.storage.set(i.key,i.value),s.hide(),e.stopImmediatePropagation(),e.preventDefault()},should:{show:function(){return i.persist?(s.debug("Persistent nag is set, can show nag"),!0):s.storage.get(i.key)!=i.value.toString()?(s.debug("Stored value is not set, can show nag",s.storage.get(i.key)),!0):(s.debug("Stored value is set, cannot show nag",s.storage.get(i.key)),!1)}},get:{storageOptions:function(){var e={};return i.expires&&(e.expires=i.expires),i.domain&&(e.domain=i.domain),i.path&&(e.path=i.path),e}},clear:function(){s.storage.remove(i.key)},storage:{set:function(e,t){var n=s.get.storageOptions();if("localstorage"==i.storageMethod&&x.localStorage!==w)x.localStorage.setItem(e,t),s.debug("Value stored using local storage",e,t);else if("sessionstorage"==i.storageMethod&&x.sessionStorage!==w)x.sessionStorage.setItem(e,t),s.debug("Value stored using session storage",e,t);else{if(y.cookie===w)return void s.error(l.noCookieStorage);y.cookie(e,t,n),s.debug("Value stored using cookie",e,t,n)}},get:function(e,t){var n;return"localstorage"==i.storageMethod&&x.localStorage!==w?n=x.localStorage.getItem(e):"sessionstorage"==i.storageMethod&&x.sessionStorage!==w?n=x.sessionStorage.getItem(e):y.cookie!==w?n=y.cookie(e):s.error(l.noCookieStorage),"undefined"!=n&&"null"!=n&&n!==w&&null!==n||(n=w),n},remove:function(e){var t=s.get.storageOptions();"localstorage"==i.storageMethod&&x.localStorage!==w?x.localStorage.removeItem(e):"sessionstorage"==i.storageMethod&&x.sessionStorage!==w?x.sessionStorage.removeItem(e):y.cookie!==w?y.removeCookie(e,t):s.error(l.noStorage)}},setting:function(e,t){if(s.debug("Changing setting",e,t),y.isPlainObject(e))y.extend(!0,i,e);else{if(t===w)return i[e];i[e]=t}},internal:function(e,t){if(y.isPlainObject(e))y.extend(!0,s,e);else{if(t===w)return s[e];s[e]=t}},debug:function(){i.debug&&(i.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,i.name+":"),s.debug.apply(console,arguments)))},verbose:function(){i.verbose&&i.debug&&(i.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,i.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,i.name+":"),s.error.apply(console,arguments)},performance:{log:function(e){var t,n;i.performance&&(n=(t=(new Date).getTime())-(f||t),f=t,m.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:c,"Execution Time":n})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var e=i.name+":",n=0;f=!1,clearTimeout(s.performance.timer),y.each(m,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",p&&(e+=" '"+p+"'"),(console.group!==w||console.table!==w)&&0<m.length&&(console.groupCollapsed(e),console.table?console.table(m):y.each(m,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(i,e,t){var o,r,n,a=d;return e=e||b,t=c||t,"string"==typeof i&&a!==w&&(i=i.split(/[\. ]/),o=i.length-1,y.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(y.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==w)return r=a[n],!1;if(!y.isPlainObject(a[t])||e==o)return a[t]!==w?r=a[t]:s.error(l.method,i),!1;a=a[t]}})),y.isFunction(r)?n=r.apply(t,e):r!==w&&(n=r),y.isArray(h)?h.push(n):h!==w?h=[h,n]:n!==w&&(h=n),r}},v?(d===w&&s.initialize(),s.invoke(g)):(d!==w&&d.invoke("destroy"),s.initialize())}),h!==w?h:this},y.fn.nag.settings={name:"Nag",debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}}}(jQuery,window,void document),function(D,I,t,N){"use strict";D.fn.popup=function(w){var C,e=D(this),k=D(t),S=D(I),T=D("body"),E=e.selector||"",_=(new Date).getTime(),A=[],j=w,P="string"==typeof j,O=[].slice.call(arguments,1);return e.each(function(){var d,o,e,t,u,h=D.isPlainObject(w)?D.extend(!0,{},D.fn.popup.settings,w):D.extend({},D.fn.popup.settings),i=h.selector,p=h.className,f=h.error,m=h.metadata,n=h.namespace,r="."+h.namespace,a="module-"+n,g=D(this),s=D(h.context),v=h.target?D(h.target):g,b=0,l=!1,c=!1,y=this,x=g.data(a);u={initialize:function(){u.debug("Initializing",g),u.createID(),u.bind.events(),!u.exists()&&h.preserve&&u.create(),u.instantiate()},instantiate:function(){u.verbose("Storing instance",u),x=u,g.data(a,x)},refresh:function(){h.popup?d=D(h.popup).eq(0):h.inline&&(d=v.nextAll(i.popup).eq(0),h.popup=d),h.popup?(d.addClass(p.loading),o=u.get.offsetParent(),d.removeClass(p.loading),h.movePopup&&u.has.popup()&&u.get.offsetParent(d)[0]!==o[0]&&(u.debug("Moving popup to the same offset parent as activating element"),d.detach().appendTo(o))):o=h.inline?u.get.offsetParent(v):u.has.popup()?u.get.offsetParent(d):T,o.is("html")&&o[0]!==T[0]&&(u.debug("Setting page as offset parent"),o=T),u.get.variation()&&u.set.variation()},reposition:function(){u.refresh(),u.set.position()},destroy:function(){u.debug("Destroying previous module"),d&&!h.preserve&&u.removePopup(),clearTimeout(u.hideTimer),clearTimeout(u.showTimer),S.off(e),g.off(r).removeData(a)},event:{start:function(e){var t=D.isPlainObject(h.delay)?h.delay.show:h.delay;clearTimeout(u.hideTimer),c||(u.showTimer=setTimeout(u.show,t))},end:function(){var e=D.isPlainObject(h.delay)?h.delay.hide:h.delay;clearTimeout(u.showTimer),u.hideTimer=setTimeout(u.hide,e)},touchstart:function(e){c=!0,u.show()},resize:function(){u.is.visible()&&u.set.position()},hideGracefully:function(e){e&&0===D(e.target).closest(i.popup).length?(u.debug("Click occurred outside popup hiding popup"),u.hide()):u.debug("Click was inside popup, keeping popup open")}},create:function(){var e=u.get.html(),t=u.get.title(),n=u.get.content();e||n||t?(u.debug("Creating pop-up html"),e=e||h.templates.popup({title:t,content:n}),d=D("<div/>").addClass(p.popup).data(m.activator,g).html(e),h.inline?(u.verbose("Inserting popup element inline",d),d.insertAfter(g)):(u.verbose("Appending popup element to body",d),d.appendTo(s)),u.refresh(),u.set.variation(),h.hoverable&&u.bind.popup(),h.onCreate.call(d,y)):0!==v.next(i.popup).length?(u.verbose("Pre-existing popup found"),h.inline=!0,h.popups=v.next(i.popup).data(m.activator,g),u.refresh(),h.hoverable&&u.bind.popup()):h.popup?(D(h.popup).data(m.activator,g),u.verbose("Used popup specified in settings"),u.refresh(),h.hoverable&&u.bind.popup()):u.debug("No content specified skipping display",y)},createID:function(){t=(Math.random().toString(16)+"000000000").substr(2,8),e="."+t,u.verbose("Creating unique id for element",t)},toggle:function(){u.debug("Toggling pop-up"),u.is.hidden()?(u.debug("Popup is hidden, showing pop-up"),u.unbind.close(),u.show()):(u.debug("Popup is visible, hiding pop-up"),u.hide())},show:function(e){if(e=e||function(){},u.debug("Showing pop-up",h.transition),u.is.hidden()&&(!u.is.active()||!u.is.dropdown())){if(u.exists()||u.create(),!1===h.onShow.call(d,y))return void u.debug("onShow callback returned false, cancelling popup animation");h.preserve||h.popup||u.refresh(),d&&u.set.position()&&(u.save.conditions(),h.exclusive&&u.hideAll(),u.animate.show(e))}},hide:function(e){if(e=e||function(){},u.is.visible()||u.is.animating()){if(!1===h.onHide.call(d,y))return void u.debug("onHide callback returned false, cancelling popup animation");u.remove.visible(),u.unbind.close(),u.restore.conditions(),u.animate.hide(e)}},hideAll:function(){D(i.popup).filter("."+p.visible).each(function(){D(this).data(m.activator).popup("hide")})},exists:function(){return!!d&&(h.inline||h.popup?u.has.popup():1<=d.closest(s).length)},removePopup:function(){u.has.popup()&&!h.popup&&(u.debug("Removing popup",d),d.remove(),d=N,h.onRemove.call(d,y))},save:{conditions:function(){u.cache={title:g.attr("title")},u.cache.title&&g.removeAttr("title"),u.verbose("Saving original attributes",u.cache.title)}},restore:{conditions:function(){return u.cache&&u.cache.title&&(g.attr("title",u.cache.title),u.verbose("Restoring original attributes",u.cache.title)),!0}},animate:{show:function(e){e=D.isFunction(e)?e:function(){},h.transition&&D.fn.transition!==N&&g.transition("is supported")?(u.set.visible(),d.transition({animation:h.transition+" in",queue:!1,debug:h.debug,verbose:h.verbose,duration:h.duration,onComplete:function(){u.bind.close(),e.call(d,y),h.onVisible.call(d,y)}})):u.error(f.noTransition)},hide:function(e){e=D.isFunction(e)?e:function(){},u.debug("Hiding pop-up"),!1!==h.onHide.call(d,y)?h.transition&&D.fn.transition!==N&&g.transition("is supported")?d.transition({animation:h.transition+" out",queue:!1,duration:h.duration,debug:h.debug,verbose:h.verbose,onComplete:function(){u.reset(),e.call(d,y),h.onHidden.call(d,y)}}):u.error(f.noTransition):u.debug("onHide callback returned false, cancelling popup animation")}},change:{content:function(e){d.html(e)}},get:{html:function(){return g.removeData(m.html),g.data(m.html)||h.html},title:function(){return g.removeData(m.title),g.data(m.title)||h.title},content:function(){return g.removeData(m.content),g.data(m.content)||g.attr("title")||h.content},variation:function(){return g.removeData(m.variation),g.data(m.variation)||h.variation},popup:function(){return d},popupOffset:function(){return d.offset()},calculations:function(){var e,t=v[0],n=h.inline||h.popup&&h.movePopup?v.position():v.offset(),i={};return i={target:{element:v[0],width:v.outerWidth(),height:v.outerHeight(),top:n.top,left:n.left,margin:{}},popup:{width:d.outerWidth(),height:d.outerHeight()},parent:{width:o.outerWidth(),height:o.outerHeight()},screen:{scroll:{top:S.scrollTop(),left:S.scrollLeft()},width:S.width(),height:S.height()}},h.setFluidWidth&&u.is.fluid()&&(i.container={width:d.parent().outerWidth()},i.popup.width=i.container.width),i.target.margin.top=h.inline?parseInt(I.getComputedStyle(t).getPropertyValue("margin-top"),10):0,i.target.margin.left=h.inline?u.is.rtl()?parseInt(I.getComputedStyle(t).getPropertyValue("margin-right"),10):parseInt(I.getComputedStyle(t).getPropertyValue("margin-left"),10):0,e=i.screen,i.boundary={top:e.scroll.top,bottom:e.scroll.top+e.height,left:e.scroll.left,right:e.scroll.left+e.width},i},id:function(){return t},startEvent:function(){return"hover"==h.on?"mouseenter":"focus"==h.on&&"focus"},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==h.on?"mouseleave":"focus"==h.on&&"blur"},distanceFromBoundary:function(e,t){var n,i,o={};return e=e||u.get.offset(),n=(t=t||u.get.calculations()).popup,i=t.boundary,e&&(o={top:e.top-i.top,left:e.left-i.left,right:i.right-(e.left+n.width),bottom:i.bottom-(e.top+n.height)},u.verbose("Distance from boundaries determined",e,o)),o},offsetParent:function(e){var t=(e!==N?e[0]:g[0]).parentNode,n=D(t);if(t)for(var i="none"===n.css("transform"),o="static"===n.css("position"),r=n.is("html");t&&!r&&o&&i;)t=t.parentNode,i="none"===(n=D(t)).css("transform"),o="static"===n.css("position"),r=n.is("html");return n&&0<n.length?n:D()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(e){var t=e.split(" "),n=t[0],i=t[1],o="top"==n||"bottom"==n,r=!1,a=!1,s=!1;return l||(u.verbose("All available positions available"),l=u.get.positions()),u.debug("Recording last position tried",e),l[e]=!0,"opposite"===h.prefer&&(s=(s=[{top:"bottom",bottom:"top",left:"right",right:"left"}[n],i]).join(" "),r=!0===l[s],u.debug("Trying opposite strategy",s)),"adjacent"===h.prefer&&o&&(s=(s=[n,{left:"center",center:"right",right:"left"}[i]]).join(" "),a=!0===l[s],u.debug("Trying adjacent strategy",s)),(a||r)&&(u.debug("Using backup position",s),s={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"}[e]),s}},set:{position:function(e,t){if(0!==v.length&&0!==d.length){var n,i,o,r,a,s,l,c;if(t=t||u.get.calculations(),e=e||g.data(m.position)||h.position,n=g.data(m.offset)||h.offset,i=h.distanceAway,o=t.target,r=t.popup,a=t.parent,0===o.width&&0===o.height&&!(o.element instanceof SVGGraphicsElement))return u.debug("Popup target is hidden, no action taken"),!1;switch(h.inline&&(u.debug("Adding margin to calculation",o.margin),"left center"==e||"right center"==e?(n+=o.margin.top,i+=-o.margin.left):"top left"==e||"top center"==e||"top right"==e?(n+=o.margin.left,i-=o.margin.top):(n+=o.margin.left,i+=o.margin.top)),u.debug("Determining popup position from calculations",e,t),u.is.rtl()&&(e=e.replace(/left|right/g,function(e){return"left"==e?"right":"left"}),u.debug("RTL: Popup position updated",e)),b==h.maxSearchDepth&&"string"==typeof h.lastResort&&(e=h.lastResort),e){case"top left":s={top:"auto",bottom:a.height-o.top+i,left:o.left+n,right:"auto"};break;case"top center":s={bottom:a.height-o.top+i,left:o.left+o.width/2-r.width/2+n,top:"auto",right:"auto"};break;case"top right":s={bottom:a.height-o.top+i,right:a.width-o.left-o.width-n,top:"auto",left:"auto"};break;case"left center":s={top:o.top+o.height/2-r.height/2+n,right:a.width-o.left+i,left:"auto",bottom:"auto"};break;case"right center":s={top:o.top+o.height/2-r.height/2+n,left:o.left+o.width+i,bottom:"auto",right:"auto"};break;case"bottom left":s={top:o.top+o.height+i,left:o.left+n,bottom:"auto",right:"auto"};break;case"bottom center":s={top:o.top+o.height+i,left:o.left+o.width/2-r.width/2+n,bottom:"auto",right:"auto"};break;case"bottom right":s={top:o.top+o.height+i,right:a.width-o.left-o.width-n,left:"auto",bottom:"auto"}}if(s===N&&u.error(f.invalidPosition,e),u.debug("Calculated popup positioning values",s),d.css(s).removeClass(p.position).addClass(e).addClass(p.loading),l=u.get.popupOffset(),c=u.get.distanceFromBoundary(l,t),u.is.offstage(c,e)){if(u.debug("Position is outside viewport",e),b<h.maxSearchDepth)return b++,e=u.get.nextPosition(e),u.debug("Trying new position",e),!!d&&u.set.position(e,t);if(!h.lastResort)return u.debug("Popup could not find a position to display",d),u.error(f.cannotPlace,y),u.remove.attempts(),u.remove.loading(),u.reset(),!1;u.debug("No position found, showing with last position")}return u.debug("Position is on stage",e),u.remove.attempts(),u.remove.loading(),h.setFluidWidth&&u.is.fluid()&&u.set.fluidWidth(t),!0}u.error(f.notFound)},fluidWidth:function(e){e=e||u.get.calculations(),u.debug("Automatically setting element width to parent width",e.parent.width),d.css("width",e.container.width)},variation:function(e){(e=e||u.get.variation())&&u.has.popup()&&(u.verbose("Adding variation to popup",e),d.addClass(e))},visible:function(){g.addClass(p.visible)}},remove:{loading:function(){d.removeClass(p.loading)},variation:function(e){(e=e||u.get.variation())&&(u.verbose("Removing variation",e),d.removeClass(e))},visible:function(){g.removeClass(p.visible)},attempts:function(){u.verbose("Resetting all searched positions"),b=0,l=!1}},bind:{events:function(){u.debug("Binding popup events to module"),"click"==h.on&&g.on("click"+r,u.toggle),"hover"==h.on&&g.on("touchstart"+r,u.event.touchstart),u.get.startEvent()&&g.on(u.get.startEvent()+r,u.event.start).on(u.get.endEvent()+r,u.event.end),h.target&&u.debug("Target set to element",v),S.on("resize"+e,u.event.resize)},popup:function(){u.verbose("Allowing hover events on popup to prevent closing"),d&&u.has.popup()&&d.on("mouseenter"+r,u.event.start).on("mouseleave"+r,u.event.end)},close:function(){(!0===h.hideOnScroll||"auto"==h.hideOnScroll&&"click"!=h.on)&&(k.one(u.get.scrollEvent()+e,u.event.hideGracefully),s.one(u.get.scrollEvent()+e,u.event.hideGracefully)),"hover"==h.on&&c&&(u.verbose("Binding popup close event to document"),k.on("touchstart"+e,function(e){u.verbose("Touched away from popup"),u.event.hideGracefully.call(y,e)})),"click"==h.on&&h.closable&&(u.verbose("Binding popup close event to document"),k.on("click"+e,function(e){u.verbose("Clicked away from popup"),u.event.hideGracefully.call(y,e)}))}},unbind:{close:function(){(!0===h.hideOnScroll||"auto"==h.hideOnScroll&&"click"!=h.on)&&(k.off("scroll"+e,u.hide),s.off("scroll"+e,u.hide)),"hover"==h.on&&c&&(k.off("touchstart"+e),c=!1),"click"==h.on&&h.closable&&(u.verbose("Removing close event from document"),k.off("click"+e))}},has:{popup:function(){return d&&0<d.length}},is:{offstage:function(e,n){var i=[];return D.each(e,function(e,t){t<-h.jitter&&(u.debug("Position exceeds allowable distance from edge",e,t,n),i.push(e))}),0<i.length},active:function(){return g.hasClass(p.active)},animating:function(){return d&&d.hasClass(p.animating)},fluid:function(){return d&&d.hasClass(p.fluid)},visible:function(){return d&&d.hasClass(p.visible)},dropdown:function(){return g.hasClass(p.dropdown)},hidden:function(){return!u.is.visible()},rtl:function(){return"rtl"==g.css("direction")}},reset:function(){u.remove.visible(),h.preserve?D.fn.transition!==N&&d.transition("remove transition"):u.removePopup()},setting:function(e,t){if(D.isPlainObject(e))D.extend(!0,h,e);else{if(t===N)return h[e];h[e]=t}},internal:function(e,t){if(D.isPlainObject(e))D.extend(!0,u,e);else{if(t===N)return u[e];u[e]=t}},debug:function(){h.debug&&(h.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,h.name+":"),u.debug.apply(console,arguments)))},verbose:function(){h.verbose&&h.debug&&(h.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),u.verbose.apply(console,arguments)))},error:function(){u.error=Function.prototype.bind.call(console.error,console,h.name+":"),u.error.apply(console,arguments)},performance:{log:function(e){var t,n;h.performance&&(n=(t=(new Date).getTime())-(_||t),_=t,A.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:y,"Execution Time":n})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,500)},display:function(){var e=h.name+":",n=0;_=!1,clearTimeout(u.performance.timer),D.each(A,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",E&&(e+=" '"+E+"'"),(console.group!==N||console.table!==N)&&0<A.length&&(console.groupCollapsed(e),console.table?console.table(A):D.each(A,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),A=[]}},invoke:function(i,e,t){var o,r,n,a=x;return e=e||O,t=y||t,"string"==typeof i&&a!==N&&(i=i.split(/[\. ]/),o=i.length-1,D.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(D.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==N)return r=a[n],!1;if(!D.isPlainObject(a[t])||e==o)return a[t]!==N&&(r=a[t]),!1;a=a[t]}})),D.isFunction(r)?n=r.apply(t,e):r!==N&&(n=r),D.isArray(C)?C.push(n):C!==N?C=[C,n]:n!==N&&(C=n),r}},P?(x===N&&u.initialize(),u.invoke(j)):(x!==N&&x.invoke("destroy"),u.initialize())}),C!==N?C:this},D.fn.popup.settings={name:"Popup",debug:!1,verbose:!1,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},on:"hover",addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?e.replace(/[&<>"'`]/g,function(e){return t[e]}):e},popup:function(e){var t="",n=D.fn.popup.settings.templates.escape;return typeof e!==N&&(typeof e.title!==N&&e.title&&(e.title=n(e.title),t+='<div class="header">'+e.title+"</div>"),typeof e.content!==N&&e.content&&(e.content=n(e.content),t+='<div class="content">'+e.content+"</div>")),t}}}}(jQuery,window,document),function(T,E,_){"use strict";T.fn.progress=function(v){var b,e=T(this),y=e.selector||"",x=(new Date).getTime(),w=[],C=v,k="string"==typeof C,S=[].slice.call(arguments,1);return e.each(function(){var t,s,i=T.isPlainObject(v)?T.extend(!0,{},T.fn.progress.settings,v):T.extend({},T.fn.progress.settings),n=i.className,o=i.metadata,e=i.namespace,r=i.selector,l=i.error,a="."+e,c="module-"+e,d=T(this),u=T(this).find(r.bar),h=T(this).find(r.progress),p=T(this).find(r.label),f=this,m=d.data(c),g=!1;s={initialize:function(){s.debug("Initializing progress bar",i),s.set.duration(),s.set.transitionEvent(),s.read.metadata(),s.read.settings(),s.instantiate()},instantiate:function(){s.verbose("Storing instance of progress",s),m=s,d.data(c,s)},destroy:function(){s.verbose("Destroying previous progress for",d),clearInterval(m.interval),s.remove.state(),d.removeData(c),m=_},reset:function(){s.set.percent(0),s.set.value(0)},complete:function(){(s.percent===_||s.percent<100)&&s.set.percent(100)},read:{metadata:function(){var e={percent:d.data(o.percent),total:d.data(o.total),value:d.data(o.value)};e.percent&&(s.debug("Current percent value set from metadata",e.percent),s.set.percent(e.percent)),e.total&&(s.debug("Total value set from metadata",e.total),s.set.total(e.total)),e.value&&(s.debug("Current value set from metadata",e.value),s.set.value(e.value),s.set.progress(e.value))},settings:function(){!1!==i.total&&(s.debug("Current total set in settings",i.total),s.set.total(i.total)),!1!==i.value&&(s.debug("Current value set in settings",i.value),s.set.value(i.value),s.set.progress(s.value)),!1!==i.percent&&(s.debug("Current percent set in settings",i.percent),s.set.percent(i.percent))}},increment:function(e){var t,n,i;s.has.total()?(i=(n=s.get.value())+(e=e||1),t=s.get.total(),s.debug("Incrementing value",n,i,t),t<i&&(s.debug("Value cannot increment above total",t),i=t)):(i=(n=s.get.percent())+(e=e||s.get.randomValue()),t=100,s.debug("Incrementing percentage by",n,i),t<i&&(s.debug("Value cannot increment above 100 percent"),i=t)),s.set.progress(i)},decrement:function(e){var t,n;s.get.total()?(n=(t=s.get.value())-(e=e||1),s.debug("Decrementing value by",e,t)):(n=(t=s.get.percent())-(e=e||s.get.randomValue()),s.debug("Decrementing percentage by",e,t)),n<0&&(s.debug("Value cannot decrement below 0"),n=0),s.set.progress(n)},has:{total:function(){return!1!==s.get.total()}},get:{text:function(e){var t=s.value||0,n=s.total||0,i=g?s.get.displayPercent():s.percent||0,o=0<s.total?n-t:100-i;return e=(e=e||"").replace("{value}",t).replace("{total}",n).replace("{left}",o).replace("{percent}",i),s.debug("Adding variables to progress bar text",e),e},randomValue:function(){return s.debug("Generating random increment percentage"),Math.floor(Math.random()*i.random.max+i.random.min)},numericValue:function(e){return"string"==typeof e?""!==e.replace(/[^\d.]/g,"")&&+e.replace(/[^\d.]/g,""):e},transitionEnd:function(){var e,t=E.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(t.style[e]!==_)return n[e]},displayPercent:function(){var e=u.width(),t=d.width(),n=parseInt(u.css("min-width"),10)<e?e/t*100:s.percent;return 0<i.precision?Math.round(n*(10*i.precision))/(10*i.precision):Math.round(n)},percent:function(){return s.percent||0},value:function(){return s.value||0},total:function(){return s.total||!1}},is:{success:function(){return d.hasClass(n.success)},warning:function(){return d.hasClass(n.warning)},error:function(){return d.hasClass(n.error)},active:function(){return d.hasClass(n.active)},visible:function(){return d.is(":visible")}},remove:{state:function(){s.verbose("Removing stored state"),delete s.total,delete s.percent,delete s.value},active:function(){s.verbose("Removing active state"),d.removeClass(n.active)},success:function(){s.verbose("Removing success state"),d.removeClass(n.success)},warning:function(){s.verbose("Removing warning state"),d.removeClass(n.warning)},error:function(){s.verbose("Removing error state"),d.removeClass(n.error)}},set:{barWidth:function(e){100<e?s.error(l.tooHigh,e):e<0?s.error(l.tooLow,e):(u.css("width",e+"%"),d.attr("data-percent",parseInt(e,10)))},duration:function(e){e="number"==typeof(e=e||i.duration)?e+"ms":e,s.verbose("Setting progress bar transition duration",e),u.css({"transition-duration":e})},percent:function(e){e="string"==typeof e?+e.replace("%",""):e,e=0<i.precision?Math.round(e*(10*i.precision))/(10*i.precision):Math.round(e),s.percent=e,s.has.total()||(s.value=0<i.precision?Math.round(e/100*s.total*(10*i.precision))/(10*i.precision):Math.round(e/100*s.total*10)/10,i.limitValues&&(s.value=100<s.value?100:s.value<0?0:s.value)),s.set.barWidth(e),s.set.labelInterval(),s.set.labels(),i.onChange.call(f,e,s.value,s.total)},labelInterval:function(){function e(){s.verbose("Bar finished animating, removing continuous label updates"),clearInterval(s.interval),g=!1,s.set.labels()}clearInterval(s.interval),u.one(t+a,e),s.timer=setTimeout(e,i.duration+100),g=!0,s.interval=setInterval(s.set.labels,i.framerate)},labels:function(){s.verbose("Setting both bar progress and outer label text"),s.set.barLabel(),s.set.state()},label:function(e){(e=e||"")&&(e=s.get.text(e),s.debug("Setting label to text",e),p.text(e))},state:function(e){100===(e=e!==_?e:s.percent)?!i.autoSuccess||s.is.warning()||s.is.error()?(s.verbose("Reached 100% removing active state"),s.remove.active()):(s.set.success(),s.debug("Automatically triggering success at 100%")):0<e?(s.verbose("Adjusting active progress bar label",e),s.set.active()):(s.remove.active(),s.set.label(i.text.active))},barLabel:function(e){e!==_?h.text(s.get.text(e)):"ratio"==i.label&&s.total?(s.debug("Adding ratio to bar label"),h.text(s.get.text(i.text.ratio))):"percent"==i.label&&(s.debug("Adding percentage to bar label"),h.text(s.get.text(i.text.percent)))},active:function(e){e=e||i.text.active,s.debug("Setting active state"),i.showActivity&&!s.is.active()&&d.addClass(n.active),s.remove.warning(),s.remove.error(),s.remove.success(),e&&s.set.label(e),i.onActive.call(f,s.value,s.total)},success:function(e){e=e||i.text.success,s.debug("Setting success state"),d.addClass(n.success),s.remove.active(),s.remove.warning(),s.remove.error(),s.complete(),e&&s.set.label(e),i.onSuccess.call(f,s.total)},warning:function(e){e=e||i.text.warning,s.debug("Setting warning state"),d.addClass(n.warning),s.remove.active(),s.remove.success(),s.remove.error(),s.complete(),e&&s.set.label(e),i.onWarning.call(f,s.value,s.total)},error:function(e){e=e||i.text.error,s.debug("Setting error state"),d.addClass(n.error),s.remove.active(),s.remove.success(),s.remove.warning(),s.complete(),e&&s.set.label(e),i.onError.call(f,s.value,s.total)},transitionEvent:function(){t=s.get.transitionEnd()},total:function(e){s.total=e},value:function(e){s.value=e},progress:function(e){var t,n=s.get.numericValue(e);!1===n&&s.error(l.nonNumeric,e),s.has.total()?(s.set.value(n),t=n/s.total*100,s.debug("Calculating percent complete from total",t)):(t=n,s.debug("Setting value to exact percentage value",t)),s.set.percent(t)}},setting:function(e,t){if(s.debug("Changing setting",e,t),T.isPlainObject(e))T.extend(!0,i,e);else{if(t===_)return i[e];i[e]=t}},internal:function(e,t){if(T.isPlainObject(e))T.extend(!0,s,e);else{if(t===_)return s[e];s[e]=t}},debug:function(){i.debug&&(i.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,i.name+":"),s.debug.apply(console,arguments)))},verbose:function(){i.verbose&&i.debug&&(i.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,i.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,i.name+":"),s.error.apply(console,arguments)},performance:{log:function(e){var t,n;i.performance&&(n=(t=(new Date).getTime())-(x||t),x=t,w.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:f,"Execution Time":n})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var e=i.name+":",n=0;x=!1,clearTimeout(s.performance.timer),T.each(w,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",y&&(e+=" '"+y+"'"),(console.group!==_||console.table!==_)&&0<w.length&&(console.groupCollapsed(e),console.table?console.table(w):T.each(w,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),w=[]}},invoke:function(i,e,t){var o,r,n,a=m;return e=e||S,t=f||t,"string"==typeof i&&a!==_&&(i=i.split(/[\. ]/),o=i.length-1,T.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(T.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==_)return r=a[n],!1;if(!T.isPlainObject(a[t])||e==o)return a[t]!==_?r=a[t]:s.error(l.method,i),!1;a=a[t]}})),T.isFunction(r)?n=r.apply(t,e):r!==_&&(n=r),T.isArray(b)?b.push(n):b!==_?b=[b,n]:n!==_&&(b=n),r}},k?(m===_&&s.initialize(),s.invoke(C)):(m!==_&&m.invoke("destroy"),s.initialize())}),b!==_?b:this},T.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,onChange:function(e,t,n){},onSuccess:function(e){},onActive:function(e,t){},onError:function(e,t){},onWarning:function(e,t){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,(window,document)),function(w,C){"use strict";w.fn.rating=function(h){var p,f=w(this),m=f.selector||"",g=(new Date).getTime(),v=[],b=h,y="string"==typeof b,x=[].slice.call(arguments,1);return f.each(function(){var i,o=w.isPlainObject(h)?w.extend(!0,{},w.fn.rating.settings,h):w.extend({},w.fn.rating.settings),e=o.namespace,r=o.className,t=o.metadata,n=o.selector,a=(o.error,"."+e),s="module-"+e,l=this,c=w(this).data(s),d=w(this),u=d.find(n.icon);i={initialize:function(){i.verbose("Initializing rating module",o),0===u.length&&i.setup.layout(),o.interactive?i.enable():i.disable(),i.set.rating(i.get.initialRating()),i.instantiate()},instantiate:function(){i.verbose("Instantiating module",o),c=i,d.data(s,i)},destroy:function(){i.verbose("Destroying previous instance",c),i.remove.events(),d.removeData(s)},refresh:function(){u=d.find(n.icon)},setup:{layout:function(){var e=i.get.maxRating(),t=w.fn.rating.settings.templates.icon(e);i.debug("Generating icon html dynamically"),d.html(t),i.refresh()}},event:{mouseenter:function(){var e=w(this);e.nextAll().removeClass(r.selected),d.addClass(r.selected),e.addClass(r.selected).prevAll().addClass(r.selected)},mouseleave:function(){d.removeClass(r.selected),u.removeClass(r.selected)},click:function(){var e=w(this),t=i.get.rating(),n=u.index(e)+1;("auto"==o.clearable?1===u.length:o.clearable)&&t==n?i.clearRating():i.set.rating(n)}},clearRating:function(){i.debug("Clearing current rating"),i.set.rating(0)},bind:{events:function(){i.verbose("Binding events"),d.on("mouseenter"+a,n.icon,i.event.mouseenter).on("mouseleave"+a,n.icon,i.event.mouseleave).on("click"+a,n.icon,i.event.click)}},remove:{events:function(){i.verbose("Removing events"),d.off(a)}},enable:function(){i.debug("Setting rating to interactive mode"),i.bind.events(),d.removeClass(r.disabled)},disable:function(){i.debug("Setting rating to read-only mode"),i.remove.events(),d.addClass(r.disabled)},get:{initialRating:function(){return d.data(t.rating)!==C?(d.removeData(t.rating),d.data(t.rating)):o.initialRating},maxRating:function(){return d.data(t.maxRating)!==C?(d.removeData(t.maxRating),d.data(t.maxRating)):o.maxRating},rating:function(){var e=u.filter("."+r.active).length;return i.verbose("Current rating retrieved",e),e}},set:{rating:function(e){var t=0<=e-1?e-1:0,n=u.eq(t);d.removeClass(r.selected),u.removeClass(r.selected).removeClass(r.active),0<e&&(i.verbose("Setting current rating to",e),n.prevAll().andSelf().addClass(r.active)),o.onRate.call(l,e)}},setting:function(e,t){if(i.debug("Changing setting",e,t),w.isPlainObject(e))w.extend(!0,o,e);else{if(t===C)return o[e];o[e]=t}},internal:function(e,t){if(w.isPlainObject(e))w.extend(!0,i,e);else{if(t===C)return i[e];i[e]=t}},debug:function(){o.debug&&(o.performance?i.performance.log(arguments):(i.debug=Function.prototype.bind.call(console.info,console,o.name+":"),i.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?i.performance.log(arguments):(i.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),i.verbose.apply(console,arguments)))},error:function(){i.error=Function.prototype.bind.call(console.error,console,o.name+":"),i.error.apply(console,arguments)},performance:{log:function(e){var t,n;o.performance&&(n=(t=(new Date).getTime())-(g||t),g=t,v.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:l,"Execution Time":n})),clearTimeout(i.performance.timer),i.performance.timer=setTimeout(i.performance.display,500)},display:function(){var e=o.name+":",n=0;g=!1,clearTimeout(i.performance.timer),w.each(v,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",m&&(e+=" '"+m+"'"),1<f.length&&(e+=" ("+f.length+")"),(console.group!==C||console.table!==C)&&0<v.length&&(console.groupCollapsed(e),console.table?console.table(v):w.each(v,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),v=[]}},invoke:function(i,e,t){var o,r,n,a=c;return e=e||x,t=l||t,"string"==typeof i&&a!==C&&(i=i.split(/[\. ]/),o=i.length-1,w.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(w.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==C)return r=a[n],!1;if(!w.isPlainObject(a[t])||e==o)return a[t]!==C&&(r=a[t]),!1;a=a[t]}})),w.isFunction(r)?n=r.apply(t,e):r!==C&&(n=r),w.isArray(p)?p.push(n):p!==C?p=[p,n]:n!==C&&(p=n),r}},y?(c===C&&i.initialize(),i.invoke(b)):(c!==C&&c.invoke("destroy"),i.initialize())}),p!==C?p:this},w.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(e){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(e){for(var t=1,n="";t<=e;)n+='<i class="icon"></i>',t++;return n}}}}(jQuery,(window,void document)),function(E,_,A,j){"use strict";E.fn.search=function(a){var b,y=E(this),x=y.selector||"",w=(new Date).getTime(),C=[],k=a,S="string"==typeof k,T=[].slice.call(arguments,1);return E(this).each(function(){var d,c=E.isPlainObject(a)?E.extend(!0,{},E.fn.search.settings,a):E.extend({},E.fn.search.settings),u=c.className,h=c.metadata,l=c.regExp,r=c.fields,p=c.selector,f=c.error,e=c.namespace,t="."+e,n=e+"-module",m=E(this),g=m.find(p.prompt),i=m.find(p.searchButton),o=m.find(p.results),v=(m.find(p.result),m.find(p.category),this),s=m.data(n);d={initialize:function(){d.verbose("Initializing module"),d.determine.searchFields(),d.bind.events(),d.set.type(),d.create.results(),d.instantiate()},instantiate:function(){d.verbose("Storing instance of module",d),s=d,m.data(n,d)},destroy:function(){d.verbose("Destroying instance"),m.off(t).removeData(n)},bind:{events:function(){d.verbose("Binding events to search"),c.automatic&&(m.on(d.get.inputEvent()+t,p.prompt,d.event.input),g.attr("autocomplete","off")),m.on("focus"+t,p.prompt,d.event.focus).on("blur"+t,p.prompt,d.event.blur).on("keydown"+t,p.prompt,d.handleKeyboard).on("click"+t,p.searchButton,d.query).on("mousedown"+t,p.results,d.event.result.mousedown).on("mouseup"+t,p.results,d.event.result.mouseup).on("click"+t,p.result,d.event.result.click)}},determine:{searchFields:function(){a&&a.searchFields!==j&&(c.searchFields=a.searchFields)}},event:{input:function(){clearTimeout(d.timer),d.timer=setTimeout(d.query,c.searchDelay)},focus:function(){d.set.focus(),d.has.minimumCharacters()&&(d.query(),d.can.show()&&d.showResults())},blur:function(e){A.activeElement===this||d.resultsClicked||(d.cancel.query(),d.remove.focus(),d.timer=setTimeout(d.hideResults,c.hideDelay))},result:{mousedown:function(){d.resultsClicked=!0},mouseup:function(){d.resultsClicked=!1},click:function(e){d.debug("Search result selected");var t=E(this),n=t.find(p.title).eq(0),i=t.find("a[href]").eq(0),o=i.attr("href")||!1,r=i.attr("target")||!1,a=(n.html(),0<n.length&&n.text()),s=d.get.results(),l=t.data(h.result)||d.get.result(a,s);E.isFunction(c.onSelect)&&!1===c.onSelect.call(v,l,s)?d.debug("Custom onSelect callback cancelled default select action"):(d.hideResults(),a&&d.set.value(a),o&&(d.verbose("Opening search link found in result",i),"_blank"==r||e.ctrlKey?_.open(o):_.location.href=o))}}},handleKeyboard:function(e){var t,n=m.find(p.result),i=m.find(p.category),o=n.index(n.filter("."+u.active)),r=n.length,a=e.which,s=13,l=38,c=40;if(a==27&&(d.verbose("Escape key pressed, blurring search field"),d.trigger.blur()),d.is.visible())if(a==s){if(d.verbose("Enter key pressed, selecting active result"),0<n.filter("."+u.active).length)return d.event.result.click.call(n.filter("."+u.active),e),e.preventDefault(),!1}else a==l?(d.verbose("Up key pressed, changing active result"),t=o-1<0?o:o-1,i.removeClass(u.active),n.removeClass(u.active).eq(t).addClass(u.active).closest(i).addClass(u.active),e.preventDefault()):a==c&&(d.verbose("Down key pressed, changing active result"),t=r<=o+1?o:o+1,i.removeClass(u.active),n.removeClass(u.active).eq(t).addClass(u.active).closest(i).addClass(u.active),e.preventDefault());else a==s&&(d.verbose("Enter key pressed, executing query"),d.query(),d.set.buttonPressed(),g.one("keyup",d.remove.buttonFocus))},setup:{api:function(){var e={debug:c.debug,on:!1,cache:"local",action:"search",onError:d.error};d.verbose("First request, initializing API"),m.api(e)}},can:{useAPI:function(){return E.fn.api!==j},show:function(){return d.is.focused()&&!d.is.visible()&&!d.is.empty()},transition:function(){return c.transition&&E.fn.transition!==j&&m.transition("is supported")}},is:{empty:function(){return""===o.html()},visible:function(){return 0<o.filter(":visible").length},focused:function(){return 0<g.filter(":focus").length}},trigger:{blur:function(){var e=A.createEvent("HTMLEvents"),t=g[0];t&&(d.verbose("Triggering native blur event"),e.initEvent("blur",!1,!1),t.dispatchEvent(e))}},get:{inputEvent:function(){var e=g[0];return e!==j&&e.oninput!==j?"input":e!==j&&e.onpropertychange!==j?"propertychange":"keyup"},value:function(){return g.val()},results:function(){return m.data(h.results)},result:function(n,e){var i=["title","id"],o=!1;return n=n!==j?n:d.get.value(),e=e!==j?e:d.get.results(),"category"===c.type?(d.debug("Finding result that matches",n),E.each(e,function(e,t){if(E.isArray(t.results)&&(o=d.search.object(n,t.results,i)[0]))return!1})):(d.debug("Finding result in results object",n),o=d.search.object(n,e,i)[0]),o||!1}},set:{focus:function(){m.addClass(u.focus)},loading:function(){m.addClass(u.loading)},value:function(e){d.verbose("Setting search input value",e),g.val(e)},type:function(e){e=e||c.type,"category"==c.type&&m.addClass(c.type)},buttonPressed:function(){i.addClass(u.pressed)}},remove:{loading:function(){m.removeClass(u.loading)},focus:function(){m.removeClass(u.focus)},buttonPressed:function(){i.removeClass(u.pressed)}},query:function(){var e=d.get.value(),t=d.read.cache(e);d.has.minimumCharacters()?(t?(d.debug("Reading result from cache",e),d.save.results(t.results),d.addResults(t.html),d.inject.id(t.results)):(d.debug("Querying for",e),E.isPlainObject(c.source)||E.isArray(c.source)?d.search.local(e):d.can.useAPI()?d.search.remote(e):d.error(f.source)),c.onSearchQuery.call(v,e)):d.hideResults()},search:{local:function(e){var t,n=d.search.object(e,c.content);d.set.loading(),d.save.results(n),d.debug("Returned local search results",n),t=d.generateResults({results:n}),d.remove.loading(),d.addResults(t),d.inject.id(n),d.write.cache(e,{html:t,results:n})},remote:function(t){var e={onSuccess:function(e){d.parse.response.call(v,e,t)},onFailure:function(){d.displayMessage(f.serverError)},urlData:{query:t}};m.api("get request")||d.setup.api(),E.extend(!0,e,c.apiSettings),d.debug("Executing search",e),d.cancel.query(),m.api("setting",e).api("query")},object:function(i,t,e){function o(e,t){var n=-1==E.inArray(t,r),i=-1==E.inArray(t,a);n&&i&&e.push(t)}var r=[],a=[],n=i.toString().replace(l.escape,"\\$&"),s=new RegExp(l.beginsWith+n,"i");return t=t||c.source,e=e!==j?e:c.searchFields,E.isArray(e)||(e=[e]),t===j||!1===t?(d.error(f.source),[]):(E.each(e,function(e,n){E.each(t,function(e,t){"string"==typeof t[n]&&(-1!==t[n].search(s)?o(r,t):c.searchFullText&&d.fuzzySearch(i,t[n])&&o(a,t))})}),E.merge(r,a))}},fuzzySearch:function(e,t){var n=t.length,i=e.length;if("string"!=typeof e)return!1;if(e=e.toLowerCase(),t=t.toLowerCase(),n<i)return!1;if(i===n)return e===t;e:for(var o=0,r=0;o<i;o++){for(var a=e.charCodeAt(o);r<n;)if(t.charCodeAt(r++)===a)continue e;return!1}return!0},parse:{response:function(e,t){var n=d.generateResults(e);d.verbose("Parsing server response",e),e!==j&&t!==j&&e[r.results]!==j&&(d.addResults(n),d.inject.id(e[r.results]),d.write.cache(t,{html:n,results:e[r.results]}),d.save.results(e[r.results]))}},cancel:{query:function(){d.can.useAPI()&&m.api("abort")}},has:{minimumCharacters:function(){return d.get.value().length>=c.minCharacters}},clear:{cache:function(e){var t=m.data(h.cache);e?e&&t&&t[e]&&(d.debug("Removing value from cache",e),delete t[e],m.data(h.cache,t)):(d.debug("Clearing cache",e),m.removeData(h.cache))}},read:{cache:function(e){var t=m.data(h.cache);return!!c.cache&&(d.verbose("Checking cache for generated html for query",e),"object"==typeof t&&t[e]!==j&&t[e])}},create:{id:function(e,t){var n,i=e+1;return t!==j?(n=String.fromCharCode(97+t)+i,d.verbose("Creating category result id",n)):(n=i,d.verbose("Creating result id",n)),n},results:function(){0===o.length&&(o=E("<div />").addClass(u.results).appendTo(m))}},inject:{result:function(e,t,n){d.verbose("Injecting result into results");var i=n!==j?o.children().eq(n).children(p.result).eq(t):o.children(p.result).eq(t);d.verbose("Injecting results metadata",i),i.data(h.result,e)},id:function(i){d.debug("Injecting unique ids into results");var o=0,r=0;return"category"===c.type?E.each(i,function(e,i){r=0,E.each(i.results,function(e,t){var n=i.results[e];n.id===j&&(n.id=d.create.id(r,o)),d.inject.result(n,r,o),r++}),o++}):E.each(i,function(e,t){var n=i[e];n.id===j&&(n.id=d.create.id(r)),d.inject.result(n,r),r++}),i}},save:{results:function(e){d.verbose("Saving current search results to metadata",e),m.data(h.results,e)}},write:{cache:function(e,t){var n=m.data(h.cache)!==j?m.data(h.cache):{};c.cache&&(d.verbose("Writing generated html to cache",e,t),n[e]=t,m.data(h.cache,n))}},addResults:function(e){if(E.isFunction(c.onResultsAdd)&&!1===c.onResultsAdd.call(o,e))return d.debug("onResultsAdd callback cancelled default action"),!1;o.html(e),d.can.show()&&d.showResults()},showResults:function(){d.is.visible()||(d.can.transition()?(d.debug("Showing results with css animations"),o.transition({animation:c.transition+" in",debug:c.debug,verbose:c.verbose,duration:c.duration,queue:!0})):(d.debug("Showing results with javascript"),o.stop().fadeIn(c.duration,c.easing)),c.onResultsOpen.call(o))},hideResults:function(){d.is.visible()&&(d.can.transition()?(d.debug("Hiding results with css animations"),o.transition({animation:c.transition+" out",debug:c.debug,verbose:c.verbose,duration:c.duration,queue:!0})):(d.debug("Hiding results with javascript"),o.stop().fadeOut(c.duration,c.easing)),c.onResultsClose.call(o))},generateResults:function(e){d.debug("Generating html from response",e);var t=c.templates[c.type],n=E.isPlainObject(e[r.results])&&!E.isEmptyObject(e[r.results]),i=E.isArray(e[r.results])&&0<e[r.results].length,o="";return n||i?(0<c.maxResults&&(n?"standard"==c.type&&d.error(f.maxResults):e[r.results]=e[r.results].slice(0,c.maxResults)),E.isFunction(t)?o=t(e,r):d.error(f.noTemplate,!1)):o=d.displayMessage(f.noResults,"empty"),c.onResults.call(v,e),o},displayMessage:function(e,t){return t=t||"standard",d.debug("Displaying message",e,t),d.addResults(c.templates.message(e,t)),c.templates.message(e,t)},setting:function(e,t){if(E.isPlainObject(e))E.extend(!0,c,e);else{if(t===j)return c[e];c[e]=t}},internal:function(e,t){if(E.isPlainObject(e))E.extend(!0,d,e);else{if(t===j)return d[e];d[e]=t}},debug:function(){c.debug&&(c.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,c.name+":"),d.debug.apply(console,arguments)))},verbose:function(){c.verbose&&c.debug&&(c.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,c.name+":"),d.error.apply(console,arguments)},performance:{log:function(e){var t,n;c.performance&&(n=(t=(new Date).getTime())-(w||t),w=t,C.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:v,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var e=c.name+":",n=0;w=!1,clearTimeout(d.performance.timer),E.each(C,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",x&&(e+=" '"+x+"'"),1<y.length&&(e+=" ("+y.length+")"),(console.group!==j||console.table!==j)&&0<C.length&&(console.groupCollapsed(e),console.table?console.table(C):E.each(C,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),C=[]}},invoke:function(i,e,t){var o,r,n,a=s;return e=e||T,t=v||t,"string"==typeof i&&a!==j&&(i=i.split(/[\. ]/),o=i.length-1,E.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(E.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==j)return r=a[n],!1;if(!E.isPlainObject(a[t])||e==o)return a[t]!==j&&(r=a[t]),!1;a=a[t]}})),E.isFunction(r)?n=r.apply(t,e):r!==j&&(n=r),E.isArray(b)?b.push(n):b!==j?b=[b,n]:n!==j&&(b=n),r}},S?(s===j&&d.initialize(),d.invoke(k)):(s!==j&&s.invoke("destroy"),d.initialize())}),b!==j?b:this},E.fn.search.settings={name:"Search",namespace:"search",debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(e){},onResults:function(e){},onResultsOpen:function(){},onResultsClose:function(){},className:{active:"active",empty:"empty",focus:"focus",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return/[&<>"'`]/.test(e)?e.replace(/[&<>"'`]/g,function(e){return t[e]}):e},message:function(e,t){var n="";return e!==j&&t!==j&&(n+='<div class="message '+t+'">',n+="empty"==t?'<div class="header">No Results</div class="header"><div class="description">'+e+'</div class="description">':' <div class="description">'+e+"</div>",n+="</div>"),n},category:function(e,n){var i="";E.fn.search.settings.templates.escape;return e[n.categoryResults]!==j&&(E.each(e[n.categoryResults],function(e,t){t[n.results]!==j&&0<t.results.length&&(i+='<div class="category">',t[n.categoryName]!==j&&(i+='<div class="name">'+t[n.categoryName]+"</div>"),E.each(t.results,function(e,t){t[n.url]?i+='<a class="result" href="'+t[n.url]+'">':i+='<a class="result">',t[n.image]!==j&&(i+='<div class="image"> <img src="'+t[n.image]+'"></div>'),i+='<div class="content">',t[n.price]!==j&&(i+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==j&&(i+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==j&&(i+='<div class="description">'+t[n.description]+"</div>"),i+="</div>",i+="</a>"}),i+="</div>")}),e[n.action]&&(i+='<a href="'+e[n.action][n.actionURL]+'" class="action">'+e[n.action][n.actionText]+"</a>"),i)},standard:function(e,n){var i="";return e[n.results]!==j&&(E.each(e[n.results],function(e,t){t[n.url]?i+='<a class="result" href="'+t[n.url]+'">':i+='<a class="result">',t[n.image]!==j&&(i+='<div class="image"> <img src="'+t[n.image]+'"></div>'),i+='<div class="content">',t[n.price]!==j&&(i+='<div class="price">'+t[n.price]+"</div>"),t[n.title]!==j&&(i+='<div class="title">'+t[n.title]+"</div>"),t[n.description]!==j&&(i+='<div class="description">'+t[n.description]+"</div>"),i+="</div>",i+="</a>"}),e[n.action]&&(i+='<a href="'+e[n.action][n.actionURL]+'" class="action">'+e[n.action][n.actionText]+"</a>"),i)}}}}(jQuery,window,document),function(E,e,_,A){"use strict";E.fn.shape=function(v){var b,y=E(this),x=(E("body"),(new Date).getTime()),w=[],C=v,k="string"==typeof C,S=[].slice.call(arguments,1),T=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,0)};return y.each(function(){var i,o,r,t=y.selector||"",a=E.isPlainObject(v)?E.extend(!0,{},E.fn.shape.settings,v):E.extend({},E.fn.shape.settings),e=a.namespace,s=a.selector,n=a.error,l=a.className,c="."+e,d="module-"+e,u=E(this),h=u.find(s.sides),p=u.find(s.side),f=!1,m=this,g=u.data(d);r={initialize:function(){r.verbose("Initializing module for",m),r.set.defaultSide(),r.instantiate()},instantiate:function(){r.verbose("Storing instance of module",r),g=r,u.data(d,g)},destroy:function(){r.verbose("Destroying previous module for",m),u.removeData(d).off(c)},refresh:function(){r.verbose("Refreshing selector cache for",m),u=E(m),h=E(this).find(s.shape),p=E(this).find(s.side)},repaint:function(){r.verbose("Forcing repaint event");(h[0]||_.createElement("div")).offsetWidth},animate:function(e,t){r.verbose("Animating box with properties",e),t=t||function(e){r.verbose("Executing animation callback"),e!==A&&e.stopPropagation(),r.reset(),r.set.active()},a.beforeChange.call(o[0]),r.get.transitionEvent()?(r.verbose("Starting CSS animation"),u.addClass(l.animating),h.css(e).one(r.get.transitionEvent(),t),r.set.duration(a.duration),T(function(){u.addClass(l.animating),i.addClass(l.hidden)})):t()},queue:function(e){r.debug("Queueing animation of",e),h.one(r.get.transitionEvent(),function(){r.debug("Executing queued animation"),setTimeout(function(){u.shape(e)},0)})},reset:function(){r.verbose("Animating states reset"),u.removeClass(l.animating).attr("style","").removeAttr("style"),h.attr("style","").removeAttr("style"),p.attr("style","").removeAttr("style").removeClass(l.hidden),o.removeClass(l.animating).attr("style","").removeAttr("style")},is:{complete:function(){return p.filter("."+l.active)[0]==o[0]},animating:function(){return u.hasClass(l.animating)}},set:{defaultSide:function(){i=u.find("."+a.className.active),o=0<i.next(s.side).length?i.next(s.side):u.find(s.side).first(),f=!1,r.verbose("Active side set to",i),r.verbose("Next side set to",o)},duration:function(e){e="number"==typeof(e=e||a.duration)?e+"ms":e,r.verbose("Setting animation duration",e),!a.duration&&0!==a.duration||h.add(p).css({"-webkit-transition-duration":e,"-moz-transition-duration":e,"-ms-transition-duration":e,"-o-transition-duration":e,"transition-duration":e})},currentStageSize:function(){var e=u.find("."+a.className.active),t=e.outerWidth(!0),n=e.outerHeight(!0);u.css({width:t,height:n})},stageSize:function(){var e,t=u.clone().addClass(l.loading),n=t.find("."+a.className.active),i=f?t.find(s.side).eq(f):0<n.next(s.side).length?n.next(s.side):t.find(s.side).first();r.set.currentStageSize(),n.removeClass(l.active),i.addClass(l.active),t.insertAfter(u),e={width:i.outerWidth(!0),height:i.outerHeight(!0)},t.remove(),u.css(e),r.verbose("Resizing stage to fit new content",e)},nextSide:function(e){f=e,o=p.filter(e),f=p.index(o),0===o.length&&(r.set.defaultSide(),r.error(n.side)),r.verbose("Next side manually set to",o)},active:function(){r.verbose("Setting new side to active",o),p.removeClass(l.active),o.addClass(l.active),a.onChange.call(o[0]),r.set.defaultSide()}},flip:{up:function(){!r.is.complete()||r.is.animating()||a.allowRepeats?r.is.animating()?r.queue("flip up"):(r.debug("Flipping up",o),r.set.stageSize(),r.stage.above(),r.animate(r.get.transform.up())):r.debug("Side already visible",o)},down:function(){!r.is.complete()||r.is.animating()||a.allowRepeats?r.is.animating()?r.queue("flip down"):(r.debug("Flipping down",o),r.set.stageSize(),r.stage.below(),r.animate(r.get.transform.down())):r.debug("Side already visible",o)},left:function(){!r.is.complete()||r.is.animating()||a.allowRepeats?r.is.animating()?r.queue("flip left"):(r.debug("Flipping left",o),r.set.stageSize(),r.stage.left(),r.animate(r.get.transform.left())):r.debug("Side already visible",o)},right:function(){!r.is.complete()||r.is.animating()||a.allowRepeats?r.is.animating()?r.queue("flip right"):(r.debug("Flipping right",o),r.set.stageSize(),r.stage.right(),r.animate(r.get.transform.right())):r.debug("Side already visible",o)},over:function(){!r.is.complete()||r.is.animating()||a.allowRepeats?r.is.animating()?r.queue("flip over"):(r.debug("Flipping over",o),r.set.stageSize(),r.stage.behind(),r.animate(r.get.transform.over())):r.debug("Side already visible",o)},back:function(){!r.is.complete()||r.is.animating()||a.allowRepeats?r.is.animating()?r.queue("flip back"):(r.debug("Flipping back",o),r.set.stageSize(),r.stage.behind(),r.animate(r.get.transform.back())):r.debug("Side already visible",o)}},get:{transform:{up:function(){return{transform:"translateY("+-(i.outerHeight(!0)-o.outerHeight(!0))/2+"px) translateZ("+-i.outerHeight(!0)/2+"px) rotateX(-90deg)"}},down:function(){return{transform:"translateY("+-(i.outerHeight(!0)-o.outerHeight(!0))/2+"px) translateZ("+-i.outerHeight(!0)/2+"px) rotateX(90deg)"}},left:function(){return{transform:"translateX("+-(i.outerWidth(!0)-o.outerWidth(!0))/2+"px) translateZ("+-i.outerWidth(!0)/2+"px) rotateY(90deg)"}},right:function(){return{transform:"translateX("+-(i.outerWidth(!0)-o.outerWidth(!0))/2+"px) translateZ("+-i.outerWidth(!0)/2+"px) rotateY(-90deg)"}},over:function(){return{transform:"translateX("+-(i.outerWidth(!0)-o.outerWidth(!0))/2+"px) rotateY(180deg)"}},back:function(){return{transform:"translateX("+-(i.outerWidth(!0)-o.outerWidth(!0))/2+"px) rotateY(-180deg)"}}},transitionEvent:function(){var e,t=_.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(t.style[e]!==A)return n[e]},nextSide:function(){return 0<i.next(s.side).length?i.next(s.side):u.find(s.side).first()}},stage:{above:function(){var e={origin:(i.outerHeight(!0)-o.outerHeight(!0))/2,depth:{active:o.outerHeight(!0)/2,next:i.outerHeight(!0)/2}};r.verbose("Setting the initial animation position as above",o,e),h.css({transform:"translateZ(-"+e.depth.active+"px)"}),i.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),o.addClass(l.animating).css({top:e.origin+"px",transform:"rotateX(90deg) translateZ("+e.depth.next+"px)"})},below:function(){var e={origin:(i.outerHeight(!0)-o.outerHeight(!0))/2,depth:{active:o.outerHeight(!0)/2,next:i.outerHeight(!0)/2}};r.verbose("Setting the initial animation position as below",o,e),h.css({transform:"translateZ(-"+e.depth.active+"px)"}),i.css({transform:"rotateY(0deg) translateZ("+e.depth.active+"px)"}),o.addClass(l.animating).css({top:e.origin+"px",transform:"rotateX(-90deg) translateZ("+e.depth.next+"px)"})},left:function(){var e=i.outerWidth(!0),t=o.outerWidth(!0),n={origin:(e-t)/2,depth:{active:t/2,next:e/2}};r.verbose("Setting the initial animation position as left",o,n),h.css({transform:"translateZ(-"+n.depth.active+"px)"}),i.css({transform:"rotateY(0deg) translateZ("+n.depth.active+"px)"}),o.addClass(l.animating).css({left:n.origin+"px",transform:"rotateY(-90deg) translateZ("+n.depth.next+"px)"})},right:function(){var e=i.outerWidth(!0),t=o.outerWidth(!0),n={origin:(e-t)/2,depth:{active:t/2,next:e/2}};r.verbose("Setting the initial animation position as left",o,n),h.css({transform:"translateZ(-"+n.depth.active+"px)"}),i.css({transform:"rotateY(0deg) translateZ("+n.depth.active+"px)"}),o.addClass(l.animating).css({left:n.origin+"px",transform:"rotateY(90deg) translateZ("+n.depth.next+"px)"})},behind:function(){var e=i.outerWidth(!0),t=o.outerWidth(!0),n={origin:(e-t)/2,depth:{active:t/2,next:e/2}};r.verbose("Setting the initial animation position as behind",o,n),i.css({transform:"rotateY(0deg)"}),o.addClass(l.animating).css({left:n.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(e,t){if(r.debug("Changing setting",e,t),E.isPlainObject(e))E.extend(!0,a,e);else{if(t===A)return a[e];a[e]=t}},internal:function(e,t){if(E.isPlainObject(e))E.extend(!0,r,e);else{if(t===A)return r[e];r[e]=t}},debug:function(){a.debug&&(a.performance?r.performance.log(arguments):(r.debug=Function.prototype.bind.call(console.info,console,a.name+":"),r.debug.apply(console,arguments)))},verbose:function(){a.verbose&&a.debug&&(a.performance?r.performance.log(arguments):(r.verbose=Function.prototype.bind.call(console.info,console,a.name+":"),r.verbose.apply(console,arguments)))},error:function(){r.error=Function.prototype.bind.call(console.error,console,a.name+":"),r.error.apply(console,arguments)},performance:{log:function(e){var t,n;a.performance&&(n=(t=(new Date).getTime())-(x||t),x=t,w.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:m,"Execution Time":n})),clearTimeout(r.performance.timer),r.performance.timer=setTimeout(r.performance.display,500)},display:function(){var e=a.name+":",n=0;x=!1,clearTimeout(r.performance.timer),E.each(w,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",t&&(e+=" '"+t+"'"),1<y.length&&(e+=" ("+y.length+")"),(console.group!==A||console.table!==A)&&0<w.length&&(console.groupCollapsed(e),console.table?console.table(w):E.each(w,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),w=[]}},invoke:function(i,e,t){var o,r,n,a=g;return e=e||S,t=m||t,"string"==typeof i&&a!==A&&(i=i.split(/[\. ]/),o=i.length-1,E.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(E.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==A)return r=a[n],!1;if(!E.isPlainObject(a[t])||e==o)return a[t]!==A&&(r=a[t]),!1;a=a[t]}})),E.isFunction(r)?n=r.apply(t,e):r!==A&&(n=r),E.isArray(b)?b.push(n):b!==A?b=[b,n]:n!==A&&(b=n),r}},k?(g===A&&r.initialize(),r.invoke(C)):(g!==A&&g.invoke("destroy"),r.initialize())}),b!==A?b:this},E.fn.shape.settings={name:"Shape",debug:!1,verbose:!1,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(I,N,R,L){"use strict";I.fn.sidebar=function(x){var w,e=I(this),C=I(N),k=I(R),S=I("html"),T=I("head"),E=e.selector||"",_=(new Date).getTime(),A=[],j=x,P="string"==typeof j,O=[].slice.call(arguments,1),D=N.requestAnimationFrame||N.mozRequestAnimationFrame||N.webkitRequestAnimationFrame||N.msRequestAnimationFrame||function(e){setTimeout(e,0)};return e.each(function(){var a,s,e,t,l,c,d=I.isPlainObject(x)?I.extend(!0,{},I.fn.sidebar.settings,x):I.extend({},I.fn.sidebar.settings),n=d.selector,r=d.className,i=d.namespace,o=d.regExp,u=d.error,h="."+i,p="module-"+i,f=I(this),m=I(d.context),g=f.children(n.sidebar),v=(m.children(n.fixed),m.children(n.pusher)),b=this,y=f.data(p);c={initialize:function(){c.debug("Initializing sidebar",x),c.create.id(),l=c.get.transitionEvent(),c.is.ios()&&c.set.ios(),d.delaySetup?D(c.setup.layout):c.setup.layout(),D(function(){c.setup.cache()}),c.instantiate()},instantiate:function(){c.verbose("Storing instance of module",c),y=c,f.data(p,c)},create:{id:function(){e=(Math.random().toString(16)+"000000000").substr(2,8),s="."+e,c.verbose("Creating unique id for element",e)}},destroy:function(){c.verbose("Destroying previous module for",f),f.off(h).removeData(p),c.is.ios()&&c.remove.ios(),m.off(s),C.off(s),k.off(s)},event:{clickaway:function(e){var t=0<v.find(e.target).length||v.is(e.target),n=m.is(e.target);t&&(c.verbose("User clicked on dimmed page"),c.hide()),n&&(c.verbose("User clicked on dimmable context (scaled out page)"),c.hide())},touch:function(e){},containScroll:function(e){b.scrollTop<=0&&(b.scrollTop=1),b.scrollTop+b.offsetHeight>=b.scrollHeight&&(b.scrollTop=b.scrollHeight-b.offsetHeight-1)},scroll:function(e){0===I(e.target).closest(n.sidebar).length&&e.preventDefault()}},bind:{clickaway:function(){c.verbose("Adding clickaway events to context",m),d.closable&&m.on("click"+s,c.event.clickaway).on("touchend"+s,c.event.clickaway)},scrollLock:function(){d.scrollLock&&(c.debug("Disabling page scroll"),C.on("DOMMouseScroll"+s,c.event.scroll)),c.verbose("Adding events to contain sidebar scroll"),k.on("touchmove"+s,c.event.touch),f.on("scroll"+h,c.event.containScroll)}},unbind:{clickaway:function(){c.verbose("Removing clickaway events from context",m),m.off(s)},scrollLock:function(){c.verbose("Removing scroll lock from page"),k.off(s),C.off(s),f.off("scroll"+h)}},add:{inlineCSS:function(){var e,t=c.cache.width||f.outerWidth(),n=c.cache.height||f.outerHeight(),i=c.is.rtl(),o=c.get.direction(),r={left:t,right:-t,top:n,bottom:-n};i&&(c.verbose("RTL detected, flipping widths"),r.left=-t,r.right=t),e="<style>","left"===o||"right"===o?(c.debug("Adding CSS rules for animation distance",t),e+=" .ui.visible."+o+".sidebar ~ .fixed, .ui.visible."+o+".sidebar ~ .pusher {   -webkit-transform: translate3d("+r[o]+"px, 0, 0);           transform: translate3d("+r[o]+"px, 0, 0); }"):"top"!==o&&"bottom"!=o||(e+=" .ui.visible."+o+".sidebar ~ .fixed, .ui.visible."+o+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+r[o]+"px, 0);           transform: translate3d(0, "+r[o]+"px, 0); }"),c.is.ie()&&("left"===o||"right"===o?(c.debug("Adding CSS rules for animation distance",t),e+=" body.pushable > .ui.visible."+o+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+r[o]+"px, 0, 0);           transform: translate3d("+r[o]+"px, 0, 0); }"):"top"!==o&&"bottom"!=o||(e+=" body.pushable > .ui.visible."+o+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+r[o]+"px, 0);           transform: translate3d(0, "+r[o]+"px, 0); }"),e+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),a=I(e+="</style>").appendTo(T),c.debug("Adding sizing css to head",a)}},refresh:function(){c.verbose("Refreshing selector cache"),m=I(d.context),g=m.children(n.sidebar),v=m.children(n.pusher),m.children(n.fixed),c.clear.cache()},refreshSidebars:function(){c.verbose("Refreshing other sidebars"),g=m.children(n.sidebar)},repaint:function(){c.verbose("Forcing repaint event"),b.style.display="none";b.offsetHeight;b.scrollTop=b.scrollTop,b.style.display=""},setup:{cache:function(){c.cache={width:f.outerWidth(),height:f.outerHeight(),rtl:"rtl"==f.css("direction")}},layout:function(){0===m.children(n.pusher).length&&(c.debug("Adding wrapper element for sidebar"),c.error(u.pusher),v=I('<div class="pusher" />'),m.children().not(n.omitted).not(g).wrapAll(v),c.refresh()),0!==f.nextAll(n.pusher).length&&f.nextAll(n.pusher)[0]===v[0]||(c.debug("Moved sidebar to correct parent element"),c.error(u.movedSidebar,b),f.detach().prependTo(m),c.refresh()),c.clear.cache(),c.set.pushable(),c.set.direction()}},attachEvents:function(e,t){var n=I(e);t=I.isFunction(c[t])?c[t]:c.toggle,0<n.length?(c.debug("Attaching sidebar events to element",e,t),n.on("click"+h,t)):c.error(u.notFound,e)},show:function(e){if(e=I.isFunction(e)?e:function(){},c.is.hidden()){if(c.refreshSidebars(),d.overlay&&(c.error(u.overlay),d.transition="overlay"),c.refresh(),c.othersActive())if(c.debug("Other sidebars currently visible"),d.exclusive){if("overlay"!=d.transition)return void c.hideOthers(c.show);c.hideOthers()}else d.transition="overlay";c.pushPage(function(){e.call(b),d.onShow.call(b)}),d.onChange.call(b),d.onVisible.call(b)}else c.debug("Sidebar is already visible")},hide:function(e){e=I.isFunction(e)?e:function(){},(c.is.visible()||c.is.animating())&&(c.debug("Hiding sidebar",e),c.refreshSidebars(),c.pullPage(function(){e.call(b),d.onHidden.call(b)}),d.onChange.call(b),d.onHide.call(b))},othersAnimating:function(){return 0<g.not(f).filter("."+r.animating).length},othersVisible:function(){return 0<g.not(f).filter("."+r.visible).length},othersActive:function(){return c.othersVisible()||c.othersAnimating()},hideOthers:function(e){var t=g.not(f).filter("."+r.visible),n=t.length,i=0;e=e||function(){},t.sidebar("hide",function(){++i==n&&e()})},toggle:function(){c.verbose("Determining toggled direction"),c.is.hidden()?c.show():c.hide()},pushPage:function(t){var e,n,i,o=c.get.transition(),r="overlay"===o||c.othersActive()?f:v;t=I.isFunction(t)?t:function(){},"scale down"==d.transition&&c.scrollToTop(),c.set.transition(o),c.repaint(),e=function(){c.bind.clickaway(),c.add.inlineCSS(),c.set.animating(),c.set.visible()},n=function(){c.set.dimmed()},i=function(e){e.target==r[0]&&(r.off(l+s,i),c.remove.animating(),c.bind.scrollLock(),t.call(b))},r.off(l+s),r.on(l+s,i),D(e),d.dimPage&&!c.othersVisible()&&D(n)},pullPage:function(t){var e,n,i=c.get.transition(),o="overlay"==i||c.othersActive()?f:v;t=I.isFunction(t)?t:function(){},c.verbose("Removing context push state",c.get.direction()),c.unbind.clickaway(),c.unbind.scrollLock(),e=function(){c.set.transition(i),c.set.animating(),c.remove.visible(),d.dimPage&&!c.othersVisible()&&v.removeClass(r.dimmed)},n=function(e){e.target==o[0]&&(o.off(l+s,n),c.remove.animating(),c.remove.transition(),c.remove.inlineCSS(),("scale down"==i||d.returnScroll&&c.is.mobile())&&c.scrollBack(),t.call(b))},o.off(l+s),o.on(l+s,n),D(e)},scrollToTop:function(){c.verbose("Scrolling to top of page to avoid animation issues"),t=I(N).scrollTop(),f.scrollTop(0),N.scrollTo(0,0)},scrollBack:function(){c.verbose("Scrolling back to original page position"),N.scrollTo(0,t)},clear:{cache:function(){c.verbose("Clearing cached dimensions"),c.cache={}}},set:{ios:function(){S.addClass(r.ios)},pushed:function(){m.addClass(r.pushed)},pushable:function(){m.addClass(r.pushable)},dimmed:function(){v.addClass(r.dimmed)},active:function(){f.addClass(r.active)},animating:function(){f.addClass(r.animating)},transition:function(e){e=e||c.get.transition(),f.addClass(e)},direction:function(e){e=e||c.get.direction(),f.addClass(r[e])},visible:function(){f.addClass(r.visible)},overlay:function(){f.addClass(r.overlay)}},remove:{inlineCSS:function(){c.debug("Removing inline css styles",a),a&&0<a.length&&a.remove()},ios:function(){S.removeClass(r.ios)},pushed:function(){m.removeClass(r.pushed)},pushable:function(){m.removeClass(r.pushable)},active:function(){f.removeClass(r.active)},animating:function(){f.removeClass(r.animating)},transition:function(e){e=e||c.get.transition(),f.removeClass(e)},direction:function(e){e=e||c.get.direction(),f.removeClass(r[e])},visible:function(){f.removeClass(r.visible)},overlay:function(){f.removeClass(r.overlay)}},get:{direction:function(){return f.hasClass(r.top)?r.top:f.hasClass(r.right)?r.right:f.hasClass(r.bottom)?r.bottom:r.left},transition:function(){var e,t=c.get.direction();return e=c.is.mobile()?"auto"==d.mobileTransition?d.defaultTransition.mobile[t]:d.mobileTransition:"auto"==d.transition?d.defaultTransition.computer[t]:d.transition,c.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=R.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(t.style[e]!==L)return n[e]}},is:{ie:function(){return!N.ActiveXObject&&"ActiveXObject"in N||"ActiveXObject"in N},ios:function(){var e=navigator.userAgent,t=e.match(o.ios),n=e.match(o.mobileChrome);return!(!t||n)&&(c.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent;return e.match(o.mobile)?(c.verbose("Browser was found to be mobile",e),!0):(c.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!c.is.visible()},visible:function(){return f.hasClass(r.visible)},open:function(){return c.is.visible()},closed:function(){return c.is.hidden()},vertical:function(){return f.hasClass(r.top)},animating:function(){return m.hasClass(r.animating)},rtl:function(){return c.cache.rtl===L&&(c.cache.rtl="rtl"==f.css("direction")),c.cache.rtl}},setting:function(e,t){if(c.debug("Changing setting",e,t),I.isPlainObject(e))I.extend(!0,d,e);else{if(t===L)return d[e];d[e]=t}},internal:function(e,t){if(I.isPlainObject(e))I.extend(!0,c,e);else{if(t===L)return c[e];c[e]=t}},debug:function(){d.debug&&(d.performance?c.performance.log(arguments):(c.debug=Function.prototype.bind.call(console.info,console,d.name+":"),c.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?c.performance.log(arguments):(c.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),c.verbose.apply(console,arguments)))},error:function(){c.error=Function.prototype.bind.call(console.error,console,d.name+":"),c.error.apply(console,arguments)},performance:{log:function(e){var t,n;d.performance&&(n=(t=(new Date).getTime())-(_||t),_=t,A.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:b,"Execution Time":n})),clearTimeout(c.performance.timer),c.performance.timer=setTimeout(c.performance.display,500)},display:function(){var e=d.name+":",n=0;_=!1,clearTimeout(c.performance.timer),I.each(A,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",E&&(e+=" '"+E+"'"),(console.group!==L||console.table!==L)&&0<A.length&&(console.groupCollapsed(e),console.table?console.table(A):I.each(A,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),A=[]}},invoke:function(i,e,t){var o,r,n,a=y;return e=e||O,t=b||t,"string"==typeof i&&a!==L&&(i=i.split(/[\. ]/),o=i.length-1,I.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(I.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==L)return r=a[n],!1;if(!I.isPlainObject(a[t])||e==o)return a[t]!==L?r=a[t]:c.error(u.method,i),!1;a=a[t]}})),I.isFunction(r)?n=r.apply(t,e):r!==L&&(n=r),I.isArray(w)?w.push(n):w!==L?w=[w,n]:n!==L&&(w=n),r}},P?(y===L&&c.initialize(),c.invoke(j)):(y!==L&&c.invoke("destroy"),c.initialize())}),w!==L?w:this},I.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(S,T,E){"use strict";S.fn.sticky=function(g){var v,e=S(this),b=e.selector||"",y=(new Date).getTime(),x=[],w=g,C="string"==typeof w,k=[].slice.call(arguments,1);return e.each(function(){var i,o,t,d,u=S.isPlainObject(g)?S.extend(!0,{},S.fn.sticky.settings,g):S.extend({},S.fn.sticky.settings),n=u.className,e=u.namespace,r=u.error,a="."+e,s="module-"+e,l=S(this),c=S(T),h=S(u.scrollContext),p=(l.selector,l.data(s)),f=T.requestAnimationFrame||T.mozRequestAnimationFrame||T.webkitRequestAnimationFrame||T.msRequestAnimationFrame||function(e){setTimeout(e,0)},m=this;d={initialize:function(){d.determineContainer(),d.determineContext(),d.verbose("Initializing sticky",u,i),d.save.positions(),d.checkErrors(),d.bind.events(),u.observeChanges&&d.observeChanges(),d.instantiate()},instantiate:function(){d.verbose("Storing instance of module",d),p=d,l.data(s,d)},destroy:function(){d.verbose("Destroying previous instance"),d.reset(),t&&t.disconnect(),c.off("load"+a,d.event.load).off("resize"+a,d.event.resize),h.off("scrollchange"+a,d.event.scrollchange),l.removeData(s)},observeChanges:function(){var e=o[0];"MutationObserver"in T&&((t=new MutationObserver(function(e){clearTimeout(d.timer),d.timer=setTimeout(function(){d.verbose("DOM tree modified, updating sticky menu",e),d.refresh()},100)})).observe(m,{childList:!0,subtree:!0}),t.observe(e,{childList:!0,subtree:!0}),d.debug("Setting up mutation observer",t))},determineContainer:function(){i=l.offsetParent()},determineContext:function(){0!==(o=u.context?S(u.context):i).length||d.error(r.invalidContext,u.context,l)},checkErrors:function(){if(d.is.hidden()&&d.error(r.visible,l),d.cache.element.height>d.cache.context.height)return d.reset(),void d.error(r.elementSize,l)},bind:{events:function(){c.on("load"+a,d.event.load).on("resize"+a,d.event.resize),h.off("scroll"+a).on("scroll"+a,d.event.scroll).on("scrollchange"+a,d.event.scrollchange)}},event:{load:function(){d.verbose("Page contents finished loading"),f(d.refresh)},resize:function(){d.verbose("Window resized"),f(d.refresh)},scroll:function(){f(function(){h.triggerHandler("scrollchange"+a,h.scrollTop())})},scrollchange:function(e,t){d.stick(t),u.onScroll.call(m)}},refresh:function(e){d.reset(),u.context||d.determineContext(),e&&d.determineContainer(),d.save.positions(),d.stick(),u.onReposition.call(m)},supports:{sticky:function(){var e=S("<div/>");e[0];return e.addClass(n.supported),e.css("position").match("sticky")}},save:{lastScroll:function(e){d.lastScroll=e},elementScroll:function(e){d.elementScroll=e},positions:function(){var e={height:h.height()},t={margin:{top:parseInt(l.css("margin-top"),10),bottom:parseInt(l.css("margin-bottom"),10)},offset:l.offset(),width:l.outerWidth(),height:l.outerHeight()},n={offset:o.offset(),height:o.outerHeight()};i.outerHeight();d.is.standardScroll()||(d.debug("Non-standard scroll. Removing scroll offset from element offset"),e.top=h.scrollTop(),e.left=h.scrollLeft(),t.offset.top+=e.top,n.offset.top+=e.top,t.offset.left+=e.left,n.offset.left+=e.left),d.cache={fits:t.height<e.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},d.set.containerSize(),d.set.size(),d.stick(),d.debug("Caching element positions",d.cache)}},get:{direction:function(e){var t="down";return e=e||h.scrollTop(),d.lastScroll!==E&&(d.lastScroll<e?t="down":d.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||h.scrollTop(),d.lastScroll?e-d.lastScroll:0},currentElementScroll:function(){return d.elementScroll?d.elementScroll:d.is.top()?Math.abs(parseInt(l.css("top"),10))||0:Math.abs(parseInt(l.css("bottom"),10))||0},elementScroll:function(e){e=e||h.scrollTop();var t=d.cache.element,n=d.cache.scrollContext,i=d.get.scrollChange(e),o=t.height-n.height+u.offset,r=d.get.currentElementScroll(),a=r+i;return r=d.cache.fits||a<0?0:o<a?o:a}},remove:{lastScroll:function(){delete d.lastScroll},elementScroll:function(e){delete d.elementScroll},offset:function(){l.css("margin-top","")}},set:{offset:function(){d.verbose("Setting offset on element",u.offset),l.css("margin-top",u.offset)},containerSize:function(){var e=i.get(0).tagName;"HTML"===e||"body"==e?d.determineContainer():Math.abs(i.outerHeight()-d.cache.context.height)>u.jitter&&(d.debug("Context has padding, specifying exact height for container",d.cache.context.height),i.css({height:d.cache.context.height}))},minimumSize:function(){var e=d.cache.element;i.css("min-height",e.height)},scroll:function(e){d.debug("Setting scroll on element",e),d.elementScroll!=e&&(d.is.top()&&l.css("bottom","").css("top",-e),d.is.bottom()&&l.css("top","").css("bottom",e))},size:function(){0!==d.cache.element.height&&0!==d.cache.element.width&&(m.style.setProperty("width",d.cache.element.width+"px","important"),m.style.setProperty("height",d.cache.element.height+"px","important"))}},is:{standardScroll:function(){return h[0]==T},top:function(){return l.hasClass(n.top)},bottom:function(){return l.hasClass(n.bottom)},initialPosition:function(){return!d.is.fixed()&&!d.is.bound()},hidden:function(){return!l.is(":visible")},bound:function(){return l.hasClass(n.bound)},fixed:function(){return l.hasClass(n.fixed)}},stick:function(e){var t=e||h.scrollTop(),n=d.cache,i=n.fits,o=n.element,r=n.scrollContext,a=n.context,s=d.is.bottom()&&u.pushing?u.bottomOffset:u.offset,l=(e={top:t+s,bottom:t+s+r.height},d.get.direction(e.top),i?0:d.get.elementScroll(e.top)),c=!i;0!==o.height&&(d.is.initialPosition()?e.top>=a.bottom?(d.debug("Initial element position is bottom of container"),d.bindBottom()):e.top>o.top&&(o.height+e.top-l>=a.bottom?(d.debug("Initial element position is bottom of container"),d.bindBottom()):(d.debug("Initial element position is fixed"),d.fixTop())):d.is.fixed()?d.is.top()?e.top<=o.top?(d.debug("Fixed element reached top of container"),d.setInitialPosition()):o.height+e.top-l>=a.bottom?(d.debug("Fixed element reached bottom of container"),d.bindBottom()):c&&(d.set.scroll(l),d.save.lastScroll(e.top),d.save.elementScroll(l)):d.is.bottom()&&(e.bottom-o.height<=o.top?(d.debug("Bottom fixed rail has reached top of container"),d.setInitialPosition()):e.bottom>=a.bottom?(d.debug("Bottom fixed rail has reached bottom of container"),d.bindBottom()):c&&(d.set.scroll(l),d.save.lastScroll(e.top),d.save.elementScroll(l))):d.is.bottom()&&(e.top<=o.top?(d.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),d.setInitialPosition()):u.pushing?d.is.bound()&&e.bottom<=a.bottom&&(d.debug("Fixing bottom attached element to bottom of browser."),d.fixBottom()):d.is.bound()&&e.top<=a.bottom-o.height&&(d.debug("Fixing bottom attached element to top of browser."),d.fixTop())))},bindTop:function(){d.debug("Binding element to top of parent container"),d.remove.offset(),l.css({left:"",top:"",marginBottom:""}).removeClass(n.fixed).removeClass(n.bottom).addClass(n.bound).addClass(n.top),u.onTop.call(m),u.onUnstick.call(m)},bindBottom:function(){d.debug("Binding element to bottom of parent container"),d.remove.offset(),l.css({left:"",top:""}).removeClass(n.fixed).removeClass(n.top).addClass(n.bound).addClass(n.bottom),u.onBottom.call(m),u.onUnstick.call(m)},setInitialPosition:function(){d.debug("Returning to initial position"),d.unfix(),d.unbind()},fixTop:function(){d.debug("Fixing element to top of page"),d.set.minimumSize(),d.set.offset(),l.css({left:d.cache.element.left,bottom:"",marginBottom:""}).removeClass(n.bound).removeClass(n.bottom).addClass(n.fixed).addClass(n.top),u.onStick.call(m)},fixBottom:function(){d.debug("Sticking element to bottom of page"),d.set.minimumSize(),d.set.offset(),l.css({left:d.cache.element.left,bottom:"",marginBottom:""}).removeClass(n.bound).removeClass(n.top).addClass(n.fixed).addClass(n.bottom),u.onStick.call(m)},unbind:function(){d.is.bound()&&(d.debug("Removing container bound position on element"),d.remove.offset(),l.removeClass(n.bound).removeClass(n.top).removeClass(n.bottom))},unfix:function(){d.is.fixed()&&(d.debug("Removing fixed position on element"),d.remove.offset(),l.removeClass(n.fixed).removeClass(n.top).removeClass(n.bottom),u.onUnstick.call(m))},reset:function(){d.debug("Reseting elements position"),d.unbind(),d.unfix(),d.resetCSS(),d.remove.offset(),d.remove.lastScroll()},resetCSS:function(){l.css({width:"",height:""}),i.css({height:""})},setting:function(e,t){if(S.isPlainObject(e))S.extend(!0,u,e);else{if(t===E)return u[e];u[e]=t}},internal:function(e,t){if(S.isPlainObject(e))S.extend(!0,d,e);else{if(t===E)return d[e];d[e]=t}},debug:function(){u.debug&&(u.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,u.name+":"),d.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),d.verbose.apply(console,arguments)))},error:function(){d.error=Function.prototype.bind.call(console.error,console,u.name+":"),d.error.apply(console,arguments)},performance:{log:function(e){var t,n;u.performance&&(n=(t=(new Date).getTime())-(y||t),y=t,x.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:m,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,0)},display:function(){var e=u.name+":",n=0;y=!1,clearTimeout(d.performance.timer),S.each(x,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",b&&(e+=" '"+b+"'"),(console.group!==E||console.table!==E)&&0<x.length&&(console.groupCollapsed(e),console.table?console.table(x):S.each(x,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),x=[]}},invoke:function(i,e,t){var o,r,n,a=p;return e=e||k,t=m||t,"string"==typeof i&&a!==E&&(i=i.split(/[\. ]/),o=i.length-1,S.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(S.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==E)return r=a[n],!1;if(!S.isPlainObject(a[t])||e==o)return a[t]!==E&&(r=a[t]),!1;a=a[t]}})),S.isFunction(r)?n=r.apply(t,e):r!==E&&(n=r),S.isArray(v)?v.push(n):v!==E?v=[v,n]:n!==E&&(v=n),r}},C?(p===E&&d.initialize(),d.invoke(w)):(p!==E&&p.invoke("destroy"),d.initialize())}),v!==E?v:this},S.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,scrollContext:T,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,void document),function(j,P,O,D){"use strict";j.fn.tab=function(a){var c,d=j.isFunction(this)?j(P):j(this),u=d.selector||"",h=(new Date).getTime(),p=[],f=a,E="string"==typeof f,_=[].slice.call(arguments,1),A=!1;return d.each(function(){var m,r,g,v,b,y,x=j.isPlainObject(a)?j.extend(!0,{},j.fn.tab.settings,a):j.extend({},j.fn.tab.settings),w=x.className,C=x.metadata,t=x.selector,k=x.error,e="."+x.namespace,n="module-"+x.namespace,S=j(this),i={},T=!0,o=0,s=this,l=S.data(n);b={initialize:function(){b.debug("Initializing tab menu item",S),b.fix.callbacks(),b.determineTabs(),b.debug("Determining tabs",x.context,r),x.auto&&b.set.auto(),b.bind.events(),x.history&&!A&&(b.initializeHistory(),A=!0),b.instantiate()},instantiate:function(){b.verbose("Storing instance of module",b),l=b,S.data(n,b)},destroy:function(){b.debug("Destroying tabs",S),S.removeData(n).off(e)},bind:{events:function(){j.isWindow(s)||(b.debug("Attaching tab activation events to element",S),S.on("click"+e,b.event.click))}},determineTabs:function(){var e;"parent"===x.context?(0<S.closest(t.ui).length?(e=S.closest(t.ui),b.verbose("Using closest UI element as parent",e)):e=S,m=e.parent(),b.verbose("Determined parent element for creating context",m)):x.context?(m=j(x.context),b.verbose("Using selector for tab context",x.context,m)):m=j("body"),x.childrenOnly?(r=m.children(t.tabs),b.debug("Searching tab context children for tabs",m,r)):(r=m.find(t.tabs),b.debug("Searching tab context for tabs",m,r))},fix:{callbacks:function(){j.isPlainObject(a)&&(a.onTabLoad||a.onTabInit)&&(a.onTabLoad&&(a.onLoad=a.onTabLoad,delete a.onTabLoad,b.error(k.legacyLoad,a.onLoad)),a.onTabInit&&(a.onFirstLoad=a.onTabInit,delete a.onTabInit,b.error(k.legacyInit,a.onFirstLoad)),x=j.extend(!0,{},j.fn.tab.settings,a))}},initializeHistory:function(){if(b.debug("Initializing page state"),j.address===D)return b.error(k.state),!1;if("state"==x.historyType){if(b.debug("Using HTML5 to manage state"),!1===x.path)return b.error(k.path),!1;j.address.history(!0).state(x.path)}j.address.bind("change",b.event.history.change)},event:{click:function(e){var t=j(this).data(C.tab);t!==D?(x.history?(b.verbose("Updating page state",e),j.address.value(t)):(b.verbose("Changing tab",e),b.changeTab(t)),e.preventDefault()):b.debug("No tab specified")},history:{change:function(e){var t=e.pathNames.join("/")||b.get.initialPath(),n=x.templates.determineTitle(t)||!1;b.performance.display(),b.debug("History change event",t,e),y=e,t!==D&&b.changeTab(t),n&&j.address.title(n)}}},refresh:function(){g&&(b.debug("Refreshing tab",g),b.changeTab(g))},cache:{read:function(e){return e!==D&&i[e]},add:function(e,t){e=e||g,b.debug("Adding cached content for",e),i[e]=t},remove:function(e){e=e||g,b.debug("Removing cached content for",e),delete i[e]}},set:{auto:function(){var e="string"==typeof x.path?x.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";b.verbose("Setting up automatic tab retrieval from server",e),j.isPlainObject(x.apiSettings)?x.apiSettings.url=e:x.apiSettings={url:e}},loading:function(e){var t=b.get.tabElement(e);t.hasClass(w.loading)||(b.verbose("Setting loading state for",t),t.addClass(w.loading).siblings(r).removeClass(w.active+" "+w.loading),0<t.length&&x.onRequest.call(t[0],e))},state:function(e){j.address.value(e)}},changeTab:function(u){var h=P.history&&P.history.pushState&&x.ignoreFirstLoad&&T,p=x.auto||j.isPlainObject(x.apiSettings),f=p&&!h?b.utilities.pathToArray(u):b.get.defaultPathArray(u);u=b.utilities.arrayToPath(f),j.each(f,function(e,t){var n,i,o,r,a=f.slice(0,e+1),s=b.utilities.arrayToPath(a),l=b.is.tab(s),c=e+1==f.length,d=b.get.tabElement(s);if(b.verbose("Looking for tab",t),l){if(b.verbose("Tab was found",t),g=s,v=b.utilities.filterArray(f,a),c?r=!0:(i=f.slice(0,e+2),o=b.utilities.arrayToPath(i),(r=!b.is.tab(o))&&b.verbose("Tab parameters found",i)),r&&p)return h?(b.debug("Ignoring remote content on first tab load",s),T=!1,b.cache.add(u,d.html()),b.activate.all(s),x.onFirstLoad.call(d[0],s,v,y),x.onLoad.call(d[0],s,v,y)):(b.activate.navigation(s),b.fetch.content(s,u)),!1;b.debug("Opened local tab",s),b.activate.all(s),b.cache.read(s)||(b.cache.add(s,!0),b.debug("First time tab loaded calling tab init"),x.onFirstLoad.call(d[0],s,v,y)),x.onLoad.call(d[0],s,v,y)}else{if(-1!=u.search("/")||""===u)return b.error(k.missingTab,S,m,s),!1;if(s=(n=j("#"+u+', a[name="'+u+'"]')).closest("[data-tab]").data(C.tab),d=b.get.tabElement(s),n&&0<n.length&&s)return b.debug("Anchor link used, opening parent tab",d,n),d.hasClass(w.active)||setTimeout(function(){b.scrollTo(n)},0),b.activate.all(s),b.cache.read(s)||(b.cache.add(s,!0),b.debug("First time tab loaded calling tab init"),x.onFirstLoad.call(d[0],s,v,y)),x.onLoad.call(d[0],s,v,y),!1}})},scrollTo:function(e){var t=!!(e&&0<e.length)&&e.offset().top;!1!==t&&(b.debug("Forcing scroll to an in-page link in a hidden tab",t,e),j(O).scrollTop(t))},update:{content:function(e,t,n){var i=b.get.tabElement(e),o=i[0];(n=n!==D?n:x.evaluateScripts)?(b.debug("Updating HTML and evaluating inline scripts",e,t),i.html(t)):(b.debug("Updating HTML",e,t),o.innerHTML=t)}},fetch:{content:function(t,n){var e,i,o=b.get.tabElement(t),r={dataType:"html",encodeParameters:!1,on:"now",cache:x.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(e){b.cache.add(n,e),b.update.content(t,e),t==g?(b.debug("Content loaded",t),b.activate.tab(t)):b.debug("Content loaded in background",t),x.onFirstLoad.call(o[0],t,v,y),x.onLoad.call(o[0],t,v,y)},urlData:{tab:n}},a=o.api("get request")||!1,s=a&&"pending"===a.state();n=n||t,i=b.cache.read(n),x.cache&&i?(b.activate.tab(t),b.debug("Adding cached content",n),"once"==x.evaluateScripts?b.update.content(t,i,!1):b.update.content(t,i),x.onLoad.call(o[0],t,v,y)):s?(b.set.loading(t),b.debug("Content is already loading",n)):j.api!==D?(e=j.extend(!0,{},x.apiSettings,r),b.debug("Retrieving remote content",n,e),b.set.loading(t),o.api(e)):b.error(k.api)}},activate:{all:function(e){b.activate.tab(e),b.activate.navigation(e)},tab:function(e){var t=b.get.tabElement(e),n=t.hasClass(w.active);b.verbose("Showing tab content for",t),n||(t.addClass(w.active).siblings(r).removeClass(w.active+" "+w.loading),0<t.length&&x.onVisible.call(t[0],e))},navigation:function(e){var t=b.get.navElement(e),n=t.hasClass(w.active);b.verbose("Activating tab navigation for",t,e),n||t.addClass(w.active).siblings(d).removeClass(w.active+" "+w.loading)}},deactivate:{all:function(){b.deactivate.navigation(),b.deactivate.tabs()},navigation:function(){d.removeClass(w.active)},tabs:function(){r.removeClass(w.active+" "+w.loading)}},is:{tab:function(e){return e!==D&&0<b.get.tabElement(e).length}},get:{initialPath:function(){return d.eq(0).data(C.tab)||r.eq(0).data(C.tab)},path:function(){return j.address.value()},defaultPathArray:function(e){return b.utilities.pathToArray(b.get.defaultPath(e))},defaultPath:function(e){var t=d.filter("[data-"+C.tab+'^="'+e+'/"]').eq(0).data(C.tab)||!1;if(t){if(b.debug("Found default tab",t),o<x.maxDepth)return o++,b.get.defaultPath(t);b.error(k.recursion)}else b.debug("No default tabs found for",e,r);return o=0,e},navElement:function(e){return e=e||g,d.filter("[data-"+C.tab+'="'+e+'"]')},tabElement:function(e){var t,n,i,o;return e=e||g,i=b.utilities.pathToArray(e),o=b.utilities.last(i),t=r.filter("[data-"+C.tab+'="'+e+'"]'),n=r.filter("[data-"+C.tab+'="'+o+'"]'),0<t.length?t:n},tab:function(){return g}},utilities:{filterArray:function(e,t){return j.grep(e,function(e){return-1==j.inArray(e,t)})},last:function(e){return!!j.isArray(e)&&e[e.length-1]},pathToArray:function(e){return e===D&&(e=g),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(e){return!!j.isArray(e)&&e.join("/")}},setting:function(e,t){if(b.debug("Changing setting",e,t),j.isPlainObject(e))j.extend(!0,x,e);else{if(t===D)return x[e];x[e]=t}},internal:function(e,t){if(j.isPlainObject(e))j.extend(!0,b,e);else{if(t===D)return b[e];b[e]=t}},debug:function(){x.debug&&(x.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,x.name+":"),b.debug.apply(console,arguments)))},verbose:function(){x.verbose&&x.debug&&(x.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),b.verbose.apply(console,arguments)))},error:function(){b.error=Function.prototype.bind.call(console.error,console,x.name+":"),b.error.apply(console,arguments)},performance:{log:function(e){var t,n;x.performance&&(n=(t=(new Date).getTime())-(h||t),h=t,p.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:s,"Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var e=x.name+":",n=0;h=!1,clearTimeout(b.performance.timer),j.each(p,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",u&&(e+=" '"+u+"'"),(console.group!==D||console.table!==D)&&0<p.length&&(console.groupCollapsed(e),console.table?console.table(p):j.each(p,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),p=[]}},invoke:function(i,e,t){var o,r,n,a=l;return e=e||_,t=s||t,"string"==typeof i&&a!==D&&(i=i.split(/[\. ]/),o=i.length-1,j.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(j.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==D)return r=a[n],!1;if(!j.isPlainObject(a[t])||e==o)return a[t]!==D?r=a[t]:b.error(k.method,i),!1;a=a[t]}})),j.isFunction(r)?n=r.apply(t,e):r!==D&&(n=r),j.isArray(c)?c.push(n):c!==D?c=[c,n]:n!==D&&(c=n),r}},E?(l===D&&b.initialize(),b.invoke(f)):(l!==D&&l.invoke("destroy"),b.initialize())}),c!==D?c:this},j.tab=function(){j(P).tab.apply(this,arguments)},j.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(e,t,n){},onLoad:function(e,t,n){},onVisible:function(e,t,n){},onRequest:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(w,e,C,k){"use strict";w.fn.transition=function(){var c,a=w(this),f=a.selector||"",m=(new Date).getTime(),g=[],v=arguments,b=v[0],y=[].slice.call(arguments,1),x="string"==typeof b;e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame;return a.each(function(i){var d,s,t,u,n,o,e,r,h,p=w(this),l=this;(h={initialize:function(){d=h.get.settings.apply(l,v),u=d.className,t=d.error,n=d.metadata,r="."+d.namespace,e="module-"+d.namespace,s=p.data(e)||h,o=h.get.animationEndEvent(),!1===(x=x&&h.invoke(b))&&(h.verbose("Converted arguments into settings object",d),d.interval?h.delay(d.animate):h.animate(),h.instantiate())},instantiate:function(){h.verbose("Storing instance of module",h),s=h,p.data(e,s)},destroy:function(){h.verbose("Destroying previous module for",l),p.removeData(e)},refresh:function(){h.verbose("Refreshing display type on next animation"),delete h.displayType},forceRepaint:function(){h.verbose("Forcing element repaint");var e=p.parent(),t=p.next();0===t.length?p.detach().appendTo(e):p.detach().insertBefore(t)},repaint:function(){h.verbose("Repainting element");l.offsetWidth},delay:function(e){var t,n=h.get.animationDirection();n=n||(h.can.transition()?h.get.direction():"static"),e=e!==k?e:d.interval,t="auto"==d.reverse&&n==u.outward||1==d.reverse?(a.length-i)*d.interval:i*d.interval,h.debug("Delaying animation by",t),setTimeout(h.animate,t)},animate:function(e){if(d=e||d,!h.is.supported())return h.error(t.support),!1;if(h.debug("Preparing animation",d.animation),h.is.animating()){if(d.queue)return!d.allowRepeats&&h.has.direction()&&h.is.occurring()&&!0!==h.queuing?h.debug("Animation is currently occurring, preventing queueing same animation",d.animation):h.queue(d.animation),!1;if(!d.allowRepeats&&h.is.occurring())return h.debug("Animation is already occurring, will not execute repeated animation",d.animation),!1;h.debug("New animation started, completing previous early",d.animation),s.complete()}h.can.animate()?h.set.animating(d.animation):h.error(t.noAnimation,d.animation,l)},reset:function(){h.debug("Resetting animation to beginning conditions"),h.remove.animationCallbacks(),h.restore.conditions(),h.remove.animating()},queue:function(e){h.debug("Queueing animation of",e),h.queuing=!0,p.one(o+".queue"+r,function(){h.queuing=!1,h.repaint(),h.animate.apply(this,d)})},complete:function(e){h.debug("Animation complete",d.animation),h.remove.completeCallback(),h.remove.failSafe(),h.is.looping()||(h.is.outward()?(h.verbose("Animation is outward, hiding element"),h.restore.conditions(),h.hide()):h.is.inward()?(h.verbose("Animation is outward, showing element"),h.restore.conditions(),h.show()):(h.verbose("Static animation completed"),h.restore.conditions(),d.onComplete.call(l)))},force:{visible:function(){var e=p.attr("style"),t=h.get.userStyle(),n=h.get.displayType(),i=t+"display: "+n+" !important;",o=p.css("display"),r=e===k||""===e;o!==n?(h.verbose("Overriding default display to show element",n),p.attr("style",i)):r&&p.removeAttr("style")},hidden:function(){var e=p.attr("style"),t=p.css("display"),n=e===k||""===e;"none"===t||h.is.hidden()?n&&p.removeAttr("style"):(h.verbose("Overriding default display to hide element"),p.css("display","none"))}},has:{direction:function(e){var n=!1;return"string"==typeof(e=e||d.animation)&&(e=e.split(" "),w.each(e,function(e,t){t!==u.inward&&t!==u.outward||(n=!0)})),n},inlineDisplay:function(){var e=p.attr("style")||"";return w.isArray(e.match(/display.*?;/,""))}},set:{animating:function(e){var t;h.remove.completeCallback(),e=e||d.animation,t=h.get.animationClass(e),h.save.animation(t),h.force.visible(),h.remove.hidden(),h.remove.direction(),h.start.animation(t)},duration:function(e,t){!(t="number"==typeof(t=t||d.duration)?t+"ms":t)&&0!==t||(h.verbose("Setting animation duration",t),p.css({"animation-duration":t}))},direction:function(e){(e=e||h.get.direction())==u.inward?h.set.inward():h.set.outward()},looping:function(){h.debug("Transition set to loop"),p.addClass(u.looping)},hidden:function(){p.addClass(u.transition).addClass(u.hidden)},inward:function(){h.debug("Setting direction to inward"),p.removeClass(u.outward).addClass(u.inward)},outward:function(){h.debug("Setting direction to outward"),p.removeClass(u.inward).addClass(u.outward)},visible:function(){p.addClass(u.transition).addClass(u.visible)}},start:{animation:function(e){e=e||h.get.animationClass(),h.debug("Starting tween",e),p.addClass(e).one(o+".complete"+r,h.complete),d.useFailSafe&&h.add.failSafe(),h.set.duration(d.duration),d.onStart.call(l)}},save:{animation:function(e){h.cache||(h.cache={}),h.cache.animation=e},displayType:function(e){"none"!==e&&p.data(n.displayType,e)},transitionExists:function(e,t){w.fn.transition.exists[e]=t,h.verbose("Saving existence of transition",e,t)}},restore:{conditions:function(){var e=h.get.currentAnimation();e&&(p.removeClass(e),h.verbose("Removing animation class",h.cache)),h.remove.duration()}},add:{failSafe:function(){var e=h.get.duration();h.timer=setTimeout(function(){p.triggerHandler(o)},e+d.failSafeDelay),h.verbose("Adding fail safe timer",h.timer)}},remove:{animating:function(){p.removeClass(u.animating)},animationCallbacks:function(){h.remove.queueCallback(),h.remove.completeCallback()},queueCallback:function(){p.off(".queue"+r)},completeCallback:function(){p.off(".complete"+r)},display:function(){p.css("display","")},direction:function(){p.removeClass(u.inward).removeClass(u.outward)},duration:function(){p.css("animation-duration","")},failSafe:function(){h.verbose("Removing fail safe timer",h.timer),h.timer&&clearTimeout(h.timer)},hidden:function(){p.removeClass(u.hidden)},visible:function(){p.removeClass(u.visible)},looping:function(){h.debug("Transitions are no longer looping"),h.is.looping()&&(h.reset(),p.removeClass(u.looping))},transition:function(){p.removeClass(u.visible).removeClass(u.hidden)}},get:{settings:function(e,t,n){return"object"==typeof e?w.extend(!0,{},w.fn.transition.settings,e):"function"==typeof n?w.extend({},w.fn.transition.settings,{animation:e,onComplete:n,duration:t}):"string"==typeof t||"number"==typeof t?w.extend({},w.fn.transition.settings,{animation:e,duration:t}):"object"==typeof t?w.extend({},w.fn.transition.settings,t,{animation:e}):"function"==typeof t?w.extend({},w.fn.transition.settings,{animation:e,onComplete:t}):w.extend({},w.fn.transition.settings,{animation:e})},animationClass:function(e){var t=e||d.animation,n=h.can.transition()&&!h.has.direction()?h.get.direction()+" ":"";return u.animating+" "+u.transition+" "+n+t},currentAnimation:function(){return!(!h.cache||h.cache.animation===k)&&h.cache.animation},currentDirection:function(){return h.is.inward()?u.inward:u.outward},direction:function(){return h.is.hidden()||!h.is.visible()?u.inward:u.outward},animationDirection:function(e){var n;return"string"==typeof(e=e||d.animation)&&(e=e.split(" "),w.each(e,function(e,t){t===u.inward?n=u.inward:t===u.outward&&(n=u.outward)})),n||!1},duration:function(e){return!1===(e=e||d.duration)&&(e=p.css("animation-duration")||0),"string"==typeof e?-1<e.indexOf("ms")?parseFloat(e):1e3*parseFloat(e):e},displayType:function(){return d.displayType?d.displayType:(p.data(n.displayType)===k&&h.can.transition(!0),p.data(n.displayType))},userStyle:function(e){return(e=e||p.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(e){return w.fn.transition.exists[e]},animationStartEvent:function(){var e,t=C.createElement("div"),n={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in n)if(t.style[e]!==k)return n[e];return!1},animationEndEvent:function(){var e,t=C.createElement("div"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(t.style[e]!==k)return n[e];return!1}},can:{transition:function(e){var t,n,i,o,r,a,s,l=d.animation,c=h.get.transitionExists(l);if(c===k||e){if(h.verbose("Determining whether animation exists"),t=p.attr("class"),n=p.prop("tagName"),o=(i=w("<"+n+" />").addClass(t).insertAfter(p)).addClass(l).removeClass(u.inward).removeClass(u.outward).addClass(u.animating).addClass(u.transition).css("animationName"),r=i.addClass(u.inward).css("animationName"),s=i.attr("class",t).removeAttr("style").removeClass(u.hidden).removeClass(u.visible).show().css("display"),h.verbose("Determining final display state",s),h.save.displayType(s),i.remove(),o!=r)h.debug("Direction exists for animation",l),a=!0;else{if("none"==o||!o)return void h.debug("No animation defined in css",l);h.debug("Static animation found",l,s),a=!1}h.save.transitionExists(l,a)}return c!==k?c:a},animate:function(){return h.can.transition()!==k}},is:{animating:function(){return p.hasClass(u.animating)},inward:function(){return p.hasClass(u.inward)},outward:function(){return p.hasClass(u.outward)},looping:function(){return p.hasClass(u.looping)},occurring:function(e){return e="."+(e=e||d.animation).replace(" ","."),0<p.filter(e).length},visible:function(){return p.is(":visible")},hidden:function(){return"hidden"===p.css("visibility")},supported:function(){return!1!==o}},hide:function(){h.verbose("Hiding element"),h.is.animating()&&h.reset(),l.blur(),h.remove.display(),h.remove.visible(),h.set.hidden(),h.force.hidden(),d.onHide.call(l),d.onComplete.call(l)},show:function(e){h.verbose("Showing element",e),h.remove.hidden(),h.set.visible(),h.force.visible(),d.onShow.call(l),d.onComplete.call(l)},toggle:function(){h.is.visible()?h.hide():h.show()},stop:function(){h.debug("Stopping current animation"),p.triggerHandler(o)},stopAll:function(){h.debug("Stopping all animation"),h.remove.queueCallback(),p.triggerHandler(o)},clear:{queue:function(){h.debug("Clearing animation queue"),h.remove.queueCallback()}},enable:function(){h.verbose("Starting animation"),p.removeClass(u.disabled)},disable:function(){h.debug("Stopping animation"),p.addClass(u.disabled)},setting:function(e,t){if(h.debug("Changing setting",e,t),w.isPlainObject(e))w.extend(!0,d,e);else{if(t===k)return d[e];d[e]=t}},internal:function(e,t){if(w.isPlainObject(e))w.extend(!0,h,e);else{if(t===k)return h[e];h[e]=t}},debug:function(){d.debug&&(d.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,d.name+":"),h.debug.apply(console,arguments)))},verbose:function(){d.verbose&&d.debug&&(d.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),h.verbose.apply(console,arguments)))},error:function(){h.error=Function.prototype.bind.call(console.error,console,d.name+":"),h.error.apply(console,arguments)},performance:{log:function(e){var t,n;d.performance&&(n=(t=(new Date).getTime())-(m||t),m=t,g.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:l,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var e=d.name+":",n=0;m=!1,clearTimeout(h.performance.timer),w.each(g,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",f&&(e+=" '"+f+"'"),1<a.length&&(e+=" ("+a.length+")"),(console.group!==k||console.table!==k)&&0<g.length&&(console.groupCollapsed(e),console.table?console.table(g):w.each(g,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),g=[]}},invoke:function(i,e,t){var o,r,n,a=s;return e=e||y,t=l||t,"string"==typeof i&&a!==k&&(i=i.split(/[\. ]/),o=i.length-1,w.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(w.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==k)return r=a[n],!1;if(!w.isPlainObject(a[t])||e==o)return a[t]!==k&&(r=a[t]),!1;a=a[t]}})),w.isFunction(r)?n=r.apply(t,e):r!==k&&(n=r),w.isArray(c)?c.push(n):c!==k?c=[c,n]:n!==k&&(c=n),r!==k&&r}}).initialize()}),c!==k?c:this},w.fn.transition.exists={},w.fn.transition.settings={name:"Transition",debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"There is no css animation matching the one you specified. Please make sure your css is vendor prefixed, and you have included transition css.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(_,A,j){"use strict";_.api=_.fn.api=function(y){var x,e=_.isFunction(this)?_(A):_(this),w=e.selector||"",C=(new Date).getTime(),k=[],S=y,T="string"==typeof S,E=[].slice.call(arguments,1);return e.each(function(){var r,n,e,s,l,c=_.isPlainObject(y)?_.extend(!0,{},_.fn.api.settings,y):_.extend({},_.fn.api.settings),t=c.namespace,i=c.metadata,o=c.selector,d=c.error,a=c.className,u="."+t,h="module-"+t,p=_(this),f=p.closest(o.form),m=c.stateContext?_(c.stateContext):p,g=this,v=m[0],b=p.data(h);l={initialize:function(){T||l.bind.events(),l.instantiate()},instantiate:function(){l.verbose("Storing instance of module",l),b=l,p.data(h,b)},destroy:function(){l.verbose("Destroying previous module for",g),p.removeData(h).off(u)},bind:{events:function(){var e=l.get.event();e?(l.verbose("Attaching API events to element",e),p.on(e+u,l.event.trigger)):"now"==c.on&&(l.debug("Querying API endpoint immediately"),l.query())}},decode:{json:function(e){if(e!==j&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}},read:{cachedResponse:function(e){var t;if(A.Storage!==j)return t=sessionStorage.getItem(e),l.debug("Using cached response",e,t),t=l.decode.json(t),!1;l.error(d.noStorage)}},write:{cachedResponse:function(e,t){t&&""===t?l.debug("Response empty, not caching",t):A.Storage!==j?(_.isPlainObject(t)&&(t=JSON.stringify(t)),sessionStorage.setItem(e,t),l.verbose("Storing cached response for url",e,t)):l.error(d.noStorage)}},query:function(){if(l.is.disabled())l.debug("Element is disabled API request aborted");else{if(l.is.loading()){if(!c.interruptRequests)return void l.debug("Cancelling request, previous request is still pending");l.debug("Interrupting previous request"),l.abort()}if(c.defaultData&&_.extend(!0,c.urlData,l.get.defaultData()),c.serializeForm&&(c.data=l.add.formData(c.data)),!1===l.get.settings())return l.cancelled=!0,void l.error(d.beforeSend);if(l.cancelled=!1,(n=l.get.templatedURL())||l.is.mocked()){if((n=l.add.urlData(n))||l.is.mocked()){if(r=_.extend(!0,{},c,{type:c.method||c.type,data:e,url:c.base+n,beforeSend:c.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),l.debug("Querying URL",r.url),l.verbose("Using AJAX settings",r),"local"===c.cache&&l.read.cachedResponse(n))return l.debug("Response returned from local cache"),l.request=l.create.request(),void l.request.resolveWith(v,[l.read.cachedResponse(n)]);c.throttle?c.throttleFirstRequest||l.timer?(l.debug("Throttling request",c.throttle),clearTimeout(l.timer),l.timer=setTimeout(function(){l.timer&&delete l.timer,l.debug("Sending throttled request",e,r.method),l.send.request()},c.throttle)):(l.debug("Sending request",e,r.method),l.send.request(),l.timer=setTimeout(function(){},c.throttle)):(l.debug("Sending request",e,r.method),l.send.request())}}else l.error(d.missingURL)}},should:{removeError:function(){return!0===c.hideError||"auto"===c.hideError&&!l.is.form()}},is:{disabled:function(){return 0<p.filter(o.disabled).length},form:function(){return p.is("form")||m.is("form")},mocked:function(){return c.mockResponse||c.mockResponseAsync},input:function(){return p.is("input")},loading:function(){return l.request&&"pending"==l.request.state()},abortedRequest:function(e){return e&&e.readyState!==j&&0===e.readyState?(l.verbose("XHR request determined to be aborted"),!0):(l.verbose("XHR request was not aborted"),!1)},validResponse:function(e){return"json"!==c.dataType&&"jsonp"!==c.dataType||!_.isFunction(c.successTest)?(l.verbose("Response is not JSON, skipping validation",c.successTest,e),!0):(l.debug("Checking JSON returned success",c.successTest,e),c.successTest(e)?(l.debug("Response passed success test",e),!0):(l.debug("Response failed success test",e),!1))}},was:{cancelled:function(){return l.cancelled||!1},succesful:function(){return l.request&&"resolved"==l.request.state()},failure:function(){return l.request&&"rejected"==l.request.state()},complete:function(){return l.request&&("resolved"==l.request.state()||"rejected"==l.request.state())}},add:{urlData:function(o,r){var e,t;return o&&(e=o.match(c.regExp.required),t=o.match(c.regExp.optional),r=r||c.urlData,e&&(l.debug("Looking for required URL variables",e),_.each(e,function(e,t){var n=-1!==t.indexOf("$")?t.substr(2,t.length-3):t.substr(1,t.length-2),i=_.isPlainObject(r)&&r[n]!==j?r[n]:p.data(n)!==j?p.data(n):m.data(n)!==j?m.data(n):r[n];if(i===j)return l.error(d.requiredParameter,n,o),o=!1;l.verbose("Found required variable",n,i),i=c.encodeParameters?l.get.urlEncodedValue(i):i,o=o.replace(t,i)})),t&&(l.debug("Looking for optional URL variables",e),_.each(t,function(e,t){var n=-1!==t.indexOf("$")?t.substr(3,t.length-4):t.substr(2,t.length-3),i=_.isPlainObject(r)&&r[n]!==j?r[n]:p.data(n)!==j?p.data(n):m.data(n)!==j?m.data(n):r[n];o=i!==j?(l.verbose("Optional variable Found",n,i),o.replace(t,i)):(l.verbose("Optional variable not found",n),-1!==o.indexOf("/"+t)?o.replace("/"+t,""):o.replace(t,""))}))),o},formData:function(e){var t=_.fn.serializeObject!==j,n=t?f.serializeObject():f.serialize();return e=e||c.data,e=_.isPlainObject(e)?t?(l.debug("Extending existing data with form data",e,n),_.extend(!0,{},e,n)):(l.error(d.missingSerialize),l.debug("Cant extend data. Replacing data with form data",e,n),n):(l.debug("Adding form data",n),n)}},send:{request:function(){l.set.loading(),l.request=l.create.request(),l.is.mocked()?l.mockedXHR=l.create.mockedXHR():l.xhr=l.create.xhr(),c.onRequest.call(v,l.request,l.xhr)}},event:{trigger:function(e){l.query(),"submit"!=e.type&&"click"!=e.type||e.preventDefault()},xhr:{always:function(){},done:function(e,t,n){var i=this,o=(new Date).getTime()-s,r=c.loadingDuration-o,a=!!_.isFunction(c.onResponse)&&c.onResponse.call(i,_.extend(!0,{},e));r=0<r?r:0,a&&(l.debug("Modified API response in onResponse callback",c.onResponse,a,e),e=a),0<r&&l.debug("Response completed early delaying state change by",r),setTimeout(function(){l.is.validResponse(e)?l.request.resolveWith(i,[e,n]):l.request.rejectWith(i,[n,"invalid"])},r)},fail:function(e,t,n){var i=this,o=(new Date).getTime()-s,r=c.loadingDuration-o;0<(r=0<r?r:0)&&l.debug("Response completed early delaying state change by",r),setTimeout(function(){l.is.abortedRequest(e)?l.request.rejectWith(i,[e,"aborted",n]):l.request.rejectWith(i,[e,"error",t,n])},r)}},request:{done:function(e,t){l.debug("Successful API Response",e),"local"===c.cache&&n&&(l.write.cachedResponse(n,e),l.debug("Saving server response locally",l.cache)),c.onSuccess.call(v,e,p,t)},complete:function(e,t){var n,i;l.was.succesful()?(i=e,n=t):(n=e,i=l.get.responseFromXHR(n)),l.remove.loading(),c.onComplete.call(v,i,p,n)},fail:function(e,t,n){var i=l.get.responseFromXHR(e),o=l.get.errorFromRequest(i,t,n);"aborted"==t?(l.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",t,n),c.onAbort.call(v,t,p,e)):"invalid"==t?l.debug("JSON did not pass success test. A server-side error has most likely occurred",i):"error"==t&&e!==j&&(l.debug("XHR produced a server error",t,n),200!=e.status&&n!==j&&""!==n&&l.error(d.statusMessage+n,r.url),c.onError.call(v,o,p,e)),c.errorDuration&&"aborted"!==t&&(l.debug("Adding error state"),l.set.error(),l.should.removeError()&&setTimeout(l.remove.error,c.errorDuration)),l.debug("API Request failed",o,e),c.onFailure.call(v,i,p,e)}}},create:{request:function(){return _.Deferred().always(l.event.request.complete).done(l.event.request.done).fail(l.event.request.fail)},mockedXHR:function(){var e,t,n;return n=_.Deferred().always(l.event.xhr.complete).done(l.event.xhr.done).fail(l.event.xhr.fail),c.mockResponse?(t=_.isFunction(c.mockResponse)?(l.debug("Using mocked callback returning response",c.mockResponse),c.mockResponse.call(v,c)):(l.debug("Using specified response",c.mockResponse),c.mockResponse),n.resolveWith(v,[t,!1,{responseText:t}])):_.isFunction(c.mockResponseAsync)&&(e=function(e){l.debug("Async callback returned response",e),e?n.resolveWith(v,[e,!1,{responseText:e}]):n.rejectWith(v,[{responseText:e},!1,!1])},l.debug("Using async mocked response",c.mockResponseAsync),c.mockResponseAsync.call(v,c,e)),n},xhr:function(){var e;return e=_.ajax(r).always(l.event.xhr.always).done(l.event.xhr.done).fail(l.event.xhr.fail),l.verbose("Created server request",e),e}},set:{error:function(){l.verbose("Adding error state to element",m),m.addClass(a.error)},loading:function(){l.verbose("Adding loading state to element",m),m.addClass(a.loading),s=(new Date).getTime()}},remove:{error:function(){l.verbose("Removing error state from element",m),m.removeClass(a.error)},loading:function(){l.verbose("Removing loading state from element",m),m.removeClass(a.loading)}},get:{responseFromXHR:function(e){return!!_.isPlainObject(e)&&("json"==c.dataType||"jsonp"==c.dataType?l.decode.json(e.responseText):e.responseText)},errorFromRequest:function(e,t,n){return _.isPlainObject(e)&&e.error!==j?e.error:c.error[t]!==j?c.error[t]:n},request:function(){return l.request||!1},xhr:function(){return l.xhr||!1},settings:function(){var e;return(e=c.beforeSend.call(v,c))&&(e.success!==j&&(l.debug("Legacy success callback detected",e),e.onSuccess=e.success),e.failure!==j&&(l.debug("Legacy failure callback detected",e),l.error(d.legacyParameters,e.failure),e.onFailure=e.failure),e.complete!==j&&(l.debug("Legacy complete callback detected",e),l.error(d.legacyParameters,e.complete),e.onComplete=e.complete)),e===j&&l.error(d.noReturnedValue),e!==j?e:c},urlEncodedValue:function(e){var t=A.decodeURIComponent(e),n=A.encodeURIComponent(e);return t!==e?(l.debug("URL value is already encoded, avoiding double encoding",e),e):(l.verbose("Encoding value using encodeURIComponent",e,n),n)},defaultData:function(){var e={};return _.isWindow(g)||(l.is.input()?e.value=p.val():l.is.form()&&(e.text=p.text())),e},event:function(){return _.isWindow(g)||"now"==c.on?(l.debug("API called without element, no events attached"),!1):"auto"==c.on?p.is("input")?g.oninput!==j?"input":g.onpropertychange!==j?"propertychange":"keyup":p.is("form")?"submit":"click":c.on},templatedURL:function(e){if(e=e||p.data(i.action)||c.action||!1,n=p.data(i.url)||c.url||!1)return l.debug("Using specified url",n),n;if(e){if(l.debug("Looking up url for action",e,c.api),c.api[e]===j&&!l.is.mocked())return void l.error(d.missingAction,c.action,c.api);n=c.api[e]}else l.is.form()&&(n=p.attr("action")||m.attr("action")||!1,l.debug("No url or action specified, defaulting to form action",n));return n}},abort:function(){var e=l.get.xhr();e&&"resolved"!==e.state()&&(l.debug("Cancelling API request"),e.abort())},reset:function(){l.remove.error(),l.remove.loading()},setting:function(e,t){if(l.debug("Changing setting",e,t),_.isPlainObject(e))_.extend(!0,c,e);else{if(t===j)return c[e];c[e]=t}},internal:function(e,t){if(_.isPlainObject(e))_.extend(!0,l,e);else{if(t===j)return l[e];l[e]=t}},debug:function(){c.debug&&(c.performance?l.performance.log(arguments):(l.debug=Function.prototype.bind.call(console.info,console,c.name+":"),l.debug.apply(console,arguments)))},verbose:function(){c.verbose&&c.debug&&(c.performance?l.performance.log(arguments):(l.verbose=Function.prototype.bind.call(console.info,console,c.name+":"),l.verbose.apply(console,arguments)))},error:function(){l.error=Function.prototype.bind.call(console.error,console,c.name+":"),l.error.apply(console,arguments)},performance:{log:function(e){var t,n;c.performance&&(n=(t=(new Date).getTime())-(C||t),C=t,k.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(l.performance.timer),l.performance.timer=setTimeout(l.performance.display,500)},display:function(){var e=c.name+":",n=0;C=!1,clearTimeout(l.performance.timer),_.each(k,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",w&&(e+=" '"+w+"'"),(console.group!==j||console.table!==j)&&0<k.length&&(console.groupCollapsed(e),console.table?console.table(k):_.each(k,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),k=[]}},invoke:function(i,e,t){var o,r,n,a=b;return e=e||E,t=g||t,"string"==typeof i&&a!==j&&(i=i.split(/[\. ]/),o=i.length-1,_.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(_.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==j)return r=a[n],!1;if(!_.isPlainObject(a[t])||e==o)return a[t]!==j?r=a[t]:l.error(d.method,i),!1;a=a[t]}})),_.isFunction(r)?n=r.apply(t,e):r!==j&&(n=r),_.isArray(x)?x.push(n):x!==j?x=[x,n]:n!==j&&(x=n),r}},T?(b===j&&l.initialize(),l.invoke(S)):(b!==j&&b.invoke("destroy"),l.initialize())}),x!==j?x:this},_.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onResponse:!1,onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,void document),function(C,e,k){"use strict";C.fn.state=function(p){var f,m=C(this),g=m.selector||"",v=(e.documentElement,(new Date).getTime()),b=[],y=p,x="string"==typeof y,w=[].slice.call(arguments,1);return m.each(function(){var s,o=C.isPlainObject(p)?C.extend(!0,{},C.fn.state.settings,p):C.extend({},C.fn.state.settings),l=o.error,n=o.metadata,t=o.className,e=o.namespace,i=o.states,r=o.text,a="."+e,c=e+"-module",d=C(this),u=this,h=d.data(c);s={initialize:function(){s.verbose("Initializing module"),o.automatic&&s.add.defaults(),o.context&&""!==g?C(o.context).on(g,"mouseenter"+a,s.change.text).on(g,"mouseleave"+a,s.reset.text).on(g,"click"+a,s.toggle.state):d.on("mouseenter"+a,s.change.text).on("mouseleave"+a,s.reset.text).on("click"+a,s.toggle.state),s.instantiate()},instantiate:function(){s.verbose("Storing instance of module",s),h=s,d.data(c,s)},destroy:function(){s.verbose("Destroying previous module",h),d.off(a).removeData(c)},refresh:function(){s.verbose("Refreshing selector cache"),d=C(u)},add:{defaults:function(){var n=p&&C.isPlainObject(p.states)?p.states:{};C.each(o.defaults,function(e,t){s.is[e]!==k&&s.is[e]()&&(s.verbose("Adding default states",e,u),C.extend(o.states,t,n))})}},is:{active:function(){return d.hasClass(t.active)},loading:function(){return d.hasClass(t.loading)},inactive:function(){return!d.hasClass(t.active)},state:function(e){return t[e]!==k&&d.hasClass(t[e])},enabled:function(){return!d.is(o.filter.active)},disabled:function(){return d.is(o.filter.active)},textEnabled:function(){return!d.is(o.filter.text)},button:function(){return d.is(".button:not(a, .submit)")},input:function(){return d.is("input")},progress:function(){return d.is(".ui.progress")}},allow:function(e){s.debug("Now allowing state",e),i[e]=!0},disallow:function(e){s.debug("No longer allowing",e),i[e]=!1},allows:function(e){return i[e]||!1},enable:function(){d.removeClass(t.disabled)},disable:function(){d.addClass(t.disabled)},setState:function(e){s.allows(e)&&d.addClass(t[e])},removeState:function(e){s.allows(e)&&d.removeClass(t[e])},toggle:{state:function(){var e;if(s.allows("active")&&s.is.enabled()){if(s.refresh(),C.fn.api!==k)if(e=d.api("get request"),d.api("was cancelled"))s.debug("API Request cancelled by beforesend"),o.activateTest=function(){return!1},o.deactivateTest=function(){return!1};else if(e)return void s.listenTo(e);s.change.state()}}},listenTo:function(e){s.debug("API request detected, waiting for state signal",e),e&&(r.loading&&s.update.text(r.loading),C.when(e).then(function(){"resolved"==e.state()?(s.debug("API request succeeded"),o.activateTest=function(){return!0},o.deactivateTest=function(){return!0}):(s.debug("API request failed"),o.activateTest=function(){return!1},o.deactivateTest=function(){return!1}),s.change.state()}))},change:{state:function(){s.debug("Determining state change direction"),s.is.inactive()?s.activate():s.deactivate(),o.sync&&s.sync(),o.onChange.call(u)},text:function(){s.is.textEnabled()&&(s.is.disabled()?(s.verbose("Changing text to disabled text",r.hover),s.update.text(r.disabled)):s.is.active()?r.hover?(s.verbose("Changing text to hover text",r.hover),s.update.text(r.hover)):r.deactivate&&(s.verbose("Changing text to deactivating text",r.deactivate),s.update.text(r.deactivate)):r.hover?(s.verbose("Changing text to hover text",r.hover),s.update.text(r.hover)):r.activate&&(s.verbose("Changing text to activating text",r.activate),s.update.text(r.activate)))}},activate:function(){o.activateTest.call(u)&&(s.debug("Setting state to active"),d.addClass(t.active),s.update.text(r.active),o.onActivate.call(u))},deactivate:function(){o.deactivateTest.call(u)&&(s.debug("Setting state to inactive"),d.removeClass(t.active),s.update.text(r.inactive),o.onDeactivate.call(u))},sync:function(){s.verbose("Syncing other buttons to current state"),s.is.active()?m.not(d).state("activate"):m.not(d).state("deactivate")},get:{text:function(){return o.selector.text?d.find(o.selector.text).text():d.html()},textFor:function(e){return r[e]||!1}},flash:{text:function(e,t,n){var i=s.get.text();s.debug("Flashing text message",e,t),e=e||o.text.flash,t=t||o.flashDuration,n=n||function(){},s.update.text(e),setTimeout(function(){s.update.text(i),n.call(u)},t)}},reset:{text:function(){var e=r.active||d.data(n.storedText),t=r.inactive||d.data(n.storedText);s.is.textEnabled()&&(s.is.active()&&e?(s.verbose("Resetting active text",e),s.update.text(e)):t&&(s.verbose("Resetting inactive text",e),s.update.text(t)))}},update:{text:function(e){var t=s.get.text();e&&e!==t?(s.debug("Updating text",e),o.selector.text?d.data(n.storedText,e).find(o.selector.text).text(e):d.data(n.storedText,e).html(e)):s.debug("Text is already set, ignoring update",e)}},setting:function(e,t){if(s.debug("Changing setting",e,t),C.isPlainObject(e))C.extend(!0,o,e);else{if(t===k)return o[e];o[e]=t}},internal:function(e,t){if(C.isPlainObject(e))C.extend(!0,s,e);else{if(t===k)return s[e];s[e]=t}},debug:function(){o.debug&&(o.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,o.name+":"),s.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,o.name+":"),s.error.apply(console,arguments)},performance:{log:function(e){var t,n;o.performance&&(n=(t=(new Date).getTime())-(v||t),v=t,b.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:u,"Execution Time":n})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var e=o.name+":",n=0;v=!1,clearTimeout(s.performance.timer),C.each(b,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",g&&(e+=" '"+g+"'"),(console.group!==k||console.table!==k)&&0<b.length&&(console.groupCollapsed(e),console.table?console.table(b):C.each(b,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),b=[]}},invoke:function(i,e,t){var o,r,n,a=h;return e=e||w,t=u||t,"string"==typeof i&&a!==k&&(i=i.split(/[\. ]/),o=i.length-1,C.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(C.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==k)return r=a[n],!1;if(!C.isPlainObject(a[t])||e==o)return a[t]!==k?r=a[t]:s.error(l.method,i),!1;a=a[t]}})),C.isFunction(r)?n=r.apply(t,e):r!==k&&(n=r),C.isArray(f)?f.push(n):f!==k?f=[f,n]:n!==k&&(f=n),r}},x?(h===k&&s.initialize(),s.invoke(y)):(h!==k&&h.invoke("destroy"),s.initialize())}),f!==k?f:this},C.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,(window,document)),function(T,E,_,A){"use strict";T.fn.visibility=function(v){var b,e=T(this),y=e.selector||"",x=(new Date).getTime(),w=[],C=v,k="string"==typeof C,S=[].slice.call(arguments,1);return e.each(function(){var e,t,s,o=T.isPlainObject(v)?T.extend(!0,{},T.fn.visibility.settings,v):T.extend({},T.fn.visibility.settings),n=o.className,i=o.namespace,l=o.error,r=o.metadata,a="."+i,c="module-"+i,d=T(E),u=T(this),h=T(o.context),p=(u.selector,u.data(c)),f=E.requestAnimationFrame||E.mozRequestAnimationFrame||E.webkitRequestAnimationFrame||E.msRequestAnimationFrame||function(e){setTimeout(e,0)},m=this,g=!1;s={initialize:function(){s.debug("Initializing",o),s.setup.cache(),s.should.trackChanges()&&("image"==o.type&&s.setup.image(),"fixed"==o.type&&s.setup.fixed(),o.observeChanges&&s.observeChanges(),s.bind.events()),s.save.position(),s.is.visible()||s.error(l.visible,u),o.initialCheck&&s.checkVisibility(),s.instantiate()},instantiate:function(){s.debug("Storing instance",s),u.data(c,s),p=s},destroy:function(){s.verbose("Destroying previous module"),t&&t.disconnect(),d.off("load"+a,s.event.load).off("resize"+a,s.event.resize),h.off("scrollchange"+a,s.event.scrollchange),u.off(a).removeData(c)},observeChanges:function(){"MutationObserver"in E&&((t=new MutationObserver(function(e){s.verbose("DOM tree modified, updating visibility calculations"),s.timer=setTimeout(function(){s.verbose("DOM tree modified, updating sticky menu"),s.refresh()},100)})).observe(m,{childList:!0,subtree:!0}),s.debug("Setting up mutation observer",t))},bind:{events:function(){s.verbose("Binding visibility events to scroll and resize"),o.refreshOnLoad&&d.on("load"+a,s.event.load),d.on("resize"+a,s.event.resize),h.off("scroll"+a).on("scroll"+a,s.event.scroll).on("scrollchange"+a,s.event.scrollchange)}},event:{resize:function(){s.debug("Window resized"),o.refreshOnResize&&f(s.refresh)},load:function(){s.debug("Page finished loading"),f(s.refresh)},scroll:function(){o.throttle?(clearTimeout(s.timer),s.timer=setTimeout(function(){h.triggerHandler("scrollchange"+a,[h.scrollTop()])},o.throttle)):f(function(){h.triggerHandler("scrollchange"+a,[h.scrollTop()])})},scrollchange:function(e,t){s.checkVisibility(t)}},precache:function(e,t){e instanceof Array||(e=[e]);for(var n=e.length,i=0,o=[],r=_.createElement("img"),a=function(){++i>=e.length&&T.isFunction(t)&&t()};n--;)(r=_.createElement("img")).onload=a,r.onerror=a,r.src=e[n],o.push(r)},enableCallbacks:function(){s.debug("Allowing callbacks to occur"),g=!1},disableCallbacks:function(){s.debug("Disabling all callbacks temporarily"),g=!0},should:{trackChanges:function(){return k?(s.debug("One time query, no need to bind events"),!1):(s.debug("Callbacks being attached"),!0)}},setup:{cache:function(){s.cache={occurred:{},screen:{},element:{}}},image:function(){var e=u.data(r.src);e&&(s.verbose("Lazy loading image",e),o.once=!0,o.observeChanges=!1,o.onOnScreen=function(){s.debug("Image on screen",m),s.precache(e,function(){s.set.image(e)})})},fixed:function(){s.debug("Setting up fixed"),o.once=!1,o.observeChanges=!1,o.initialCheck=!0,o.refreshOnLoad=!0,v.transition||(o.transition=!1),s.create.placeholder(),s.debug("Added placeholder",e),o.onTopPassed=function(){s.debug("Element passed, adding fixed position",u),s.show.placeholder(),s.set.fixed(),o.transition&&T.fn.transition!==A&&u.transition(o.transition,o.duration)},o.onTopPassedReverse=function(){s.debug("Element returned to position, removing fixed",u),s.hide.placeholder(),s.remove.fixed()}}},create:{placeholder:function(){s.verbose("Creating fixed position placeholder"),e=u.clone(!1).css("display","none").addClass(n.placeholder).insertAfter(u)}},show:{placeholder:function(){s.verbose("Showing placeholder"),e.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){s.verbose("Hiding placeholder"),e.css("display","none").css("visibility","")}},set:{fixed:function(){s.verbose("Setting element to fixed position"),u.addClass(n.fixed).css({position:"fixed",top:o.offset+"px",left:"auto",zIndex:"1"})},image:function(e){u.attr("src",e),o.transition?T.fn.transition!==A?u.transition(o.transition,o.duration):u.fadeIn(o.duration):u.show()}},is:{onScreen:function(){return s.get.elementCalculations().onScreen},offScreen:function(){return s.get.elementCalculations().offScreen},visible:function(){return!(!s.cache||!s.cache.element)&&!(0===s.cache.element.width&&0===s.cache.element.offset.top)}},refresh:function(){s.debug("Refreshing constants (width/height)"),"fixed"==o.type&&(s.remove.fixed(),s.remove.occurred()),s.reset(),s.save.position(),o.checkOnRefresh&&s.checkVisibility(),o.onRefresh.call(m)},reset:function(){s.verbose("Reseting all cached values"),T.isPlainObject(s.cache)&&(s.cache.screen={},s.cache.element={})},checkVisibility:function(e){s.verbose("Checking visibility of element",s.cache.element),!g&&s.is.visible()&&(s.save.scroll(e),s.save.calculations(),s.passed(),s.passingReverse(),s.topVisibleReverse(),s.bottomVisibleReverse(),s.topPassedReverse(),s.bottomPassedReverse(),s.onScreen(),s.offScreen(),s.passing(),s.topVisible(),s.bottomVisible(),s.topPassed(),s.bottomPassed(),o.onUpdate&&o.onUpdate.call(m,s.get.elementCalculations()))},passed:function(e,t){var n=s.get.elementCalculations();if(e&&t)o.onPassed[e]=t;else{if(e!==A)return s.get.pixelsPassed(e)>n.pixelsPassed;n.passing&&T.each(o.onPassed,function(e,t){n.bottomVisible||n.pixelsPassed>s.get.pixelsPassed(e)?s.execute(t,e):o.once||s.remove.occurred(t)})}},onScreen:function(e){var t=s.get.elementCalculations(),n=e||o.onOnScreen;if(e&&(s.debug("Adding callback for onScreen",e),o.onOnScreen=e),t.onScreen?s.execute(n,"onScreen"):o.once||s.remove.occurred("onScreen"),e!==A)return t.onOnScreen},offScreen:function(e){var t=s.get.elementCalculations(),n=e||o.onOffScreen;if(e&&(s.debug("Adding callback for offScreen",e),o.onOffScreen=e),t.offScreen?s.execute(n,"offScreen"):o.once||s.remove.occurred("offScreen"),e!==A)return t.onOffScreen},passing:function(e){var t=s.get.elementCalculations(),n=e||o.onPassing;if(e&&(s.debug("Adding callback for passing",e),o.onPassing=e),t.passing?s.execute(n,"passing"):o.once||s.remove.occurred("passing"),e!==A)return t.passing},topVisible:function(e){var t=s.get.elementCalculations(),n=e||o.onTopVisible,i="topVisible";if(e&&(s.debug("Adding callback for top visible",e),o.onTopVisible=e),t.topVisible?s.execute(n,i):o.once||s.remove.occurred(i),e===A)return t.topVisible},bottomVisible:function(e){var t=s.get.elementCalculations(),n=e||o.onBottomVisible,i="bottomVisible";if(e&&(s.debug("Adding callback for bottom visible",e),o.onBottomVisible=e),t.bottomVisible?s.execute(n,i):o.once||s.remove.occurred(i),e===A)return t.bottomVisible},topPassed:function(e){var t=s.get.elementCalculations(),n=e||o.onTopPassed;if(e&&(s.debug("Adding callback for top passed",e),o.onTopPassed=e),t.topPassed?s.execute(n,"topPassed"):o.once||s.remove.occurred("topPassed"),e===A)return t.topPassed},bottomPassed:function(e){var t=s.get.elementCalculations(),n=e||o.onBottomPassed,i="bottomPassed";if(e&&(s.debug("Adding callback for bottom passed",e),o.onBottomPassed=e),t.bottomPassed?s.execute(n,i):o.once||s.remove.occurred(i),e===A)return t.bottomPassed},passingReverse:function(e){var t=s.get.elementCalculations(),n=e||o.onPassingReverse,i="passingReverse";if(e&&(s.debug("Adding callback for passing reverse",e),o.onPassingReverse=e),t.passing?o.once||s.remove.occurred(i):s.get.occurred("passing")&&s.execute(n,i),e!==A)return!t.passing},topVisibleReverse:function(e){var t=s.get.elementCalculations(),n=e||o.onTopVisibleReverse,i="topVisibleReverse";if(e&&(s.debug("Adding callback for top visible reverse",e),o.onTopVisibleReverse=e),t.topVisible?o.once||s.remove.occurred(i):s.get.occurred("topVisible")&&s.execute(n,i),e===A)return!t.topVisible},bottomVisibleReverse:function(e){var t=s.get.elementCalculations(),n=e||o.onBottomVisibleReverse,i="bottomVisibleReverse";if(e&&(s.debug("Adding callback for bottom visible reverse",e),o.onBottomVisibleReverse=e),t.bottomVisible?o.once||s.remove.occurred(i):s.get.occurred("bottomVisible")&&s.execute(n,i),e===A)return!t.bottomVisible},topPassedReverse:function(e){var t=s.get.elementCalculations(),n=e||o.onTopPassedReverse,i="topPassedReverse";if(e&&(s.debug("Adding callback for top passed reverse",e),o.onTopPassedReverse=e),t.topPassed?o.once||s.remove.occurred(i):s.get.occurred("topPassed")&&s.execute(n,i),e===A)return!t.onTopPassed},bottomPassedReverse:function(e){var t=s.get.elementCalculations(),n=e||o.onBottomPassedReverse,i="bottomPassedReverse";if(e&&(s.debug("Adding callback for bottom passed reverse",e),o.onBottomPassedReverse=e),t.bottomPassed?o.once||s.remove.occurred(i):s.get.occurred("bottomPassed")&&s.execute(n,i),e===A)return!t.bottomPassed},execute:function(e,t){var n=s.get.elementCalculations(),i=s.get.screenCalculations();(e=e||!1)&&(o.continuous?(s.debug("Callback being called continuously",t,n),e.call(m,n,i)):s.get.occurred(t)||(s.debug("Conditions met",t,n),e.call(m,n,i))),s.save.occurred(t)},remove:{fixed:function(){s.debug("Removing fixed position"),u.removeClass(n.fixed).css({position:"",top:"",left:"",zIndex:""})},occurred:function(e){if(e){var t=s.cache.occurred;t[e]!==A&&!0===t[e]&&(s.debug("Callback can now be called again",e),s.cache.occurred[e]=!1)}else s.cache.occurred={}}},save:{calculations:function(){s.verbose("Saving all calculations necessary to determine positioning"),s.save.direction(),s.save.screenCalculations(),s.save.elementCalculations()},occurred:function(e){e&&(s.cache.occurred[e]!==A&&!0===s.cache.occurred[e]||(s.verbose("Saving callback occurred",e),s.cache.occurred[e]=!0))},scroll:function(e){e=e+o.offset||h.scrollTop()+o.offset,s.cache.scroll=e},direction:function(){var e,t=s.get.scroll(),n=s.get.lastScroll();return e=n<t&&n?"down":t<n&&n?"up":"static",s.cache.direction=e,s.cache.direction},elementPosition:function(){var e=s.cache.element,t=s.get.screenSize();return s.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=u.offset(),e.width=u.outerWidth(),e.height=u.outerHeight(),s.cache.element=e},elementCalculations:function(){var e=s.get.screenCalculations(),t=s.get.elementPosition();return o.includeMargin?(t.margin={},t.margin.top=parseInt(u.css("margin-top"),10),t.margin.bottom=parseInt(u.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topVisible=e.bottom>=t.top,t.topPassed=e.top>=t.top,t.bottomVisible=e.bottom>=t.bottom,t.bottomPassed=e.top>=t.bottom,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=t.topVisible&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),s.cache.element=t,s.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=s.get.scroll();return s.save.direction(),s.cache.screen.top=e,s.cache.screen.bottom=e+s.cache.screen.height,s.cache.screen},screenSize:function(){s.verbose("Saving window position"),s.cache.screen={height:h.height()}},position:function(){s.save.screenSize(),s.save.elementPosition()}},get:{pixelsPassed:function(e){var t=s.get.elementCalculations();return-1<e.search("%")?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return s.cache.occurred!==A&&s.cache.occurred[e]||!1},direction:function(){return s.cache.direction===A&&s.save.direction(),s.cache.direction},elementPosition:function(){return s.cache.element===A&&s.save.elementPosition(),s.cache.element},elementCalculations:function(){return s.cache.element===A&&s.save.elementCalculations(),s.cache.element},screenCalculations:function(){return s.cache.screen===A&&s.save.screenCalculations(),s.cache.screen},screenSize:function(){return s.cache.screen===A&&s.save.screenSize(),s.cache.screen},scroll:function(){return s.cache.scroll===A&&s.save.scroll(),s.cache.scroll},lastScroll:function(){return s.cache.screen===A?(s.debug("First scroll event, no last scroll could be found"),!1):s.cache.screen.top}},setting:function(e,t){if(T.isPlainObject(e))T.extend(!0,o,e);else{if(t===A)return o[e];o[e]=t}},internal:function(e,t){if(T.isPlainObject(e))T.extend(!0,s,e);else{if(t===A)return s[e];s[e]=t}},debug:function(){o.debug&&(o.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,o.name+":"),s.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,o.name+":"),s.error.apply(console,arguments)},performance:{log:function(e){var t,n;o.performance&&(n=(t=(new Date).getTime())-(x||t),x=t,w.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:m,"Execution Time":n})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var e=o.name+":",n=0;x=!1,clearTimeout(s.performance.timer),T.each(w,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",y&&(e+=" '"+y+"'"),(console.group!==A||console.table!==A)&&0<w.length&&(console.groupCollapsed(e),console.table?console.table(w):T.each(w,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),w=[]}},invoke:function(i,e,t){var o,r,n,a=p;return e=e||S,t=m||t,"string"==typeof i&&a!==A&&(i=i.split(/[\. ]/),o=i.length-1,T.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(T.isPlainObject(a[n])&&e!=o)a=a[n];else{if(a[n]!==A)return r=a[n],!1;if(!T.isPlainObject(a[t])||e==o)return a[t]!==A?r=a[t]:s.error(l.method,i),!1;a=a[t]}})),T.isFunction(r)?n=r.apply(t,e):r!==A&&(n=r),T.isArray(b)?b.push(n):b!==A?b=[b,n]:n!==A&&(b=n),r}},k?(p===A&&s.initialize(),p.save.scroll(),p.save.calculations(),s.invoke(C)):(p!==A&&p.invoke("destroy"),s.initialize())}),b!==A?b:this},T.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:E,throttle:!1,type:!1,transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document),function(n,e,i){"use strict";var P=2*Math.PI,O=Math.PI/2;function D(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}function I(e,t,n,i){return Math.round(n+(i-n)*e/t)}function o(e,t){t=function(){for(var e=arguments,t=e[0],n=1,i=e.length;n<i;n++){var o=e[n];for(var r in o)o.hasOwnProperty(r)&&(t[r]=o[r])}return t}({},r.defaults,t=t||{}),this.indOption=t,"string"==typeof e&&(e=i.querySelector(e)),e.length&&(e=e[0]),this.container=e;var n=i.createElement("canvas");e.appendChild(n),this.canElm=n,this.ctx=n.getContext("2d"),this.current_value=t.initValue||t.minValue||0}function r(e,t){var n=new o(e,t);return n.init(),n}r.defaults={radius:50,barWidth:5,barBgColor:"#eeeeee",barColor:"#99CC33",format:null,frameTime:10,frameNum:null,fontColor:null,fontFamily:null,fontWeight:"bold",fontSize:null,interpolate:!0,percentage:!(o.prototype={constructor:r,init:function(){var a,e=this.indOption,t=this.canElm,n=this.ctx,i=2*(e.radius+e.barWidth),o=i/2;return this.formatter="function"==typeof e.format?e.format:(a=e.format,function(e){if(!a)return e.toString();for(var t=(e=e||0).toString().split("").reverse(),n=a.split("").reverse(),i=0,o=0,r=n.length;i<r&&t.length;i++)"#"==n[i]&&(n[o=i]=t.shift());return n.splice(o+1,n.lastIndexOf("#")-o,t.reverse().join("")),n.reverse().join("")}),this.maxLength=e.percentage?4:this.formatter(e.maxValue).length,t.width=i,t.height=i,n.strokeStyle=e.barBgColor,n.lineWidth=e.barWidth,n.beginPath(),n.arc(o,o,e.radius,0,2*Math.PI),n.stroke(),this.imgData=n.getImageData(0,0,i,i),this.value(this.current_value),this},value:function(e){if(void 0===e||isNaN(e))return this.current_value;e=parseInt(e);var t=this.ctx,n=this.indOption,i=n.barColor,o=2*(n.radius+n.barWidth),r=n.minValue,a=n.maxValue,s=o/2;e=e<r?r:a<e?a:e;var l,c,d,u,h,p,f,m,g,v=Math.round(100*(e-r)/(a-r)*100)/100,b=n.percentage?v+"%":this.formatter(e);if(this.current_value=e,t.putImageData(this.imgData,0,0),"object"==typeof i)for(var y=Object.keys(i),x=1,w=y.length;x<w;x++){var C=y[x-1],k=y[x],S=i[C],T=i[k],E=e==C?S:e==k?T:C<e&&e<k&&(n.interpolate?(l=e,c=C,d=k,u=S,0,p=-1!=(h=T).indexOf("#")?D(h):h.match(/\d+/g),f=-1!=u.indexOf("#")?D(u):u.match(/\d+/g),m=d-c,g=l-c,p&&f?"rgb("+I(g,m,f[0],p[0])+","+I(g,m,f[1],p[1])+","+I(g,m,f[2],p[2])+")":null):T);if(0!=E){i=E;break}}if(t.strokeStyle=i,n.roundCorner&&(t.lineCap="round"),t.beginPath(),t.arc(s,s,n.radius,-O,P*v/100-O,!1),t.stroke(),n.displayNumber){var _=t.font.split(" "),A=n.fontWeight,j=n.fontSize||o/(this.maxLength-(Math.floor(1.4*this.maxLength/4)-1));_=n.fontFamily||_[_.length-1],t.fillStyle=n.fontColor||i,t.font=A+" "+j+"px "+_,t.textAlign="center",t.textBaseline="middle",t.fillText(b,s,s)}return this},animate:function(e){var t=this.indOption,n=this.current_value||t.minValue,i=this,o=Math.ceil((t.maxValue-t.minValue)/(t.frameNum||(t.percentage?100:500))),r=e<n;return this.intvFunc&&clearInterval(this.intvFunc),this.intvFunc=setInterval(function(){if(!r&&e<=n||r&&n<=e){if(i.current_value==n)return void clearInterval(i.intvFunc);n=e}i.value(n),n!=e&&(n+=r?-o:o)},t.frameTime),this},option:function(e,t){if(void 0===t)return this.option[e];-1!=["radius","barWidth","barBgColor","format","maxValue","percentage"].indexOf(e)&&(this.indOption[e]=t,this.init().value(this.current_value)),this.indOption[e]=t}}),displayNumber:!0,roundCorner:!1,minValue:0,maxValue:100,initValue:0},e.radialIndicator=r,n&&(n.fn.radialIndicator=function(t){return this.each(function(){var e=r(this,t);n.data(this,"radialIndicator",e)})})}(window.jQuery,window,document),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){e.event.special.mresize={add:function(){var t=e(this);t.data("mresize")||("static"===t.css("position")&&t.css("position","relative"),t.append("<div class='resize' style='position:absolute; width:auto; height:auto; top:0; right:0; bottom:0; left:0; margin:0; padding:0; overflow:hidden; visibility:hidden; z-index:-1'><iframe style='width:100%; height:0; border:0; visibility:visible; margin:0' /><iframe style='width:0; height:100%; border:0; visibility:visible; margin:0' /></div>").data("mresize",{w:t.width(),h:t.height(),t:null,throttle:100}).find(".resize iframe").each(function(){e(this.contentWindow||this).on("resize",function(){var e=t.data("mresize");e.w===t.width()&&e.h===t.height()||(e.t&&clearTimeout(e.t),e.t=setTimeout(function(){t.triggerHandler("mresize"),e.w=t.width(),e.h=t.height()},e.throttle))})}))},remove:function(){e(this).removeData("mresize").find(".resize").remove()}}}),function(c){var r={init:function(n){return this.each(function(){var a=c(this);a.data("uploadifive",{inputs:{},inputCount:0,fileID:0,queue:{count:0,selected:0,replaced:0,errors:0,queued:0,cancelled:0},uploads:{current:0,attempts:0,successful:0,errors:0,count:0}});var s=a.data("uploadifive"),l=s.settings=c.extend({auto:!0,buttonClass:!1,buttonText:StrackLang.Select_Files,checkScript:!1,dnd:!0,dropTarget:!1,fileObjName:"Filedata",fileSizeLimit:0,fileType:!1,formData:{},height:20,itemTemplate:!1,method:"post",multi:!0,overrideEvents:[],queueID:!1,queueSizeLimit:0,removeCompleted:!1,simUploadLimit:0,truncateLength:0,uploadLimit:0,uploadScript:"uploadifive.php",width:100},n);if(isNaN(l.fileSizeLimit)){var e=1.024*parseInt(l.fileSizeLimit);-1<l.fileSizeLimit.indexOf("KB")?l.fileSizeLimit=1e3*e:-1<l.fileSizeLimit.indexOf("MB")?l.fileSizeLimit=1e6*e:-1<l.fileSizeLimit.indexOf("GB")&&(l.fileSizeLimit=1e9*e)}else l.fileSizeLimit=1024*l.fileSizeLimit;if(s.inputTemplate=c('<input type="file">').css({"font-size":l.height+"px",opacity:0,position:"absolute",right:"-3px",top:"-3px","z-index":999}),s.createInput=function(){var e=s.inputTemplate.clone(),n=e.name="input"+s.inputCount++;l.multi&&e.attr("multiple",!0),l.fileType&&e.attr("accept",l.fileType),e.bind("change",function(){s.queue.selected=0,s.queue.replaced=0,s.queue.errors=0,s.queue.queued=0;var e=this.files.length;if(s.queue.selected=e,s.queue.count+e>l.queueSizeLimit&&0!==l.queueSizeLimit)c.inArray("onError",l.overrideEvents)<0&&alert("The maximum number of queue items has been reached ("+l.queueSizeLimit+").  Please select fewer files."),"function"==typeof l.onError&&l.onError.call(a,"QUEUE_LIMIT_EXCEEDED");else{for(var t=0;t<e;t++)file=this.files[t],s.addQueueItem(file);s.inputs[n]=this,s.createInput()}l.auto&&r.upload.call(a),"function"==typeof l.onSelect&&l.onSelect.call(a,s.queue)}),s.currentInput&&s.currentInput.hide(),s.button.append(e),s.currentInput=e},s.destroyInput=function(e){c(s.inputs[e]).remove(),delete s.inputs[e],s.inputCount--},s.drop=function(e){s.queue.selected=0,s.queue.replaced=0,s.queue.errors=0,s.queue.queued=0;var t=e.dataTransfer,n=t.name="input"+s.inputCount++,i=t.files.length;if(s.queue.selected=i,s.queue.count+i>l.queueSizeLimit&&0!==l.queueSizeLimit)c.inArray("onError",l.overrideEvents)<0&&alert("The maximum number of queue items has been reached ("+l.queueSizeLimit+").  Please select fewer files."),"function"==typeof l.onError&&l.onError.call(a,"QUEUE_LIMIT_EXCEEDED");else{for(var o=0;o<i;o++)file=t.files[o],s.addQueueItem(file);s.inputs[n]=t}l.auto&&r.upload.call(a),"function"==typeof l.onDrop&&l.onDrop.call(a,t.files,t.files.length),e.preventDefault(),e.stopPropagation()},s.fileExistsInQueue=function(e){for(var t in s.inputs){input=s.inputs[t],limit=input.files.length;for(var n=0;n<limit;n++)if(existingFile=input.files[n],existingFile.name==e.name&&!existingFile.complete)return!0}return!1},s.removeExistingFile=function(e){for(var t in s.inputs){input=s.inputs[t],limit=input.files.length;for(var n=0;n<limit;n++)existingFile=input.files[n],existingFile.name!=e.name||existingFile.complete||(s.queue.replaced++,r.cancel.call(a,existingFile,!0))}},0==l.itemTemplate?s.queueItem=c('<div class="uploadifive-queue-item">                        <a class="close" href="#">X</a>                        <div><span class="filename"></span><span class="fileinfo"></span></div>                        <div class="progress">                            <div class="progress-bar"></div>                        </div>                    </div>'):s.queueItem=c(l.itemTemplate),s.addQueueItem=function(e){if(c.inArray("onAddQueueItem",l.overrideEvents)<0){s.removeExistingFile(e),e.queueItem=s.queueItem.clone(),e.queueItem.attr("id",l.id+"-file-"+s.fileID++),e.queueItem.find(".close").bind("click",function(){return r.cancel.call(a,e),!1});var t=e.name;t.length>l.truncateLength&&0!=l.truncateLength&&(t=t.substring(0,l.truncateLength)+"..."),e.queueItem.find(".filename").html(t),e.queueItem.data("file",e),s.queueEl.append(e.queueItem)}"function"==typeof l.onAddQueueItem&&l.onAddQueueItem.call(a,e),e.size>l.fileSizeLimit&&0!=l.fileSizeLimit?s.error("FILE_SIZE_LIMIT_EXCEEDED",e):(s.queue.queued++,s.queue.count++)},s.removeQueueItem=function(e,t,n){n=n||0;var i=t?0:500;e.queueItem&&(" - Completed"!=e.queueItem.find(".fileinfo").html()&&e.queueItem.find(".fileinfo").html(" - Cancelled"),e.queueItem.find(".progress-bar").width(0),e.queueItem.delay(n).fadeOut(i,function(){c(this).remove()}),delete e.queueItem,s.queue.count--)},s.filesToUpload=function(){var e=0;for(var t in s.inputs){input=s.inputs[t],limit=input.files.length;for(var n=0;n<limit;n++)file=input.files[n],file.skip||file.complete||e++}return e},s.checkExists=function(t){if(c.inArray("onCheck",l.overrideEvents)<0){c.ajaxSetup({async:!1});var e=c.extend(l.formData,{filename:t.name});if(c.post(l.checkScript,e,function(e){t.exists=parseInt(e)}),t.exists&&!confirm("A file named "+t.name+" already exists in the upload folder.\nWould you like to replace it?"))return r.cancel.call(a,t),!0}return"function"==typeof l.onCheck&&l.onCheck.call(a,t,t.exists),!1},s.uploadFile=function(o,r){if(!o.skip&&!o.complete&&!o.uploading)if(o.uploading=!0,s.uploads.current++,s.uploads.attempted++,xhr=o.xhr=new XMLHttpRequest,"function"==typeof FormData||"object"==typeof FormData){var e=new FormData;for(i in e.append(l.fileObjName,o),l.formData)e.append(i,l.formData[i]);xhr.open(l.method,l.uploadScript,!0),xhr.upload.addEventListener("progress",function(e){e.lengthComputable&&s.progress(e,o)},!1),xhr.addEventListener("load",function(e){4==this.readyState&&(o.uploading=!1,200==this.status?"Invalid file type."!==o.xhr.responseText?s.uploadComplete(e,o,r):s.error(o.xhr.responseText,o,r):404==this.status?s.error("404_FILE_NOT_FOUND",o,r):403==this.status?s.error("403_FORBIDDEN",o,r):s.error("Unknown Error",o,r))}),xhr.send(e)}else{var t=new FileReader;t.onload=function(e){var t="-------------------------"+(new Date).getTime(),n="\r\n",i="";for(key in i+="--"+t+n,i+='Content-Disposition: form-data; name="'+l.fileObjName+'"',o.name&&(i+='; filename="'+o.name+'"'),i+=n,i+="Content-Type: application/octet-stream\r\n\r\n",i+=e.target.result+n,l.formData)i+="--"+t+n,i+='Content-Disposition: form-data; name="'+key+'"'+n+n,i+=l.formData[key]+n;i+="--"+t+"--"+n,xhr.upload.addEventListener("progress",function(e){s.progress(e,o)},!1),xhr.addEventListener("load",function(e){o.uploading=!1,404==this.status?s.error("404_FILE_NOT_FOUND",o,r):"Invalid file type."!=o.xhr.responseText?s.uploadComplete(e,o,r):s.error(o.xhr.responseText,o,r)},!1);l.uploadScript;"get"==l.method&&c(l.formData).param();xhr.open(l.method,l.uploadScript,!0),xhr.setRequestHeader("Content-Type","multipart/form-data; boundary="+t),"function"==typeof l.onUploadFile&&l.onUploadFile.call(a,o),xhr.sendAsBinary(i)},t.readAsBinaryString(o)}},s.progress=function(e,t){if(c.inArray("onProgress",l.overrideEvents)<0){if(e.lengthComputable)var n=Math.round(e.loaded/e.total*100);t.queueItem.find(".fileinfo").html(" - "+n+"%"),t.queueItem.find(".progress-bar").css("width",n+"%")}"function"==typeof l.onProgress&&l.onProgress.call(a,t,e)},s.error=function(e,t,n){if(c.inArray("onError",l.overrideEvents)<0){switch(e){case"404_FILE_NOT_FOUND":errorMsg="404 Error";break;case"403_FORBIDDEN":errorMsg="403 Forbidden";break;case"FORBIDDEN_FILE_TYPE":errorMsg="Forbidden File Type";break;case"FILE_SIZE_LIMIT_EXCEEDED":errorMsg="File Too Large";break;default:errorMsg="Unknown Error"}t.queueItem.addClass("error").find(".fileinfo").html(" - "+errorMsg),t.queueItem.find(".progress").remove()}"function"==typeof l.onError&&l.onError.call(a,e,t),t.skip=!0,"404_FILE_NOT_FOUND"==e?s.uploads.errors++:s.queue.errors++,n&&r.upload.call(a,null,!0)},s.uploadComplete=function(e,t,n){c.inArray("onUploadComplete",l.overrideEvents)<0&&(t.queueItem.find(".progress-bar").css("width","100%"),t.queueItem.find(".fileinfo").html(" - Completed"),t.queueItem.find(".progress").slideUp(250),t.queueItem.addClass("complete")),"function"==typeof l.onUploadComplete&&l.onUploadComplete.call(a,t,t.xhr.responseText),l.removeCompleted&&setTimeout(function(){r.cancel.call(a,t)},300),t.complete=!0,s.uploads.successful++,s.uploads.count++,s.uploads.current--,delete t.xhr,n&&r.upload.call(a,null,!0)},s.queueComplete=function(){"function"==typeof l.onQueueComplete&&l.onQueueComplete.call(a,s.uploads)},!(window.File&&window.FileList&&window.Blob&&(window.FileReader||window.FormData)))return"function"==typeof l.onFallback&&l.onFallback.call(a),!1;if(l.id="uploadifive-"+a.attr("id"),s.button=c('<div id="'+l.id+'" class="uploadifive-button">'+l.buttonText+"</div>"),l.buttonClass&&s.button.addClass(l.buttonClass),s.button.css({height:l.height,"line-height":l.height+"px",overflow:"hidden",position:"relative","text-align":"center",width:l.width}),a.before(s.button).appendTo(s.button).hide(),s.createInput.call(a),l.queueID?s.queueEl=c("#"+l.queueID):(l.queueID=l.id+"-queue",s.queueEl=c('<div id="'+l.queueID+'" class="uploadifive-queue" />'),s.button.after(s.queueEl)),l.dnd){var t=l.dropTarget?c(l.dropTarget):s.queueEl.get(0);t.addEventListener("dragleave",function(e){e.preventDefault(),e.stopPropagation()},!1),t.addEventListener("dragenter",function(e){e.preventDefault(),e.stopPropagation()},!1),t.addEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation()},!1),t.addEventListener("drop",s.drop,!1)}XMLHttpRequest.prototype.sendAsBinary||(XMLHttpRequest.prototype.sendAsBinary=function(e){var t=Array.prototype.map.call(e,function(e){return 255&e.charCodeAt(0)}),n=new Uint8Array(t);this.send(n.buffer)}),"function"==typeof l.onInit&&l.onInit.call(a)})},debug:function(){return this.each(function(){console.log(c(this).data("uploadifive"))})},clearQueue:function(){this.each(function(){var e=c(this),t=e.data("uploadifive"),n=t.settings;for(var o in t.inputs)for(input=t.inputs[o],limit=input.files.length,i=0;i<limit;i++)file=input.files[i],r.cancel.call(e,file);"function"==typeof n.onClearQueue&&n.onClearQueue.call(e,c("#"+t.settings.queueID))})},addQueueItem:function(e){this.each(function(){c(this).data("uploadifive").addQueueItem(e)})},cancel:function(i,o){this.each(function(){var e=c(this),t=e.data("uploadifive"),n=t.settings;"string"==typeof i&&(isNaN(i)||(fileID="uploadifive-"+c(this).attr("id")+"-file-"+i),i=c("#"+fileID).data("file")),i.skip=!0,t.filesCancelled++,i.uploading&&(t.uploads.current--,i.uploading=!1,i.xhr.abort(),delete i.xhr,r.upload.call(e)),c.inArray("onCancel",n.overrideEvents)<0&&t.removeQueueItem(i,o),"function"==typeof n.onCancel&&n.onCancel.call(e,i)})},upload:function(o,r){this.each(function(){var e=c(this),t=e.data("uploadifive"),n=t.settings;if(o)t.uploadFile.call(e,o);else if(t.uploads.count+t.uploads.current<n.uploadLimit||0==n.uploadLimit){if(!r){t.uploads.attempted=0,t.uploads.successsful=0,t.uploads.errors=0;var i=t.filesToUpload();"function"==typeof n.onUpload&&n.onUpload.call(e,i)}c("#"+n.queueID).find(".uploadifive-queue-item").not(".error, .complete").each(function(){if(_file=c(this).data("file"),t.uploads.current>=n.simUploadLimit&&0!==n.simUploadLimit||t.uploads.current>=n.uploadLimit&&0!==n.uploadLimit||t.uploads.count>=n.uploadLimit&&0!==n.uploadLimit)return!1;n.checkScript?(_file.checking=!0,skipFile=t.checkExists(_file),_file.checking=!1,skipFile||t.uploadFile(_file,!0)):t.uploadFile(_file,!0)}),0==c("#"+n.queueID).find(".uploadifive-queue-item").not(".error, .complete").size()&&t.queueComplete()}else 0==t.uploads.current&&(c.inArray("onError",n.overrideEvents)<0&&0<t.filesToUpload()&&0!=n.uploadLimit&&alert("The maximum upload limit has been reached."),"function"==typeof n.onError&&n.onError.call(e,"UPLOAD_LIMIT_EXCEEDED",t.filesToUpload()))})},destroy:function(){this.each(function(){var e=c(this),t=e.data("uploadifive"),n=t.settings;r.clearQueue.call(e),n.queueID||c("#"+n.queueID).remove(),e.siblings("input").remove(),e.show().insertBefore(t.button),t.button.remove(),"function"==typeof n.onDestroy&&n.onDestroy.call(e)})},settings:function(t,n,i){this.each(function(){var e=c(this).data("uploadifive").settings;t&&n&&(e[t][n]=i)})}};c.fn.uploadifive=function(e){return r[e]?r[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void c.error("The method "+e+" does not exist in $.uploadify"):r.init.apply(this,arguments)}}(jQuery),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.CSV=t()}(this,function(){"use strict";var a=["|","^"],o=[",",";","\t","|","^"],r=["\r\n","\r","\n"];var y=Array.isArray||function(e){return"[object Array]"===toString.call(e)};function h(e){return"string"==typeof e}function s(e,t){return null!=e?e:t}function p(e,t){for(var n=0,i=e.length;n<i&&!1!==t(e[n],n);n+=1);}function l(e){return e.replace(/"/g,'\\"')}function c(e){return"attrs["+e+"]"}function d(e,t){return isNaN(Number(e))?0==(n=e)||1==n?"Boolean("+c(t)+" == true)":"String("+c(t)+")":"Number("+c(t)+")";var n}function x(n,i,e,o){var r=[];return r=3==arguments.length?(i?y(i)?p(e,function(e,t){h(i[t])?i[t]=i[t].toLowerCase():n[i[t]]=i[t],r.push("deserialize[cast["+t+"]]("+c(t)+")")}):p(e,function(e,t){r.push(d(e,t))}):p(e,function(e,t){r.push(c(t))}),"return ["+r.join(",")+"]"):(i?y(i)?p(e,function(e,t){h(i[t])?i[t]=i[t].toLowerCase():n[i[t]]=i[t],r.push('"'+l(o[t])+'": deserialize[cast['+t+"]]("+c(t)+")")}):p(e,function(e,t){r.push('"'+l(o[t])+'": '+d(e,t))}):p(e,function(e,t){r.push('"'+l(o[t])+'": '+c(t))}),"return {"+r.join(",")+"}"),new Function("attrs","deserialize","cast",r)}function u(i,e){var o,r=0;return p(e,function(e){var t,n=e;-1!=a.indexOf(e)&&(n="\\"+n),(t=i.match(new RegExp(n,"g")))&&t.length>r&&(r=t.length,o=e)}),o||e[0]}var i=(e.prototype.set=function(e,t){return this.options[e]=t},e.prototype.isParser=function(){return"parse"==this.mode},e.prototype.isEncoder=function(){return"encode"==this.mode},e.prototype.parse=function(e){if("parse"==this.mode){if(0===this.data.trim().length)return[];var t,n,i,o=this.data,r=this.options,a=r.header,s={cell:"",line:[]},l=this.deserialize;e||(i=[],e=function(e){i.push(e)}),1==r.lineDelimiter.length&&(v=g);var c,d,u,h=o.length,p=r.cellDelimiter.charCodeAt(0),f=r.lineDelimiter.charCodeAt(r.lineDelimiter.length-1);for(m(),d=c=0;c<h;c++)u=o.charCodeAt(c),t.cell&&(t.cell=!1,34==u)?t.escaped=!0:t.escaped&&34==u?t.quote=!t.quote:(t.escaped&&t.quote||!t.escaped)&&(u==p?(g(s.cell+o.slice(d,c)),d=c+1):u==f&&(v(s.cell+o.slice(d,c)),d=c+1,(1<s.line.length||""!==s.line[0])&&b(),s.line=[]));return i||this}function m(){t={escaped:!1,quote:!1,cell:!0}}function g(e){s.line.push(t.escaped?e.slice(1,-1).replace(/""/g,'"'):e),s.cell="",m()}function v(e){g(e.slice(0,1-r.lineDelimiter.length))}function b(){a?y(a)?(n=x(l,r.cast,s.line,a),(b=function(){w(e,n,s.line,l,r.cast)})()):a=s.line:(n=n||x(l,r.cast,s.line),(b=function(){w(e,n,s.line,l,r.cast)})())}},e.prototype.deserialize={string:function(e){return String(e)},number:function(e){return Number(e)},boolean:function(e){return Boolean(e)}},e.prototype.serialize={object:function(n){var i=this,e=Object.keys(n),o=Array(e.length);return p(e,function(e,t){o[t]=i[f(n[e])](n[e])}),o},array:function(e){var n=this,i=Array(e.length);return p(e,function(e,t){i[t]=n[f(e)](e)}),i},string:function(e){return'"'+String(e).replace(/"/g,'""')+'"'},null:function(e){return""},primitive:function(e){return e}},e.prototype.encode=function(o){if("encode"==this.mode){if(0==this.data.length)return"";var t,n,e=this.data,i=this.options,r=i.header,a=e[0],s=this.serialize,l=0;o||(n=Array(e.length),o=function(e,t){n[t+l]=e}),r&&(y(r)||(r=t=Object.keys(a)),o(u(s.array(r)),0),l=1);var c,d=f(a);return"array"==d?(y(i.cast)?(c=Array(i.cast.length),p(i.cast,function(e,t){h(e)?c[t]=e.toLowerCase():(c[t]=e,s[e]=e)})):(c=Array(a.length),p(a,function(e,t){c[t]=f(e)})),p(e,function(e,t){var n=Array(c.length);p(e,function(e,t){n[t]=s[c[t]](e)}),o(u(n),t)})):"object"==d&&(t=Object.keys(a),y(i.cast)?(c=Array(i.cast.length),p(i.cast,function(e,t){h(e)?c[t]=e.toLowerCase():(c[t]=e,s[e]=e)})):(c=Array(t.length),p(t,function(e,t){c[t]=f(a[e])})),p(e,function(n,e){var i=Array(t.length);p(t,function(e,t){i[t]=s[c[t]](n[e])}),o(u(i),e)})),n?n.join(i.lineDelimiter):this}function u(e){return e.join(i.cellDelimiter)}},e.prototype.forEach=function(e){return this[this.mode](e)},e);function e(e,t){if(t=t||{},y(e))this.mode="encode";else{if(!h(e))throw new Error("Incompatible format!");this.mode="parse"}this.data=e,this.options={header:s(t.header,!1),cast:s(t.cast,!0)};var n=t.lineDelimiter||t.line,i=t.cellDelimiter||t.delimiter;this.isParser()?(this.options.lineDelimiter=n||u(this.data,r),this.options.cellDelimiter=i||u(this.data,o),this.data=function(e,t){e.slice(-t.length)!=t&&(e+=t);return e}(this.data,this.options.lineDelimiter)):this.isEncoder()&&(this.options.lineDelimiter=n||"\r\n",this.options.cellDelimiter=i||",")}function w(e,t,n,i,o){e(new t(n,i,o))}function f(e){return y(e)?"array":"function"==(n=typeof(t=e))||"object"==n&&t?"object":h(e)?"string":null==e?"null":"primitive";var t,n}return i.parse=function(e,t){return new i(e,t).parse()},i.encode=function(e,t){return new i(e,t).encode()},i.forEach=function(e,t,n){return 2==arguments.length&&(n=t),new i(e,t).forEach(n)},i}),function(pe){function fe(e,t){return this instanceof fe?(pe.isPlainObject(e)?t=e:(t=t||{}).alias=e,this.el=void 0,this.opts=pe.extend(!0,{},this.defaults,t),this.noMasksCache=t&&void 0!==t.definitions,this.userOptions=t||{},this.events={},void c(this.opts.alias,t,this.opts)):new fe(e,t)}function c(e,t,n){var i=n.aliases[e];return i?(i.alias&&c(i.alias,void 0,n),pe.extend(!0,n,i),pe.extend(!0,n,t),!0):(null===n.mask&&(n.mask=e),!1)}function r(S,o){function r(e){function t(e,t,n,i){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function o(e,t,n){var i=S.definitions[t];n=void 0!==n?n:e.matches.length;var o=e.matches[n-1];if(i&&!f){i.placeholder=pe.isFunction(i.placeholder)?i.placeholder(S):i.placeholder;for(var r=i.prevalidator,a=r?r.length:0,s=1;s<i.cardinality;s++){var l=s<=a?r[s-1]:[],c=l.validator,d=l.cardinality;e.matches.splice(n++,0,{fn:c?"string"==typeof c?new RegExp(c):new function(){this.test=c}:new RegExp("."),cardinality:d||1,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==(i.definitionSymbol||t),casing:i.casing,def:i.definitionSymbol||t,placeholder:i.placeholder,mask:t}),o=e.matches[n-1]}e.matches.splice(n++,0,{fn:i.validator?"string"==typeof i.validator?new RegExp(i.validator):new function(){this.test=i.validator}:new RegExp("."),cardinality:i.cardinality,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==(i.definitionSymbol||t),casing:i.casing,def:i.definitionSymbol||t,placeholder:i.placeholder,mask:t})}else e.matches.splice(n++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==t,casing:null,def:S.staticDefinitionSymbol||t,placeholder:void 0!==S.staticDefinitionSymbol?t:void 0,mask:t}),f=!1}function r(e,t){e.isGroup&&(e.isGroup=!1,o(e,S.groupmarker.start,0),!0!==t&&o(e,S.groupmarker.end))}function n(e,t,n,i){0<t.matches.length&&(void 0===i||i)&&r(t.matches[t.matches.length-1]),o(t,e)}function i(){if(0<g.length){if(c=g[g.length-1],n(s,c,0,!c.isAlternator),c.isAlternator){d=g.pop();for(var e=0;e<d.matches.length;e++)d.matches[e].isGroup=!1;0<g.length?(c=g[g.length-1]).matches.push(d):m.matches.push(d)}}else n(s,m)}for(var a,s,l,c,d,u,h,p=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,f=!1,m=new t,g=[],v=[];a=p.exec(e);)if(s=a[0],f)i();else switch(s.charAt(0)){case S.escapeChar:f=!0;break;case S.optionalmarker.end:case S.groupmarker.end:if(void 0!==(l=g.pop()))if(0<g.length){if((c=g[g.length-1]).matches.push(l),c.isAlternator){d=g.pop();for(var b=0;b<d.matches.length;b++)d.matches[b].isGroup=!1;0<g.length?(c=g[g.length-1]).matches.push(d):m.matches.push(d)}}else m.matches.push(l);else i();break;case S.optionalmarker.start:g.push(new t(!1,!0));break;case S.groupmarker.start:g.push(new t(!0));break;case S.quantifiermarker.start:var y=new t(!1,!1,!0),x=(s=s.replace(/[{}]/g,"")).split(","),w=isNaN(x[0])?x[0]:parseInt(x[0]),C=1===x.length?w:isNaN(x[1])?x[1]:parseInt(x[1]);if("*"!==C&&"+"!==C||(w="*"===C?0:1),y.quantifier={min:w,max:C},0<g.length){var k=g[g.length-1].matches;(a=k.pop()).isGroup||((h=new t(!0)).matches.push(a),a=h),k.push(a),k.push(y)}else(a=m.matches.pop()).isGroup||((h=new t(!0)).matches.push(a),a=h),m.matches.push(a),m.matches.push(y);break;case S.alternatormarker:(u=0<g.length?(c=g[g.length-1]).matches.pop():m.matches.pop()).isAlternator?g.push(u):((d=new t(!1,!1,!1,!0)).matches.push(u),g.push(d));break;default:i()}for(;0<g.length;)r(l=g.pop(),!0),m.matches.push(l);return 0<m.matches.length&&(r(u=m.matches[m.matches.length-1]),v.push(m)),S.numericInput&&function e(t){for(var n in t.matches=t.matches.reverse(),t.matches){var i=parseInt(n);if(t.matches[n].isQuantifier&&t.matches[i+1]&&t.matches[i+1].isGroup){var o=t.matches[n];t.matches.splice(n,1),t.matches.splice(i+1,0,o)}void 0!==t.matches[n].matches?t.matches[n]=e(t.matches[n]):t.matches[n]=((r=t.matches[n])===S.optionalmarker.start?r=S.optionalmarker.end:r===S.optionalmarker.end?r=S.optionalmarker.start:r===S.groupmarker.start?r=S.groupmarker.end:r===S.groupmarker.end&&(r=S.groupmarker.start),r)}var r;return t}(v[0]),v}function e(e,t){if(null!==e&&""!==e){if(1===e.length&&!1===S.greedy&&0!==S.repeat&&(S.placeholder=""),0<S.repeat||"*"===S.repeat||"+"===S.repeat){var n="*"===S.repeat?0:"+"===S.repeat?1:S.repeat;e=S.groupmarker.start+e+S.groupmarker.end+S.quantifiermarker.start+n+","+S.repeat+S.quantifiermarker.end}var i;return void 0===fe.prototype.masksCache[e]||!0===o?(i={mask:e,maskToken:r(e),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:t},!0!==o&&(fe.prototype.masksCache[S.numericInput?e.split("").reverse().join(""):e]=i,i=pe.extend(!0,{},fe.prototype.masksCache[S.numericInput?e.split("").reverse().join(""):e]))):i=pe.extend(!0,{},fe.prototype.masksCache[S.numericInput?e.split("").reverse().join(""):e]),i}}function n(e){return e.toString()}var t;if(pe.isFunction(S.mask)&&(S.mask=S.mask(S)),pe.isArray(S.mask)){if(1<S.mask.length){S.keepStatic=null===S.keepStatic||S.keepStatic;var i="(";return pe.each(S.numericInput?S.mask.reverse():S.mask,function(e,t){1<i.length&&(i+=")|("),i+=n(void 0===t.mask||pe.isFunction(t.mask)?t:t.mask)}),e(i+=")",S.mask)}S.mask=S.mask.pop()}return S.mask&&(t=void 0===S.mask.mask||pe.isFunction(S.mask.mask)?e(n(S.mask),S.mask):e(n(S.mask.mask),S.mask)),t}function me(t,n,E){function i(e,t,n){t=t||0;var i,o,r,a=[],s=0,l=A();do{if(!0===e&&L().validPositions[s]){var c=L().validPositions[s];o=c.match,i=c.locator.slice(),a.push(!0===n?c.input:O(s,o))}else o=(r=j(s,i,s-1)).match,i=r.locator.slice(),(!1===E.jitMasking||s<l||isFinite(E.jitMasking)&&E.jitMasking>s)&&a.push(O(s,o));s++}while((void 0===ee||s-1<ee)&&null!==o.fn||null===o.fn&&""!==o.def||s<=t);return""===a[a.length-1]&&a.pop(),a}function L(){return n}function _(e){var t=L();!(t.buffer=void 0)!==e&&(t.tests={},t._buffer=void 0,t.validPositions={},t.p=0)}function A(e,t,n){var i=-1,o=-1,r=n||L().validPositions;for(var a in void 0===e&&(e=-1),r){var s=parseInt(a);r[s]&&(t||null!==r[s].match.fn)&&(s<=e&&(i=s),e<=s&&(o=s))}return-1!==i&&1<e-i||o<e?i:o}function b(e,t,n,i){if(i||E.insertMode&&void 0!==L().validPositions[e]&&void 0===n){var o,r=pe.extend(!0,{},L().validPositions),a=A();for(o=e;o<=a;o++)delete L().validPositions[o];L().validPositions[e]=t;var s,l=!0,c=L().validPositions,d=!1;for(o=s=e;o<=a;o++){var u=r[o];if(void 0!==u)for(var h=s,p=-1;h<S()&&(null==u.match.fn&&c[o]&&(!0===c[o].match.optionalQuantifier||!0===c[o].match.optionality)||null!=u.match.fn);){if(null===u.match.fn||!E.keepStatic&&c[o]&&(void 0!==c[o+1]&&1<x(o+1,c[o].locator.slice(),o).length||void 0!==c[o].alternation)?h++:h=T(s),!1===d&&r[h]&&r[h].match.def===u.match.def){L().validPositions[h]=pe.extend(!0,{},r[h]),L().validPositions[h].input=u.input,s=h,l=!0;break}if(m(h,u.match.def)){var f=P(h,u.input,!0,!0);if(l=!1!==f,s=f.caret||f.insert?A():h,d=!0,l)break}else{if(l=null==u.match.fn,p===h)break;p=h}}if(!l)break}if(!l)return L().validPositions=pe.extend(!0,{},r),_(!0),0}else L().validPositions[e]=t;return _(!0),1}function y(e,t,n,i){function o(e){var t=L().validPositions[e];if(void 0!==t&&null===t.match.fn){var n=L().validPositions[e-1],i=L().validPositions[e+1];return void 0!==n&&void 0!==i}}var r,a=e,s=pe.extend(!0,{},L().validPositions),l=!1;for(L().p=e,r=t-1;a<=r;r--)void 0===L().validPositions[r]||!0!==n&&(o(r)||!1===E.canClearPosition(L(),r,A(),i,E))||delete L().validPositions[r];for(_(!0),r=a+1;r<=A();){for(;void 0!==L().validPositions[a];)a++;var c=L().validPositions[a];if(r<a&&(r=a+1),void 0===L().validPositions[r]&&k(r)||void 0!==c)r++;else{var d=j(r);!1===l&&s[a]&&s[a].match.def===d.match.def?(L().validPositions[a]=pe.extend(!0,{},s[a]),L().validPositions[a].input=d.input,delete L().validPositions[r],r++):m(a,d.match.def)?!1!==P(a,d.input||O(r),!0)&&(delete L().validPositions[r],r++,l=!0):k(r)||(r++,a--),a++}}_(!0)}function j(e,t,n){var i=L().validPositions[e];if(void 0===i)for(var o=x(e,t,n),r=A(),a=L().validPositions[r]||x(0)[0],s=void 0!==a.alternation?a.locator[a.alternation].toString().split(","):[],l=0;l<o.length&&!((i=o[l]).match&&(E.greedy&&!0!==i.match.optionalQuantifier||(!1===i.match.optionality||!1===i.match.newBlockMarker)&&!0!==i.match.optionalQuantifier)&&(void 0===a.alternation||a.alternation!==i.alternation||void 0!==i.locator[a.alternation]&&f(i.locator[a.alternation].toString().split(","),s)));l++);return i}function u(e){return L().validPositions[e]?L().validPositions[e].match:x(e)[0].match}function m(e,t){for(var n=!1,i=x(e),o=0;o<i.length;o++)if(i[o].match&&i[o].match.def===t){n=!0;break}return n}function M(e,i){var o,r;return(L().tests[e]||L().validPositions[e])&&pe.each(L().tests[e]||[L().validPositions[e]],function(e,t){var n=t.alternation?t.locator[t.alternation].toString().indexOf(i):-1;(void 0===r||n<r)&&-1!==n&&(o=t,r=n)}),o}function x(j,e,t){function P(E,_,e,t){function A(e,n,t){function r(n,i){var o=0===pe.inArray(n,i.matches);return o||pe.each(i.matches,function(e,t){return(!0!==t.isQuantifier||!(o=r(n,i.matches[e-1])))&&void 0}),o}if(1e4<D)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+L().mask;if(D===j&&void 0===e.matches)return I.push({match:e,locator:n.reverse(),cd:R}),!0;if(void 0!==e.matches){if(e.isGroup&&t!==e){if(e=A(E.matches[pe.inArray(e,E.matches)+1],n))return!0}else if(e.isOptional){var i=e;if(e=P(e,_,n,t)){if(!r(O=I[I.length-1].match,i))return!0;N=!0,D=j}}else if(e.isAlternator){var o,a=e,s=[],l=I.slice(),c=n.length,d=0<_.length?_.shift():-1;if(-1===d||"string"==typeof d){var u,h=D,p=_.slice(),f=[];if("string"==typeof d)f=d.split(",");else for(u=0;u<a.matches.length;u++)f.push(u);for(var m=0;m<f.length;m++){if(u=parseInt(f[m]),I=[],T=void 0,T=M(D,u),_=T?T.locator.slice(T.alternation+1):[],!0!==(e=A(a.matches[u]||E.matches[u],[u].concat(n),t)||e)&&void 0!==e&&f[f.length-1]<a.matches.length){var g=pe.inArray(e,E.matches)+1;E.matches.length>g&&((e=A(E.matches[g],[g].concat(n.slice(1,n.length)),t))&&(f.push(g.toString()),pe.each(I,function(e,t){t.alternation=n.length-1})))}o=I.slice(),D=h,I=[];for(var v=0;v<p.length;v++)_[v]=p[v];for(var b=0;b<o.length;b++){var y=o[b];y.alternation=y.alternation||c;for(var x=0;x<s.length;x++){var w=s[x];if(y.match.def===w.match.def&&("string"!=typeof d||-1!==pe.inArray(y.locator[y.alternation].toString(),f))){y.match.mask===w.match.mask&&(o.splice(b,1),b--),-1===w.locator[y.alternation].toString().indexOf(y.locator[y.alternation])&&(w.locator[y.alternation]=w.locator[y.alternation]+","+y.locator[y.alternation],w.alternation=y.alternation);break}}}s=s.concat(o)}"string"==typeof d&&(s=pe.map(s,function(e,t){if(isFinite(t)){var n=e.alternation,i=e.locator[n].toString().split(",");e.locator[n]=void 0,e.alternation=void 0;for(var o=0;o<i.length;o++)-1!==pe.inArray(i[o],f)&&(void 0!==e.locator[n]?(e.locator[n]+=",",e.locator[n]+=i[o]):e.locator[n]=parseInt(i[o]),e.alternation=n);if(void 0!==e.locator[n])return e}})),I=l.concat(s),D=j,N=0<I.length}else e=A(a.matches[d]||E.matches[d],[d].concat(n),t);if(e)return!0}else if(e.isQuantifier&&t!==E.matches[pe.inArray(e,E.matches)-1])for(var C=e,k=0<_.length?_.shift():0;k<(isNaN(C.quantifier.max)?k+1:C.quantifier.max)&&D<=j;k++){var S=E.matches[pe.inArray(C,E.matches)-1];if(e=A(S,[k].concat(n),S)){if((O=I[I.length-1].match).optionalQuantifier=k>C.quantifier.min-1,r(O,S)){if(k>C.quantifier.min-1){N=!0,D=j;break}return!0}return!0}}else if(e=P(e,_,n,t))return!0}else D++;var T}for(var n=0<_.length?_.shift():0;n<E.matches.length;n++)if(!0!==E.matches[n].isQuantifier){var i=A(E.matches[n],[n].concat(e),t);if(i&&D===j)return i;if(j<D)break}}var O,n,i,o=L().maskToken,D=e?t:0,r=e||[0],I=[],N=!1,R=e?e.join(""):"";if(-1<j){if(void 0===e){for(var a,s=j-1;void 0===(a=L().validPositions[s]||L().tests[s])&&-1<s;)s--;void 0!==a&&-1<s&&(n=a,i=[],pe.isArray(n)||(n=[n]),void 0===n[0].alternation?i=n[0].locator.slice():pe.each(n,function(e,t){if(""!==t.def)if(0===i.length)i=t.locator.slice();else for(var n=0;n<i.length;n++)t.locator[n]&&-1===i[n].toString().indexOf(t.locator[n])&&(i[n]+=","+t.locator[n])}),R=(r=i).join(""),D=s)}if(L().tests[j]&&L().tests[j][0].cd===R)return L().tests[j];for(var l=r.shift();l<o.length;l++){if(P(o[l],r,[l])&&D===j||j<D)break}}return 0!==I.length&&!N||I.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),L().tests[j]=pe.extend(!0,[],I),L().tests[j]}function p(){return void 0===L()._buffer&&(L()._buffer=i(!1,1)),L()._buffer}function w(e){if(void 0===L().buffer||!0===e){if(!0===e)for(var t in L().tests)void 0===L().validPositions[t]&&delete L().tests[t];L().buffer=i(!0,A(),!0)}return L().buffer}function C(e,t,n){var i;if(n=n,!0===e)_(),e=0,t=n.length;else for(i=e;i<t;i++)delete L().validPositions[i],delete L().tests[i];for(i=e;i<t;i++)_(!0),n[i]!==E.skipOptionalPartCharacter&&P(i,n[i],!0,!0)}function f(e,t){for(var n=E.greedy?t:t.slice(0,1),i=!1,o=0;o<e.length;o++)if(-1!==pe.inArray(e[o],n)){i=!0;break}return i}function P(g,e,t,n){function v(e){return ne?1<e.begin-e.end||e.begin-e.end==1&&E.insertMode:1<e.end-e.begin||e.end-e.begin==1&&E.insertMode}function i(u,h,p,f){var m=!1;return pe.each(x(u),function(e,t){for(var n=t.match,i=h?1:0,o="",r=n.cardinality;i<r;r--)o+=(a=u-(r-1),void 0===L().validPositions[a]?O(a):L().validPositions[a].input);var a;if(h&&(o+=h),w(!0),!1!==(m=null!=n.fn?n.fn.test(o,L(),u,p,E,v(g)):(h===n.def||h===E.skipOptionalPartCharacter)&&""!==n.def&&{c:n.placeholder||n.def,pos:u})){var s=void 0!==m.c?m.c:h;s=s===E.skipOptionalPartCharacter&&null===n.fn?n.placeholder||n.def:s;var l=u,c=w();if(void 0!==m.remove&&(pe.isArray(m.remove)||(m.remove=[m.remove]),pe.each(m.remove.sort(function(e,t){return t-e}),function(e,t){y(t,t+1,!0)})),void 0!==m.insert&&(pe.isArray(m.insert)||(m.insert=[m.insert]),pe.each(m.insert.sort(function(e,t){return e-t}),function(e,t){P(t.pos,t.c,!1,f)})),m.refreshFromBuffer){var d=m.refreshFromBuffer;if(C((p=!0)===d?d:d.start,d.end,c),void 0===m.pos&&void 0===m.c)return m.pos=A(),!1;if((l=void 0!==m.pos?m.pos:u)!==u)return m=pe.extend(m,P(l,s,!0,f)),!1}else if(!0!==m&&void 0!==m.pos&&m.pos!==u&&(l=m.pos,C(u,l,w().slice()),l!==u))return m=pe.extend(m,P(l,s,!0)),!1;return!0!==m&&void 0===m.pos&&void 0===m.c||(0<e&&_(!0),b(l,pe.extend({},t,{input:function(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}(s,n)}),f,v(g))||(m=!1)),!1}}),m}function o(e,t){for(var i=L().validPositions[t].locator,o=i.length,n=e;n<t;n++)if(void 0===L().validPositions[n]&&!k(n,!0)){var r=x(n),a=r[0],s=-1;pe.each(r,function(e,t){for(var n=0;n<o&&void 0!==t.locator[n]&&f(t.locator[n].toString().split(","),i[n].toString().split(","));n++)s<n&&(s=n,a=t)}),b(n,pe.extend({},a,{input:a.match.placeholder||a.match.def}),!0)}}t=!0===t;var r,a=g;void 0!==g.begin&&(a=ne&&!v(g)?g.end:g.begin);for(var s=!1,l=pe.extend(!0,{},L().validPositions),c=a-1;-1<c&&!L().validPositions[c];c--);for(c++;c<a;c++)void 0===L().validPositions[c]&&(!1===E.jitMasking||E.jitMasking>c)&&((r=j(c)).match.def===E.radixPointDefinitionSymbol||!k(c,!0)||pe.inArray(E.radixPoint,w())<c&&r.match.fn&&r.match.fn.test(O(c),L(),c,!1,E))&&i(A(c,!0)+1,r.match.placeholder||(null==r.match.fn?r.match.def:""!==O(c)?O(c):w()[c]),!0,n);if(v(g)&&(N(void 0,fe.keyCode.DELETE,g),a=L().p),a<S()&&(s=i(a,e,t,n),(!t||!0===n)&&!1===s)){var d=L().validPositions[a];if(!d||null!==d.match.fn||d.match.def!==e&&e!==E.skipOptionalPartCharacter){if((E.insertMode||void 0===L().validPositions[T(a)])&&!k(a,!0)){var u=j(a).match;i(a,u=u.placeholder||u.def,t,n);for(var h=a+1,p=T(a);h<=p;h++)if(!1!==(s=i(h,e,t,n))){o(a,h),a=h;break}}}else s={caret:T(a)}}return!1===s&&E.keepStatic&&(s=function(e,t,n,i){for(var o,r,a,s,l,c,d=pe.extend(!0,{},L().validPositions),u=pe.extend(!0,{},L().tests),h=A();0<=h&&(!(s=L().validPositions[h])||void 0===s.alternation||(o=h,r=L().validPositions[o].alternation,j(o).locator[s.alternation]===s.locator[s.alternation]));h--);if(void 0!==r)for(var p in o=parseInt(o),L().validPositions)if(p=parseInt(p),s=L().validPositions[p],o<=p&&void 0!==s.alternation){var f;0===o?(f=[],pe.each(L().tests[o],function(e,t){void 0!==t.locator[r]&&(f=f.concat(t.locator[r].toString().split(",")))})):f=L().validPositions[o].locator[r].toString().split(",");var m=void 0!==s.locator[r]?s.locator[r]:f[0];0<m.length&&(m=m.split(",")[0]);for(var g=0;g<f.length;g++){var v=[],b=0,y=0;if(m<f[g]){for(var x,w,C=p;0<=C;C--)if(void 0!==(x=L().validPositions[C])){var k=M(C,f[g]);L().validPositions[C].match.def!==k.match.def&&(v.push(L().validPositions[C].input),L().validPositions[C]=k,L().validPositions[C].input=O(C),null===L().validPositions[C].match.fn&&y++,x=k),w=x.locator[r],x.locator[r]=parseInt(f[g]);break}if(m!==x.locator[r]){for(l=p+1;l<A(void 0,!0)+1;l++)(c=L().validPositions[l])&&null!=c.match.fn?v.push(c.input):l<e&&b++,delete L().validPositions[l],delete L().tests[l];for(_(!0),E.keepStatic=!E.keepStatic,a=!0;0<v.length;){var S=v.shift();if(S!==E.skipOptionalPartCharacter&&!(a=P(A(void 0,!0)+1,S,!1,i)))break}if(x.alternation=r,x.locator[r]=w,a){var T=A(e)+1;for(l=p+1;l<A()+1;l++)(void 0===(c=L().validPositions[l])||null==c.match.fn)&&l<e&&y++;a=P(T<(e+=y-b)?T:e,t,n,i)}if(E.keepStatic=!E.keepStatic,a)return a;_(),L().validPositions=pe.extend(!0,{},d),L().tests=pe.extend(!0,{},u)}}}break}return!1}(a,e,t,n)),!0===s&&(s={pos:a}),pe.isFunction(E.postValidation)&&!1!==s&&!t&&!0!==n&&(s=!!E.postValidation(w(!0),s,E)&&s),void 0===s.pos&&(s.pos=a),!1===s&&(_(!0),L().validPositions=pe.extend(!0,{},l)),s}function k(e,t){var n;return t?""===(n=j(e).match).def&&(n=u(e)):n=u(e),null!=n.fn?n.fn:!0!==t&&-1<e&&!E.keepStatic&&void 0===L().validPositions[e]&&2<x(e).length}function S(){var e;-1===(ee=void 0!==J?J.maxLength:void 0)&&(ee=void 0);var t,n=A(),i=L().validPositions[n],o=void 0!==i?i.locator.slice():void 0;for(t=n+1;void 0===i||null!==i.match.fn||null===i.match.fn&&""!==i.match.def;t++)o=(i=j(t,o,t-1)).locator.slice();return e=""!==u(t-1).def?t:t-1,void 0===ee||e<ee?e:ee}function T(e,t){var n=S();if(n<=e)return n;for(var i=e;++i<n&&(!0===t&&(!0!==u(i).newBlockMarker||!k(i))||!0!==t&&!k(i)&&(!0!==E.nojumps||E.nojumpsThreshold>i)););return i}function g(e,t){var n=e;if(n<=0)return 0;for(;0<--n&&(!0===t&&!0!==u(n).newBlockMarker||!0!==t&&!k(n)););return n}function v(e,t,n,i,o){if(i&&pe.isFunction(E.onBeforeWrite)){var r=E.onBeforeWrite(i,t,n,E);if(r){if(r.refreshFromBuffer){var a=r.refreshFromBuffer;C(!0===a?a:a.start,a.end,r.buffer||t),t=w(!0)}void 0!==n&&(n=void 0!==r.caret?r.caret:n)}}e.inputmask._valueSet(t.join("")),void 0===n||void 0!==i&&"blur"===i.type||D(e,n),!0===o&&(oe=!0,pe(e).trigger("input"))}function O(e,t){if(void 0!==(t=t||u(e)).placeholder)return t.placeholder;if(null!==t.fn)return E.placeholder.charAt(e%E.placeholder.length);if(-1<e&&!E.keepStatic&&void 0===L().validPositions[e]){var n,i=x(e),o=[];if(2<i.length)for(var r=0;r<i.length;r++)if(!0!==i[r].match.optionality&&!0!==i[r].match.optionalQuantifier&&(null===i[r].match.fn||void 0===n||!1!==i[r].match.fn.test(n.match.def,L(),e,!0,E))&&(o.push(i[r]),null===i[r].match.fn&&(n=i[r]),1<o.length))return E.placeholder.charAt(e%E.placeholder.length)}return t.def}function h(l,e,c,t){var d,n=t.slice(),u="",h=0;if(_(),L().p=T(-1),!c)if(!0!==E.autoUnmask){var i=p().slice(0,T(-1)).join(""),o=n.join("").match(new RegExp("^"+fe.escapeRegex(i),"g"));o&&0<o.length&&(n.splice(0,o.length*i.length),h=T(h))}else h=T(h);pe.each(n,function(e,t){if(void 0!==t){var n=new pe.Event("keypress");n.which=t.charCodeAt(0),u+=t;var i=A(void 0,!0),o=L().validPositions[i],r=j(i+1,o?o.locator.slice():void 0,i);if(!function(){var e=!1,t=p().slice(h,T(h)).join("").indexOf(u);if(-1!==t&&!k(h)){e=!0;for(var n=p().slice(h,h+t),i=0;i<n.length;i++)if(" "!==n[i]){e=!1;break}}return e}()||c||E.autoUnmask){var a=c?e:null==r.match.fn&&r.match.optionality&&i+1<L().p?i+1:L().p;d=R.call(l,n,!0,!1,c,a),h=a+1,u=""}else d=R.call(l,n,!0,!1,!0,i+1);if(!c&&pe.isFunction(E.onBeforeWrite)&&((d=E.onBeforeWrite(n,w(),d.forwardPosition,E))&&d.refreshFromBuffer)){var s=d.refreshFromBuffer;C(!0===s?s:s.start,s.end,d.buffer),_(!0),d.caret&&(L().p=d.caret)}}}),e&&v(l,w(),document.activeElement===l?T(A(0)):void 0,new pe.Event("checkval"))}function o(e){if(e&&void 0===e.inputmask)return e.value;var t=[],n=L().validPositions;for(var i in n)n[i].match&&null!=n[i].match.fn&&t.push(n[i].input);var o=0===t.length?null:(ne?t.reverse():t).join("");if(null!==o){var r=(ne?w().slice().reverse():w()).join("");pe.isFunction(E.onUnMask)&&(o=E.onUnMask(r,o,E)||o)}return o}function D(e,t,n,i){function o(e){!0===i||!ne||"number"!=typeof e||E.greedy&&""===E.placeholder||(e=w().join("").length-e);return e}var r;if("number"!=typeof t)return e.setSelectionRange?(t=e.selectionStart,n=e.selectionEnd):window.getSelection?(r=window.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==e&&r.commonAncestorContainer!==e||(t=r.startOffset,n=r.endOffset):document.selection&&document.selection.createRange&&(n=(t=0-(r=document.selection.createRange()).duplicate().moveStart("character",-e.inputmask._valueGet().length))+r.text.length),{begin:o(t),end:o(n)};t=o(t),n="number"==typeof(n=o(n))?n:t;var a=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*n;if(e.scrollLeft=a>e.scrollWidth?a:0,ge||!1!==E.insertMode||t!==n||n++,e.setSelectionRange)e.selectionStart=t,e.selectionEnd=n;else if(window.getSelection){if(r=document.createRange(),void 0===e.firstChild||null===e.firstChild){var s=document.createTextNode("");e.appendChild(s)}r.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),r.setEnd(e.firstChild,n<e.inputmask._valueGet().length?n:e.inputmask._valueGet().length),r.collapse(!0);var l=window.getSelection();l.removeAllRanges(),l.addRange(r)}else e.createTextRange&&((r=e.createTextRange()).collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r.select())}function a(e){var t,n,i=w(),o=i.length,r=A(),a={},s=L().validPositions[r],l=void 0!==s?s.locator.slice():void 0;for(t=r+1;t<i.length;t++)l=(n=j(t,l,t-1)).locator.slice(),a[t]=pe.extend(!0,{},n);var c=s&&void 0!==s.alternation?s.locator[s.alternation]:void 0;for(t=o-1;r<t&&(((n=a[t]).match.optionality||n.match.optionalQuantifier||c&&(c!==a[t].locator[s.alternation]&&null!=n.match.fn||null===n.match.fn&&n.locator[s.alternation]&&f(n.locator[s.alternation].toString().split(","),c.toString().split(","))&&""!==x(t)[0].def))&&i[t]===O(t,n.match));t--)o--;return e?{l:o,def:a[o]?a[o].match:void 0}:o}function s(e){for(var t=a(),n=e.length-1;t<n&&!k(n);n--);return e.splice(t,n+1-t),e}function I(e){if(pe.isFunction(E.isComplete))return E.isComplete(e,E);if("*"!==E.repeat){var t=!1,n=a(!0),i=g(n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){t=!0;for(var o=0;o<=i;o++){var r=j(o).match;if(null!==r.fn&&void 0===L().validPositions[o]&&!0!==r.optionality&&!0!==r.optionalQuantifier||null===r.fn&&e[o]!==O(o,r)){t=!1;break}}}return t}}function r(e){function t(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==A()||!0!==E.nullable?document.activeElement===this&&E.clearMaskOnLostFocus?(ne?s(w().slice()).reverse():s(w().slice())).join(""):i.call(this):"":i.call(this)}function n(e){o.call(this,e),this.inputmask&&pe(this).trigger("setvalue")}var i,o,r;if(!e.inputmask.__valueGet){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var a=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"):void 0;a&&a.get&&a.set?(i=a.get,o=a.set,Object.defineProperty(e,"value",{get:t,set:n,configurable:!0})):"INPUT"!==e.tagName&&(i=function(){return this.textContent},o=function(e){this.textContent=e},Object.defineProperty(e,"value",{get:t,set:n,configurable:!0}))}else document.__lookupGetter__&&e.__lookupGetter__("value")&&(i=e.__lookupGetter__("value"),o=e.__lookupSetter__("value"),e.__defineGetter__("value",t),e.__defineSetter__("value",n));e.inputmask.__valueGet=i,e.inputmask._valueGet=function(e){return ne&&!0!==e?i.call(this.el).split("").reverse().join(""):i.call(this.el)},e.inputmask.__valueSet=o,e.inputmask._valueSet=function(e,t){o.call(this.el,null==e?"":!0!==t&&ne?e.split("").reverse().join(""):e)},void 0===i&&(i=function(){return this.value},o=function(e){this.value=e},function(e){if(pe.valHooks&&(void 0===pe.valHooks[e]||!0!==pe.valHooks[e].inputmaskpatch)){var n=pe.valHooks[e]&&pe.valHooks[e].get?pe.valHooks[e].get:function(e){return e.value},o=pe.valHooks[e]&&pe.valHooks[e].set?pe.valHooks[e].set:function(e,t){return e.value=t,e};pe.valHooks[e]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=n(e);return-1!==A(void 0,void 0,e.inputmask.maskset.validPositions)||!0!==E.nullable?t:""}return n(e)},set:function(e,t){var n,i=pe(e);return n=o(e,t),e.inputmask&&i.trigger("setvalue"),n},inputmaskpatch:!0}}}(e.type),r=e,se.on(r,"mouseenter",function(e){var t=pe(this);this.inputmask._valueGet()!==w().join("")&&t.trigger("setvalue")}))}}function N(r,e,t,n){if((E.numericInput||ne)&&(e===fe.keyCode.BACKSPACE?e=fe.keyCode.DELETE:e===fe.keyCode.DELETE&&(e=fe.keyCode.BACKSPACE),ne)){var i=t.end;t.end=t.begin,t.begin=i}e===fe.keyCode.BACKSPACE&&(t.end-t.begin<1||!1===E.insertMode)?(t.begin=g(t.begin),void 0===L().validPositions[t.begin]||L().validPositions[t.begin].input!==E.groupSeparator&&L().validPositions[t.begin].input!==E.radixPoint||t.begin--):e===fe.keyCode.DELETE&&t.begin===t.end&&(t.end=k(t.end)?t.end+1:T(t.end)+1,void 0===L().validPositions[t.begin]||L().validPositions[t.begin].input!==E.groupSeparator&&L().validPositions[t.begin].input!==E.radixPoint||t.end++),y(t.begin,t.end,!1,n),!0!==n&&function(){if(E.keepStatic){_(!0);var e,t=[],n=pe.extend(!0,{},L().validPositions);for(e=A();0<=e;e--){var i=L().validPositions[e];if(i&&(null!=i.match.fn&&t.push(i.input),delete L().validPositions[e],void 0!==i.alternation&&i.locator[i.alternation]===j(e).locator[i.alternation]))break}if(-1<e)for(;0<t.length;){L().p=T(A());var o=new pe.Event("keypress");o.which=t.pop().charCodeAt(0),R.call(r,o,!0,!1,!1,L().p)}else L().validPositions=pe.extend(!0,{},n)}}();var o=A(t.begin);o<t.begin?(-1===o&&_(),L().p=T(o)):!0!==n&&(L().p=t.begin)}function l(e){var t,n,i,o,r=e,a=this,s=pe(a),l=r.keyCode,c=D(a);if(l===fe.keyCode.BACKSPACE||l===fe.keyCode.DELETE||be&&l===fe.keyCode.BACKSPACE_SAFARI||r.ctrlKey&&l===fe.keyCode.X&&(t="cut",n=document.createElement("input"),(o=(i="on"+t)in n)||(n.setAttribute(i,"return;"),o="function"==typeof n[i]),n=null,!o))r.preventDefault(),N(a,l,c),v(a,w(),L().p,r,K!==w().join("")),a.inputmask._valueGet()===p().join("")?s.trigger("cleared"):!0===I(w())&&s.trigger("complete"),E.showTooltip&&(a.title=E.tooltip||L().mask);else if(l===fe.keyCode.END||l===fe.keyCode.PAGE_DOWN){r.preventDefault();var d=T(A());E.insertMode||d!==S()||r.shiftKey||d--,D(a,r.shiftKey?c.begin:d,d,!0)}else l===fe.keyCode.HOME&&!r.shiftKey||l===fe.keyCode.PAGE_UP?(r.preventDefault(),D(a,0,r.shiftKey?c.begin:0,!0)):(E.undoOnEscape&&l===fe.keyCode.ESCAPE||90===l&&r.ctrlKey)&&!0!==r.altKey?(h(a,!0,!1,K.split("")),s.trigger("click")):l!==fe.keyCode.INSERT||r.shiftKey||r.ctrlKey?!0===E.tabThrough&&l===fe.keyCode.TAB?(!0===r.shiftKey?(null===u(c.begin).fn&&(c.begin=T(c.begin)),c.end=g(c.begin,!0),c.begin=g(c.end,!0)):(c.begin=T(c.begin,!0),c.end=T(c.begin,!0),c.end<S()&&c.end--),c.begin<S()&&(r.preventDefault(),D(a,c.begin,c.end))):!1!==E.insertMode||r.shiftKey||(l===fe.keyCode.RIGHT?setTimeout(function(){var e=D(a);D(a,e.begin)},0):l===fe.keyCode.LEFT&&setTimeout(function(){var e=D(a);D(a,ne?e.begin+1:e.begin-1)},0)):(E.insertMode=!E.insertMode,D(a,E.insertMode||c.begin!==S()?c.begin:c.begin-1));E.onKeyDown.call(this,r,w(),D(a).begin,E),re=-1!==pe.inArray(l,E.ignorables)}function R(e,t,n,i,o){var r=e,a=pe(this),s=r.which||r.charCode||r.keyCode;if(!(!0===t||r.ctrlKey&&r.altKey)&&(r.ctrlKey||r.metaKey||re))return s===fe.keyCode.ENTER&&K!==w().join("")&&(K=w().join(""),setTimeout(function(){a.trigger("change")},0)),!0;if(s){46===s&&!1===r.shiftKey&&","===E.radixPoint&&(s=44);var l,c=t?{begin:o,end:o}:D(this),d=String.fromCharCode(s);L().writeOutBuffer=!0;var u=P(c,d,i);if(!1!==u){var h=u.pos;if(_(!0),void 0!==u.caret)l=u.caret;else{var p=L().validPositions;l=!E.keepStatic&&(void 0!==p[h+1]&&1<x(h+1,p[h].locator.slice(),h).length||void 0!==p[h].alternation)?h+1:T(h)}L().p=l}if(!1!==n){var f=this;if(setTimeout(function(){E.onKeyValidation.call(f,s,u,E)},0),L().writeOutBuffer&&!1!==u){var m=w();v(this,m,E.numericInput&&void 0===u.caret?g(l):l,r,!0!==t),!0!==t&&setTimeout(function(){!0===I(m)&&a.trigger("complete")},0)}}if(E.showTooltip&&(this.title=E.tooltip||L().mask),r.preventDefault(),t)return u.forwardPosition=l,u}}function c(e){var t,n=e,i=(e=n.originalEvent||n,pe(this)),o=this.inputmask._valueGet(!0),r=D(this);ne&&(t=r.end,r.end=r.begin,r.begin=t);var a=o.substr(0,r.begin),s=o.substr(r.end,o.length);a===(ne?p().reverse():p()).slice(0,r.begin).join("")&&(a=""),s===(ne?p().reverse():p()).slice(r.end).join("")&&(s=""),ne&&(t=a,a=s,s=t),window.clipboardData&&window.clipboardData.getData?o=a+window.clipboardData.getData("Text")+s:e.clipboardData&&e.clipboardData.getData&&(o=a+e.clipboardData.getData("text/plain")+s);var l=o;if(pe.isFunction(E.onBeforePaste)){if(!1===(l=E.onBeforePaste(o,E)))return n.preventDefault();l=l||o}return h(this,!1,!1,ne?l.split("").reverse():l.toString().split("")),v(this,w(),T(A()),n,!0),!0===I(w())&&i.trigger("complete"),n.preventDefault()}function d(e){var t=e,n=this.inputmask._valueGet();if(w().join("")!==n){var i=D(this);if(n=n.replace(new RegExp("("+fe.escapeRegex(p().join(""))+")*"),""),ve){var o=n.replace(w().join(""),"");if(1===o.length){var r=new pe.Event("keypress");return r.which=o.charCodeAt(0),R.call(this,r,!0,!0,!1,L().validPositions[i.begin-1]?i.begin:i.begin-1),!1}}if(i.begin>n.length&&(D(this,n.length),i=D(this)),w().length-n.length!=1||n.charAt(i.begin)===w()[i.begin]||n.charAt(i.begin+1)===w()[i.begin]||k(i.begin)){for(var a=A()+1,s=w().slice(a).join("");null===n.match(fe.escapeRegex(s)+"$");)s=s.slice(1);h(this,!0,!1,n=(n=n.replace(s,"")).split("")),!0===I(w())&&pe(this).trigger("complete")}else t.keyCode=fe.keyCode.BACKSPACE,l.call(this,t);t.preventDefault()}}function F(e){var t=this.inputmask._valueGet();h(this,!0,!1,(pe.isFunction(E.onBeforeMask)&&E.onBeforeMask(t,E)||t).split("")),K=w().join(""),(E.clearMaskOnLostFocus||E.clearIncomplete)&&this.inputmask._valueGet()===p().join("")&&this.inputmask._valueSet("")}function q(e){var t=this,n=t.inputmask._valueGet();E.showMaskOnFocus&&(!E.showMaskOnHover||E.showMaskOnHover&&""===n)?t.inputmask._valueGet()!==w().join("")&&v(t,w(),T(A())):!1===ae&&D(t,T(A())),!0===E.positionCaretOnTab&&setTimeout(function(){D(t,T(A()))},0),K=w().join("")}function z(e){if(ae=!1,E.clearMaskOnLostFocus&&document.activeElement!==this){var t=w().slice(),n=this.inputmask._valueGet();n!==this.getAttribute("placeholder")&&""!==n&&(-1===A()&&n===p().join("")?t=[]:s(t),v(this,t))}}function H(e){var o=this;setTimeout(function(){if(document.activeElement===o){var e=D(o);if(e.begin===e.end)if(function(e){if(E.radixFocus&&""!==E.radixPoint){var t=L().validPositions;if(void 0===t[e]||t[e].input===O(e)){if(e<T(-1))return 1;var n=pe.inArray(E.radixPoint,w());if(-1!==n){for(var i in t)if(n<i&&t[i].input!==O(i))return;return 1}}}}(e.begin))D(o,E.numericInput?T(pe.inArray(E.radixPoint,w())):pe.inArray(E.radixPoint,w()));else{var t=e.begin,n=T(A(t,!0));if(t<n)D(o,k(t)||k(t-1)?t:T(t));else{var i=O(n);(""!==i&&w()[n]!==i||!k(n,!0)&&u(n).def===i)&&(n=T(n)),D(o,n)}}}},0)}function B(e){var t=this;setTimeout(function(){D(t,0,T(A()))},0)}function $(e){var t=e,n=pe(this),i=D(this),o=(e=t.originalEvent||t,window.clipboardData||e.clipboardData),r=ne?w().slice(i.end,i.begin):w().slice(i.begin,i.end);o.setData("text",ne?r.reverse().join(""):r.join("")),document.execCommand&&document.execCommand("copy"),N(this,fe.keyCode.DELETE,i),v(this,w(),L().p,t,K!==w().join("")),this.inputmask._valueGet()===p().join("")&&n.trigger("cleared"),E.showTooltip&&(this.title=E.tooltip||L().mask)}function V(e){var t=e,n=pe(this);if(this.inputmask){var i=this.inputmask._valueGet(),o=w().slice();K!==o.join("")&&setTimeout(function(){n.trigger("change"),K=o.join("")},0),""!==i&&(E.clearMaskOnLostFocus&&(-1===A()&&i===p().join("")?o=[]:s(o)),!1===I(o)&&(setTimeout(function(){n.trigger("incomplete")},0),E.clearIncomplete&&(_(),o=E.clearMaskOnLostFocus?[]:p().slice())),v(this,o,void 0,t))}}function U(e){ae=!0,document.activeElement!==this&&E.showMaskOnHover&&this.inputmask._valueGet()!==w().join("")&&v(this,w())}function W(e){K!==w().join("")&&Z.trigger("change"),E.clearMaskOnLostFocus&&-1===A()&&J.inputmask._valueGet&&J.inputmask._valueGet()===p().join("")&&J.inputmask._valueSet(""),E.removeMaskOnSubmit&&(J.inputmask._valueSet(J.inputmask.unmaskedvalue(),!0),setTimeout(function(){v(J,w())},0))}function X(e){setTimeout(function(){Z.trigger("setvalue")},0)}function Y(e){E.lock_input=!0}function Q(e){E.lock_input=!1;E.lock_input||d.apply(this,arguments)}function G(e){E.lock_input||d.apply(this,arguments)}var K,J,Z,ee,te,ne=!1,ie=!1,oe=!1,re=!1,ae=!0,se={on:function(t,n,r){function i(t){if(e=t,void 0===this.inputmask&&"FORM"!==this.nodeName){var n=pe.data(this,"_inputmask_opts");n?new fe(n).mask(this):se.off(this)}else{if("setvalue"===e.type||!(this.disabled||this.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===E.tabThrough&&e.keyCode===fe.keyCode.TAB))){switch(e.type){case"input":if(!0===oe)return oe=!1,e.preventDefault();break;case"keydown":oe=ie=!1;break;case"keypress":if(!0===ie)return e.preventDefault();ie=!0;break;case"click":var i=this;return setTimeout(function(){r.apply(i,arguments)},0),!1}var o=r.apply(this,arguments);return!1===o&&(e.preventDefault(),e.stopPropagation()),o}e.preventDefault()}}t.inputmask.events[n]=t.inputmask.events[n]||[],t.inputmask.events[n].push(i),-1!==pe.inArray(n,["submit","reset"])?null!=t.form&&pe(t.form).on(n,i):pe(t).on(n,i)},off:function(i,e){var t;i.inputmask&&i.inputmask.events&&(e?(t=[])[e]=i.inputmask.events[e]:t=i.inputmask.events,pe.each(t,function(e,t){for(;0<t.length;){var n=t.pop();-1!==pe.inArray(e,["submit","reset"])?null!=i.form&&pe(i.form).off(e,n):pe(i).off(e,n)}delete i.inputmask.events[e]}))}};if(void 0!==t)switch(t.action){case"isComplete":return J=t.el,I(w());case"unmaskedvalue":return void 0!==(J=t.el)&&void 0!==J.inputmask?(n=J.inputmask.maskset,E=J.inputmask.opts,ne=J.inputmask.isRTL):(te=t.value,E.numericInput&&(ne=!0),te=(pe.isFunction(E.onBeforeMask)&&E.onBeforeMask(te,E)||te).split(""),h(void 0,!1,!1,ne?te.reverse():te),pe.isFunction(E.onBeforeWrite)&&E.onBeforeWrite(void 0,w(),0,E)),o(J);case"mask":J=t.el,n=J.inputmask.maskset,E=J.inputmask.opts,ne=J.inputmask.isRTL,K=w().join(""),function(e){if(Z=pe(J=e),E.showTooltip&&(J.title=E.tooltip||L().mask),"rtl"!==J.dir&&!E.rightAlign||(J.style.textAlign="right"),"rtl"!==J.dir&&!E.numericInput||(J.dir="ltr",J.removeAttribute("dir"),J.inputmask.isRTL=!0,ne=!0),se.off(J),r(J),function(e,t){var n=e.getAttribute("type"),i="INPUT"===e.tagName&&-1!==pe.inArray(n,t.supportsInputType)||e.isContentEditable||"TEXTAREA"===e.tagName;if(!i&&"INPUT"===e.tagName){var o=document.createElement("input");o.setAttribute("type",n),i="text"===o.type,o=null}return i}(J,E)&&(se.on(J,"submit",W),se.on(J,"reset",X),se.on(J,"mouseenter",U),se.on(J,"blur",V),se.on(J,"focus",q),se.on(J,"mouseleave",z),se.on(J,"click",H),se.on(J,"dblclick",B),se.on(J,"paste",c),se.on(J,"dragdrop",c),se.on(J,"drop",c),se.on(J,"cut",$),se.on(J,"complete",E.oncomplete),se.on(J,"incomplete",E.onincomplete),se.on(J,"cleared",E.oncleared),se.on(J,"compositionstart",Y),se.on(J,"compositionend",Q),se.on(J,"keydown",l),se.on(J,"keypress",R),se.on(J,"input",G),se.on(J,"setvalue",F)),""!==J.inputmask._valueGet()||!1===E.clearMaskOnLostFocus||document.activeElement===J){var t=pe.isFunction(E.onBeforeMask)&&E.onBeforeMask(J.inputmask._valueGet(),E)||J.inputmask._valueGet();h(J,!0,!1,t.split(""));var n=w().slice();K=n.join(""),!1===I(n)&&E.clearIncomplete&&_(),E.clearMaskOnLostFocus&&document.activeElement!==J&&(-1===A()?n=[]:s(n)),v(J,n),document.activeElement===J&&D(J,T(A()))}}(J);break;case"format":return E.numericInput&&(ne=!0),te=(pe.isFunction(E.onBeforeMask)&&E.onBeforeMask(t.value,E)||t.value).split(""),h(void 0,!1,!1,ne?te.reverse():te),pe.isFunction(E.onBeforeWrite)&&E.onBeforeWrite(void 0,w(),0,E),t.metadata?{value:ne?w().slice().reverse().join(""):w().join(""),metadata:me({action:"getmetadata"},n,E)}:ne?w().slice().reverse().join(""):w().join("");case"isValid":E.numericInput&&(ne=!0),t.value?(te=t.value.split(""),h(void 0,!1,!0,ne?te.reverse():te)):t.value=w().join("");for(var le=w(),ce=a(),de=le.length-1;ce<de&&!k(de);de--);return le.splice(ce,de+1-ce),I(le)&&t.value===w().join("");case"getemptymask":return p().join("");case"remove":J=t.el,Z=pe(J),n=J.inputmask.maskset,E=J.inputmask.opts,J.inputmask._valueSet(o(J)),se.off(J),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(J),"value")&&J.inputmask.__valueGet&&Object.defineProperty(J,"value",{get:J.inputmask.__valueGet,set:J.inputmask.__valueSet,configurable:!0}):document.__lookupGetter__&&J.__lookupGetter__("value")&&J.inputmask.__valueGet&&(J.__defineGetter__("value",J.inputmask.__valueGet),J.__defineSetter__("value",J.inputmask.__valueSet)),J.inputmask=void 0;break;case"getmetadata":if(pe.isArray(n.metadata)){for(var ue,he=A(void 0,!0);0<=he;he--)if(L().validPositions[he]&&void 0!==L().validPositions[he].alternation){ue=L().validPositions[he].alternation;break}return void 0!==ue?n.metadata[L().validPositions[he].locator[ue]]:[]}return n.metadata}}fe.prototype={defaults:{lock_input:!1,placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:pe.noop,onincomplete:pe.noop,oncleared:pe.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:pe.noop,onBeforeMask:null,onBeforePaste:function(e,t){return pe.isFunction(t.onBeforeMask)?t.onBeforeMask(e,t):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:pe.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z-_一-龥]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:pe.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0},masksCache:{},mask:function(e){var o=this;return"string"==typeof e&&(e=document.getElementById(e)||document.querySelectorAll(e)),e=e.nodeName?[e]:e,pe.each(e,function(e,t){var n=pe.extend(!0,{},o.opts);!function(n,e,i){function t(e,t){null!==(t=void 0!==t?t:n.getAttribute("data-inputmask-"+e))&&("string"==typeof t&&(0===e.indexOf("on")?t=window[t]:"false"===t?t=!1:"true"===t&&(t=!0)),i[e]=t)}var o,r,a,s,l=n.getAttribute("data-inputmask");if(l&&""!==l&&(l=l.replace(new RegExp("'","g"),'"'),r=JSON.parse("{"+l+"}")),r)for(s in a=void 0,r)if("alias"===s.toLowerCase()){a=r[s];break}for(o in t("alias",a),i.alias&&c(i.alias,i,e),e){if(r)for(s in a=void 0,r)if(s.toLowerCase()===o.toLowerCase()){a=r[s];break}t(o,a)}pe.extend(!0,e,i)}(t,n,pe.extend(!0,{},o.userOptions));var i=r(n,o.noMasksCache);void 0!==i&&(void 0!==t.inputmask&&t.inputmask.remove(),t.inputmask=new fe,t.inputmask.opts=n,t.inputmask.noMasksCache=o.noMasksCache,t.inputmask.userOptions=pe.extend(!0,{},o.userOptions),(t.inputmask.el=t).inputmask.maskset=i,t.inputmask.isRTL=!1,pe.data(t,"_inputmask_opts",n),me({action:"mask",el:t}))}),e&&e[0]&&e[0].inputmask||this},option:function(e,t){return"string"==typeof e?this.opts[e]:"object"==typeof e?(pe.extend(this.userOptions,e),this.el&&!0!==t&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return me({action:"unmaskedvalue",el:this.el,value:e},this.el&&this.el.inputmask?this.el.inputmask.maskset:r(this.opts,this.noMasksCache),this.opts)},remove:function(){return this.el?(me({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return me({action:"getemptymask"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return me({action:"isComplete",el:this.el},this.maskset||r(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return me({action:"getmetadata"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},isValid:function(e){return me({action:"isValid",value:e},this.maskset||r(this.opts,this.noMasksCache),this.opts)},format:function(e,t){return me({action:"format",value:e,metadata:t},this.maskset||r(this.opts,this.noMasksCache),this.opts)}},fe.extendDefaults=function(e){pe.extend(!0,fe.prototype.defaults,e)},fe.extendDefinitions=function(e){pe.extend(!0,fe.prototype.defaults.definitions,e)},fe.extendAliases=function(e){pe.extend(!0,fe.prototype.defaults.aliases,e)},fe.format=function(e,t,n){return fe(t).format(e,n)},fe.unmask=function(e,t){return fe(t).unmaskedvalue(e)},fe.isValid=function(e,t){return fe(t).isValid(e)},fe.remove=function(e){pe.each(e,function(e,t){t.inputmask&&t.inputmask.remove()})},fe.escapeRegex=function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},fe.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88};var t=navigator.userAgent,ge=/mobile/i.test(t),ve=/iemobile/i.test(t),be=/iphone/i.test(t)&&!ve;/android.*safari.*/i.test(t),window.Inputmask=fe}(jQuery),function(o,r){void 0===o.fn.inputmask&&(o.fn.inputmask=function(e,t){var n,i=this[0];if(void 0===t&&(t={}),"string"==typeof e)switch(e){case"unmaskedvalue":return i&&i.inputmask?i.inputmask.unmaskedvalue():o(i).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return i&&i.inputmask?i.inputmask.getemptymask():"";case"hasMaskedValue":return!(!i||!i.inputmask)&&i.inputmask.hasMaskedValue();case"isComplete":return!i||!i.inputmask||i.inputmask.isComplete();case"getmetadata":return i&&i.inputmask?i.inputmask.getmetadata():void 0;case"setvalue":o(i).val(t),i&&void 0!==i.inputmask&&o(i).triggerHandler("setvalue");break;case"option":if("string"!=typeof t)return this.each(function(){return void 0!==this.inputmask?this.inputmask.option(t):void 0});if(i&&void 0!==i.inputmask)return i.inputmask.option(t);break;default:return t.alias=e,n=new r(t),this.each(function(){n.mask(this)})}else{if("object"==typeof e)return n=new r(e),void 0===e.mask&&void 0===e.alias?this.each(function(){return void 0!==this.inputmask?this.inputmask.option(e):void n.mask(this)}):this.each(function(){n.mask(this)});if(void 0===e)return this.each(function(){(n=new r(t)).mask(this)})}}),o.fn.inputmask}(jQuery,Inputmask),function(a,s){s.extendDefinitions({h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),s.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(e){var t=s.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+t+"[01])")},val2:function(e){var t=s.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9])"+t+"(0[1-9]|1[012]))|(30"+t+"(0[13-9]|1[012]))|(31"+t+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,n){if(isNaN(e))return!1;var i=parseInt(e.concat(t.toString().slice(e.length))),o=parseInt(e.concat(n.toString().slice(e.length)));return!isNaN(i)&&(t<=i&&i<=n)||!isNaN(o)&&(t<=o&&o<=n)},determinebaseyear:function(e,t,n){var i=(new Date).getFullYear();if(i<e)return e;if(t<i){for(var o=t.toString().slice(0,2),r=t.toString().slice(2,4);t<o+n;)o--;var a=o+r;return a<e?e:a}if(e<=i&&i<=t){for(var s=i.toString().slice(0,2);t<s+n;)s--;var l=s+n;return l<e?e:l}return i},onKeyDown:function(e,t,n,i){var o=a(this);if(e.ctrlKey&&e.keyCode===s.keyCode.RIGHT){var r=new Date;o.val(r.getDate().toString()+(r.getMonth()+1).toString()+r.getFullYear().toString()),o.trigger("setvalue")}},getFrontValue:function(e,t,n){for(var i=0,o=0,r=0;r<e.length&&"2"!==e.charAt(r);r++){var a=n.definitions[e.charAt(r)];a?(i+=o,o=a.cardinality):o++}return t.join("").substr(i,o)},definitions:{1:{validator:function(e,t,n,i,o){var r=o.regex.val1.test(e);return i||r||e.charAt(1)!==o.separator&&-1==="-./".indexOf(e.charAt(1))||!(r=o.regex.val1.test("0"+e.charAt(0)))?r:(t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var r=e;isNaN(t.buffer[n+1])||(r+=t.buffer[n+1]);var a=1===r.length?o.regex.val1pre.test(r):o.regex.val1.test(r);if(!i&&!a){if(a=o.regex.val1.test(e+"0"))return t.buffer[n]=e,t.buffer[++n]="0",{pos:n,c:"0"};if(a=o.regex.val1.test("0"+e))return t.buffer[n]="0",{pos:++n}}return a},cardinality:1}]},2:{validator:function(e,t,n,i,o){var r=o.getFrontValue(t.mask,t.buffer,o);-1!==r.indexOf(o.placeholder[0])&&(r="01"+o.separator);var a=o.regex.val2(o.separator).test(r+e);if(!i&&!a&&(e.charAt(1)===o.separator||-1!=="-./".indexOf(e.charAt(1)))&&(a=o.regex.val2(o.separator).test(r+"0"+e.charAt(0))))return t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},pos:n,c:e.charAt(0)};if(o.mask.indexOf("2")===o.mask.length-1&&a){if(t.buffer.join("").substr(4,4)+e!==o.leapday)return!0;var s=parseInt(t.buffer.join("").substr(0,4),10);return s%4==0&&(s%100!=0||s%400==0)}return a},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){isNaN(t.buffer[n+1])||(e+=t.buffer[n+1]);var r=o.getFrontValue(t.mask,t.buffer,o);-1!==r.indexOf(o.placeholder[0])&&(r="01"+o.separator);var a=1===e.length?o.regex.val2pre(o.separator).test(r+e):o.regex.val2(o.separator).test(r+e);return i||a||!(a=o.regex.val2(o.separator).test(r+"0"+e))?a:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},y:{validator:function(e,t,n,i,o){if(o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear)){if(t.buffer.join("").substr(0,6)!==o.leapday)return!0;var r=parseInt(e,10);return r%4==0&&(r%100!=0||r%400==0)}return!1},cardinality:4,prevalidator:[{validator:function(e,t,n,i,o){var r=o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear);if(!i&&!r){var a=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e+"0").toString().slice(0,1);if(r=o.isInYearRange(a+e,o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[n++]=a.charAt(0),{pos:n};if(a=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e+"0").toString().slice(0,2),r=o.isInYearRange(a+e,o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[n++]=a.charAt(0),t.buffer[n++]=a.charAt(1),{pos:n}}return r},cardinality:1},{validator:function(e,t,n,i,o){var r=o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear);if(!i&&!r){var a=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e).toString().slice(0,2);if(r=o.isInYearRange(e[0]+a[1]+e[1],o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[n++]=a.charAt(1),{pos:n};if(a=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e).toString().slice(0,2),o.isInYearRange(a+e,o.yearrange.minyear,o.yearrange.maxyear))if(t.buffer.join("").substr(0,6)!==o.leapday)r=!0;else{var s=parseInt(e,10);r=s%4==0&&(s%100!=0||s%400==0)}else r=!1;if(r)return t.buffer[n-1]=a.charAt(0),t.buffer[n++]=a.charAt(1),t.buffer[n++]=e.charAt(0),{refreshFromBuffer:{start:n-3,end:n},pos:n}}return r},cardinality:2},{validator:function(e,t,n,i,o){return o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(e){var t=s.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+t+"[0-3])|(02"+t+"[0-2])")},val2:function(e){var t=s.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+t+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+t+"30)|((0[13578]|1[02])"+t+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(e,t,n,i){var o=a(this);if(e.ctrlKey&&e.keyCode===s.keyCode.RIGHT){var r=new Date;o.val((r.getMonth()+1).toString()+r.getDate().toString()+r.getFullYear().toString()),o.trigger("setvalue")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(e,t,n,i){var o=a(this);if(e.ctrlKey&&e.keyCode===s.keyCode.RIGHT){var r=new Date;o.val(r.getFullYear().toString()+(r.getMonth()+1).toString()+r.getDate().toString()),o.trigger("setvalue")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"mm/dd/yyyy hh:mm",alias:"mm/dd/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,n,i,o){if("24"===o.hourFormat&&24===parseInt(e,10))return t.buffer[n-1]="0",{refreshFromBuffer:{start:n-1,end:n},c:t.buffer[n]="0"};var r=o.regex.hrs.test(e);if(!i&&!r&&(e.charAt(1)===o.timeseparator||-1!=="-.:".indexOf(e.charAt(1)))&&(r=o.regex.hrs.test("0"+e.charAt(0))))return t.buffer[n-1]="0",t.buffer[n]=e.charAt(0),{refreshFromBuffer:{start:++n-2,end:n},pos:n,c:o.timeseparator};if(r&&"24"!==o.hourFormat&&o.regex.hrs24.test(e)){var a=parseInt(e,10);return t.buffer[n+5]=24===a?"a":"p",t.buffer[n+6]="m",(a-=12)<10?(t.buffer[n]=a.toString(),t.buffer[n-1]="0"):(t.buffer[n]=a.toString().charAt(1),t.buffer[n-1]=a.toString().charAt(0)),{refreshFromBuffer:{start:n-1,end:n+6},c:t.buffer[n]}}return r},cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var r=o.regex.hrspre.test(e);return i||r||!(r=o.regex.hrs.test("0"+e))?r:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,n,i,o){var r=o.regex.mspre.test(e);return i||r||!(r=o.regex.ms.test("0"+e))?r:(t.buffer[n]="0",{pos:++n})},cardinality:1}]},t:{validator:function(e,t,n,i,o){return o.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datebox:{mask:"y-1-2 h:s",placeholder:"yyyy-mm-dd hh:mm",leapday:"-02-29",separator:"-",alias:"datetime"},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(e){var t=s.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+t+"[0-3])|(02"+t+"[0-2])")},val2:function(e){var t=s.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+t+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+t+"30)|((0[13578]|1[02])"+t+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(e,t,n,i){var o=a(this);if(e.ctrlKey&&e.keyCode===s.keyCode.RIGHT){var r=new Date;o.val((r.getMonth()+1).toString()+r.getDate().toString()+r.getFullYear().toString()),o.trigger("setvalue")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(e){var t=s.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+t+"[0-3])")},val2:function(e){var t=s.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+t+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+t+"30)|((0[1-6])"+t+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}})}(jQuery,Inputmask),function(e){e.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),e.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,n,i,o){return e=-1<n-1&&"."!==t.buffer[n-1]?(e=t.buffer[n-1]+e,-1<n-2&&"."!==t.buffer[n-2]?t.buffer[n-2]+e:"0"+e):"00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}},onUnMask:function(e,t,n){return e}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(e,t){return(e=e.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(e,t,n){return e}},mac:{mask:"##:##:##:##:##:##"},range:{mask:"*{1,30}~*{1,30}",greedy:!1,definitions:{"*":{validator:"[0-9-]",cardinality:1,casing:"lower"}}},alphaDash:{mask:"*{1,64}",greedy:!1,definitions:{"*":{validator:"[a-z_A-Z0-9]",cardinality:1,casing:"lower"}}},resolution:{mask:"9{1,8}×9{1,8}"},phone:{mask:"+86-9{11}"},timecode:{mask:"##:##:##:##"},timecode_range:{mask:"##:##:##:##-##:##:##:##"},cropping:{mask:"*{1,6}[.*{1,6}]:*{1,6}[.*{1,6}]",greedy:!1,definitions:{"*":{validator:"[0-9]",cardinality:1,casing:"lower"}}},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}})}((jQuery,Inputmask)),function(m,g){g.extendAliases({numeric:{mask:function(i){function e(e){for(var t="",n=0;n<e.length;n++)t+=i.definitions[e.charAt(n)]||i.optionalmarker.start===e.charAt(n)||i.optionalmarker.end===e.charAt(n)||i.quantifiermarker.start===e.charAt(n)||i.quantifiermarker.end===e.charAt(n)||i.groupmarker.start===e.charAt(n)||i.groupmarker.end===e.charAt(n)||i.alternatormarker===e.charAt(n)?"\\"+e.charAt(n):e.charAt(n);return t}if(0!==i.repeat&&isNaN(i.integerDigits)&&(i.integerDigits=i.repeat),i.repeat=0,i.groupSeparator===i.radixPoint&&("."===i.radixPoint?i.groupSeparator=",":","===i.radixPoint?i.groupSeparator=".":i.groupSeparator="")," "===i.groupSeparator&&(i.skipOptionalPartCharacter=void 0),i.autoGroup=i.autoGroup&&""!==i.groupSeparator,i.autoGroup&&("string"==typeof i.groupSize&&isFinite(i.groupSize)&&(i.groupSize=parseInt(i.groupSize)),isFinite(i.integerDigits))){var t=Math.floor(i.integerDigits/i.groupSize),n=i.integerDigits%i.groupSize;i.integerDigits=parseInt(i.integerDigits)+(0==n?t-1:t),i.integerDigits<1&&(i.integerDigits="*")}1<i.placeholder.length&&(i.placeholder=i.placeholder.charAt(0)),i.radixFocus=i.radixFocus&&""!==i.placeholder&&!0===i.integerOptional,i.definitions[";"]=i.definitions["~"],i.definitions[";"].definitionSymbol="~",!0===i.numericInput&&(i.radixFocus=!1,i.digitsOptional=!1,isNaN(i.digits)&&(i.digits=2),i.decimalProtect=!1);var o=e(i.prefix);return o+="[+]",o+=!0===i.integerOptional?"~{1,"+i.integerDigits+"}":"~{"+i.integerDigits+"}",void 0!==i.digits&&(isNaN(i.digits)||0<parseInt(i.digits))&&(i.decimalProtect&&(i.radixPointDefinitionSymbol=":"),o+=i.digitsOptional?"["+(i.decimalProtect?":":i.radixPoint)+";{1,"+i.digits+"}]":(i.decimalProtect?":":i.radixPoint)+";{"+i.digits+"}"),o+="[-]",o+=e(i.suffix),i.greedy=!1,null!==i.min&&(i.min=i.min.toString().replace(new RegExp(g.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(i.min=i.min.replace(i.radixPoint,"."))),null!==i.max&&(i.max=i.max.toString().replace(new RegExp(g.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(i.max=i.max.replace(i.radixPoint,"."))),o},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",radixFocus:!0,groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(e,t,n){!0===n.numericInput&&(e=e.reverse(),isFinite(t)&&(t=e.join("").length-t-1));var i,o,r=!1;e.length>=n.suffix.length&&e.join("").indexOf(n.suffix)===e.length-n.suffix.length&&(e.length=e.length-n.suffix.length,r=!0);var a=!1,s=e[t=t>=e.length?e.length-1:t<n.prefix.length?n.prefix.length:t],l=e.slice();s===n.groupSeparator&&(l.splice(t--,1),s=l[t]),s!==n.radixPoint&&s!==n.negationSymbol.front&&s!==n.negationSymbol.back&&(l[t]="?");var c=l.join(""),d=c;if(0<c.length&&n.autoGroup||-1!==c.indexOf(n.groupSeparator)){var u=g.escapeRegex(n.groupSeparator);a=0===c.indexOf(n.groupSeparator);var h=(c=c.replace(new RegExp(u,"g"),"")).split(n.radixPoint);if((c=""===n.radixPoint?c:h[0])!==n.prefix+"?0"&&c.length>=n.groupSize+n.prefix.length)for(var p=new RegExp("([-+]?[\\d?]+)([\\d?]{"+n.groupSize+"})");p.test(c)&&""!==n.groupSeparator;)c=(c=c.replace(p,"$1"+n.groupSeparator+"$2")).replace(n.groupSeparator+n.groupSeparator,n.groupSeparator);""!==n.radixPoint&&1<h.length&&(c+=n.radixPoint+h[1])}for(a=d!==c,e.length=c.length,i=0,o=c.length;i<o;i++)e[i]=c.charAt(i);var f=m.inArray("?",e);if(-1===f&&(f=m.inArray(s,e)),e[f]=s,!a&&r)for(i=0,o=n.suffix.length;i<o;i++)e.push(n.suffix.charAt(i));return f=n.numericInput&&isFinite(t)?e.join("").length-f-1:f,n.numericInput&&(e=e.reverse(),m.inArray(n.radixPoint,e)<f&&e.join("").length-n.suffix.length!==f&&--f),{pos:f,refreshFromBuffer:a,buffer:e}},onBeforeWrite:function(e,t,n,i){var o;if(e&&("blur"===e.type||"checkval"===e.type||"keydown"===e.type)){var r=i.numericInput?t.slice().reverse().join(""):t.join(""),a=r.replace(i.prefix,"");a=(a=a.replace(i.suffix,"")).replace(new RegExp(g.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(a=a.replace(i.radixPoint,"."));var s=a.match(new RegExp("[-"+g.escapeRegex(i.negationSymbol.front)+"]","g"));if(s=null!==s&&1===s.length,a=(a=a.replace(new RegExp("[-"+g.escapeRegex(i.negationSymbol.front)+"]","g"),"")).replace(new RegExp(g.escapeRegex(i.negationSymbol.back)+"$"),""),isNaN(i.placeholder)&&(a=a.replace(new RegExp(g.escapeRegex(i.placeholder),"g"),"")),""!==(a=a===i.negationSymbol.front?a+"0":a)&&isFinite(a)){var l=parseFloat(a),c=s?-1*l:l;if(null!==i.min&&isFinite(i.min)&&c<parseFloat(i.min)?(l=Math.abs(i.min),s=i.min<0,r=void 0):null!==i.max&&isFinite(i.max)&&c>parseFloat(i.max)&&(l=Math.abs(i.max),s=i.max<0,r=void 0),a=l.toString().replace(".",i.radixPoint).split(""),isFinite(i.digits)){var d=m.inArray(i.radixPoint,a),u=m.inArray(i.radixPoint,r);-1===d&&(a.push(i.radixPoint),d=a.length-1);for(var h=1;h<=i.digits;h++)i.digitsOptional||void 0!==a[d+h]&&a[d+h]!==i.placeholder.charAt(0)?-1!==u&&void 0!==r[u+h]&&(a[d+h]=a[d+h]||r[u+h]):a[d+h]="0";a[a.length-1]===i.radixPoint&&delete a[a.length-1]}if(l.toString()!==a&&l.toString()+"."!==a||s)return!s||0===l&&"blur"===e.type||(a.unshift(i.negationSymbol.front),a.push(i.negationSymbol.back)),a=(i.prefix+a.join("")).split(""),i.numericInput&&(a=a.reverse()),(o=i.postFormat(a,i.numericInput?n:n-1,i)).buffer&&(o.refreshFromBuffer=o.buffer.join("")!==t.join("")),o}}return i.autoGroup?((o=i.postFormat(t,i.numericInput?n:n-1,i)).caret=n<=i.prefix.length?o.pos:o.pos+1,o):void 0},regex:{integerPart:function(e){return new RegExp("["+g.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+g.escapeRegex(e.groupSeparator)+g.escapeRegex(e.placeholder.charAt(0))+"]+")}},signHandler:function(e,t,n,i,o){if(!i&&o.allowMinus&&"-"===e||o.allowPlus&&"+"===e){var r=t.buffer.join("").match(o.regex.integerPart(o));if(r&&0<r[0].length)return t.buffer[r.index]===("-"===e?"+":o.negationSymbol.front)?"-"===e?""!==o.negationSymbol.back?{pos:r.index,c:o.negationSymbol.front,remove:r.index,caret:n,insert:{pos:t.buffer.length-o.suffix.length-1,c:o.negationSymbol.back}}:{pos:r.index,c:o.negationSymbol.front,remove:r.index,caret:n}:""!==o.negationSymbol.back?{pos:r.index,c:"+",remove:[r.index,t.buffer.length-o.suffix.length-1],caret:n}:{pos:r.index,c:"+",remove:r.index,caret:n}:t.buffer[r.index]===("-"===e?o.negationSymbol.front:"+")?"-"===e&&""!==o.negationSymbol.back?{remove:[r.index,t.buffer.length-o.suffix.length-1],caret:n-1}:{remove:r.index,caret:n-1}:"-"===e?""!==o.negationSymbol.back?{pos:r.index,c:o.negationSymbol.front,caret:n+1,insert:{pos:t.buffer.length-o.suffix.length,c:o.negationSymbol.back}}:{pos:r.index,c:o.negationSymbol.front,caret:n+1}:{pos:r.index,c:e,caret:n+1}}return!1},radixHandler:function(e,t,n,i,o){if(!i&&!0!==o.numericInput&&e===o.radixPoint&&void 0!==o.digits&&(isNaN(o.digits)||0<parseInt(o.digits))){var r=m.inArray(o.radixPoint,t.buffer),a=t.buffer.join("").match(o.regex.integerPart(o));if(-1!==r&&t.validPositions[r])return t.validPositions[r-1]?{caret:r+1}:{pos:a.index,c:a[0],caret:r+1};if(!a||"0"===a[0]&&a.index+1!==n)return t.buffer[a?a.index:n]="0",{pos:(a?a.index:n)+1,c:o.radixPoint}}return!1},leadingZeroHandler:function(e,t,n,i,o,r){if(!i)if(!0===o.numericInput){var a=t.buffer.slice("").reverse();if("0"===a[o.prefix.length]&&void 0===t.validPositions[n-1])return{pos:n,remove:a.length-o.prefix.length-1}}else{var s=m.inArray(o.radixPoint,t.buffer),l=t.buffer.slice(0,-1!==s?s:void 0).join("").match(o.regex.integerNPart(o));if(l&&(-1===s||n<=s)){var c=-1===s?0:parseInt(t.buffer.slice(s+1).join(""));if(0===l[0].indexOf(""!==o.placeholder?o.placeholder.charAt(0):"0")&&(l.index+1===n||!0!==r&&0===c))return t.buffer.splice(l.index,1),{pos:l.index,remove:l.index};if("0"===e&&n<=l.index&&l[0]!==o.groupSeparator)return!1}}return!0},definitions:{"~":{validator:function(e,t,n,i,o,r){var a=o.signHandler(e,t,n,i,o);if(!a&&(!(a=o.radixHandler(e,t,n,i,o))&&(!0===(a=i?new RegExp("[0-9"+g.escapeRegex(o.groupSeparator)+"]").test(e):new RegExp("[0-9]").test(e))&&!0===(a=o.leadingZeroHandler(e,t,n,i,o,r))))){var s=m.inArray(o.radixPoint,t.buffer);a=-1!==s&&(!1===o.digitsOptional||t.validPositions[n])&&!0!==o.numericInput&&s<n&&!i?{pos:n,remove:n}:{pos:n}}return a},cardinality:1},"+":{validator:function(e,t,n,i,o){var r=o.signHandler(e,t,n,i,o);return!r&&(i&&o.allowMinus&&e===o.negationSymbol.front||o.allowMinus&&"-"===e||o.allowPlus&&"+"===e)&&(r=!(!i&&"-"===e)||(""!==o.negationSymbol.back?{pos:n,c:"-"===e?o.negationSymbol.front:"+",caret:n+1,insert:{pos:t.buffer.length,c:o.negationSymbol.back}}:{pos:n,c:"-"===e?o.negationSymbol.front:"+",caret:n+1})),r},cardinality:1,placeholder:""},"-":{validator:function(e,t,n,i,o){var r=o.signHandler(e,t,n,i,o);return!r&&i&&o.allowMinus&&e===o.negationSymbol.back&&(r=!0),r},cardinality:1,placeholder:""},":":{validator:function(e,t,n,i,o){var r=o.signHandler(e,t,n,i,o);if(!r){var a="["+g.escapeRegex(o.radixPoint)+"]";(r=new RegExp(a).test(e))&&t.validPositions[n]&&t.validPositions[n].match.placeholder===o.radixPoint&&(r={caret:n+1})}return r?{c:o.radixPoint}:r},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(e,t,n){var i=e.replace(n.prefix,"");return i=(i=i.replace(n.suffix,"")).replace(new RegExp(g.escapeRegex(n.groupSeparator),"g"),""),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==i.indexOf(n.radixPoint)&&(i=i.replace(g.escapeRegex.call(this,n.radixPoint),".")),Number(i)):i},isComplete:function(e,t){var n=e.join(""),i=e.slice();if(t.postFormat(i,0,t),i.join("")!==n)return!1;var o=n.replace(t.prefix,"");return o=(o=o.replace(t.suffix,"")).replace(new RegExp(g.escapeRegex(t.groupSeparator),"g"),""),","===t.radixPoint&&(o=o.replace(g.escapeRegex(t.radixPoint),".")),isFinite(o)},onBeforeMask:function(e,t){if(""!==t.radixPoint&&isFinite(e))e=e.toString().replace(".",t.radixPoint);else{var n=e.match(/,/g),i=e.match(/\./g);e=i&&n?i.length>n.length?(e=e.replace(/\./g,"")).replace(",",t.radixPoint):n.length>i.length?(e=e.replace(/,/g,"")).replace(".",t.radixPoint):e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e=e.replace(/,/g,""):e.replace(new RegExp(g.escapeRegex(t.groupSeparator),"g"),"")}if(0===t.digits&&(-1!==e.indexOf(".")?e=e.substring(0,e.indexOf(".")):-1!==e.indexOf(",")&&(e=e.substring(0,e.indexOf(",")))),""!==t.radixPoint&&isFinite(t.digits)&&-1!==e.indexOf(t.radixPoint)){var o=e.split(t.radixPoint)[1].match(new RegExp("\\d*"))[0];if(parseInt(t.digits)<o.toString().length){var r=Math.pow(10,parseInt(t.digits));e=e.replace(g.escapeRegex(t.radixPoint),"."),e=(e=Math.round(parseFloat(e)*r)/r).toString().replace(".",t.radixPoint)}}return e.toString()},canClearPosition:function(e,t,n,i,o){var r=e.validPositions[t].input;return r!==o.radixPoint||null!==e.validPositions[t].match.fn&&!1===o.decimalProtect||isFinite(r)||t===n||r===o.groupSeparator||r===o.negationSymbol.front||r===o.negationSymbol.back},onKeyDown:function(e,t,n,i){var o=m(this);if(e.ctrlKey)switch(e.keyCode){case g.keyCode.UP:o.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(i.step)),o.trigger("setvalue");break;case g.keyCode.DOWN:o.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(i.step)),o.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:1e4,suffix:" %",allowPlus:!1,allowMinus:!1}})}(jQuery,Inputmask),function(e,t){t.extendAliases({phoneNums:{url:"./phone-codes/phone-codes.js",countrycode:"",phoneCodeCache:{},mask:function(i){if(void 0===i.phoneCodeCache[i.url]){var t=[];i.definitions["#"]=i.definitions[9],e.ajax({url:i.url,async:!1,type:"get",dataType:"json",success:function(e){t=e},error:function(e,t,n){alert(n+" - "+i.url)}}),i.phoneCodeCache[i.url]=t.sort(function(e,t){return(e.mask||e)<(t.mask||t)?-1:1})}return i.phoneCodeCache[i.url]},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(e,t){var n=e.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(1<n.indexOf(t.countrycode)||-1===n.indexOf(t.countrycode))&&(n="+"+t.countrycode+n),n}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}})}(jQuery,Inputmask),function(y,e){e.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,t){return new RegExp(t.regex).test(e.join(""))},definitions:{r:{validator:function(e,t,n,i,c){function d(e,t){this.matches=[],this.isGroup=e||!1,this.isQuantifier=t||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function m(e,t){var n=!1;t&&(v+="(",b++);for(var i=0;i<e.matches.length;i++){var o=e.matches[i];if(!0===o.isGroup)n=m(o,!0);else if(!0===o.isQuantifier){var r=y.inArray(o,e.matches),a=e.matches[r-1],s=v;if(isNaN(o.quantifier.max)){for(;o.repeaterPart&&o.repeaterPart!==v&&o.repeaterPart.length>v.length&&!(n=m(a,!0)););(n=n||m(a,!0))&&(o.repeaterPart=v),v=s+o.quantifier.max}else{for(var l=0,c=o.quantifier.max-1;l<c&&!(n=m(a,!0));l++);v=s+"{"+o.quantifier.min+","+o.quantifier.max+"}"}}else if(void 0!==o.matches)for(var d=0;d<o.length&&!(n=m(o[d],t));d++);else{var u;if("["==o.charAt(0)){u=v,u+=o;for(var h=0;h<b;h++)u+=")";n=new RegExp("^("+u+")$").test(g)}else for(var p=0,f=o.length;p<f;p++)if("\\"!==o.charAt(p)){u=v,u=(u+=o.substr(0,p+1)).replace(/\|$/,"");for(h=0;h<b;h++)u+=")";if(n=new RegExp("^("+u+")$").test(g))break}v+=o}if(n)break}return t&&(v+=")",b--),n}var g,u,o=t.buffer.slice(),v="",r=!1,b=0;null===c.regexTokens&&function(){var e,t,n=new d,i=[];for(c.regexTokens=[];e=c.tokenizer.exec(c.regex);)switch(t=e[0],t.charAt(0)){case"(":i.push(new d(!0));break;case")":u=i.pop(),0<i.length?i[i.length-1].matches.push(u):n.matches.push(u);break;case"{":case"+":case"*":var o=new d(!1,!0),r=(t=t.replace(/[{}]/g,"")).split(","),a=isNaN(r[0])?r[0]:parseInt(r[0]),s=1===r.length?a:isNaN(r[1])?r[1]:parseInt(r[1]);if(o.quantifier={min:a,max:s},0<i.length){var l=i[i.length-1].matches;(e=l.pop()).isGroup||((u=new d(!0)).matches.push(e),e=u),l.push(e),l.push(o)}else(e=n.matches.pop()).isGroup||((u=new d(!0)).matches.push(e),e=u),n.matches.push(e),n.matches.push(o);break;default:0<i.length?i[i.length-1].matches.push(t):n.matches.push(t)}0<n.matches.length&&c.regexTokens.push(n)}(),o.splice(n,0,e),g=o.join("");for(var a=0;a<c.regexTokens.length;a++){var s=c.regexTokens[a];if(r=m(s,s.isGroup))break}return r},cardinality:1}}}})}(jQuery,Inputmask),window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var n,i=document.createElement("style"),e=document.getElementsByTagName("script")[0];i.type="text/css",i.id="matchmediajs-test",e.parentNode.insertBefore(i,e),n="getComputedStyle"in window&&window.getComputedStyle(i,null)||i.currentStyle,t={matchMedium:function(e){var t="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return i.styleSheet?i.styleSheet.cssText=t:i.textContent=t,"1px"===n.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(c,d,e){"use strict";function t(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e:"function"==typeof define&&define.amd&&define("picturefill",function(){return e}),"object"==typeof c&&(c.picturefill=e)}function o(e){for(var t,n,i,o,r,a=e||{},s=0,l=(t=a.elements||u.getAllElements()).length;s<l;s++)if(i=(n=t[s]).parentNode,r=o=void 0,"IMG"===n.nodeName.toUpperCase()&&(n[u.ns]||(n[u.ns]={}),a.reevaluate||!n[u.ns].evaluated)){if(i&&"PICTURE"===i.nodeName.toUpperCase()){if(u.removeVideoShim(i),!1===(o=u.getMatch(n,i)))continue}else o=void 0;(i&&"PICTURE"===i.nodeName.toUpperCase()||!u.sizesSupported&&n.srcset&&h.test(n.srcset))&&u.dodgeSrcset(n),o?(r=u.processSourceSet(o),u.applyBestCandidate(r,n)):(r=u.processSourceSet(n),void 0!==n.srcset&&!n[u.ns].srcset||u.applyBestCandidate(r,n)),n[u.ns].evaluated=!0}}if(c.HTMLPictureElement)t(function(){});else{d.createElement("picture");var i,n,u=c.picturefill||{},h=/\s+\+?\d+(e\d+)?w/;u.ns="picturefill",u.srcsetSupported="srcset"in e,u.sizesSupported="sizes"in e,u.curSrcSupported="currentSrc"in e,u.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},u.makeUrl=(n=d.createElement("a"),function(e){return n.href=e,n.href}),u.restrictsMixedContent=function(){return"https:"===c.location.protocol},u.matchesMedia=function(e){return c.matchMedia&&c.matchMedia(e).matches},u.getDpr=function(){return c.devicePixelRatio||1},u.getWidthFromLength=function(e){var t;if(!e||-1<e.indexOf("%")!=0||!(0<parseFloat(e)||-1<e.indexOf("calc(")))return!1;e=e.replace("vw","%"),u.lengthEl||(u.lengthEl=d.createElement("div"),u.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden",u.lengthEl.className="helper-from-picturefill-js"),u.lengthEl.style.width="0px";try{u.lengthEl.style.width=e}catch(e){}return d.body.appendChild(u.lengthEl),(t=u.lengthEl.offsetWidth)<=0&&(t=!1),d.body.removeChild(u.lengthEl),t},u.detectTypeSupport=function(e,t){var n=new c.Image;return n.onerror=function(){u.types[e]=!1,o()},n.onload=function(){u.types[e]=1===n.width,o()},n.src=t,"pending"},u.types=u.types||{},u.initTypeDetects=function(){u.types["image/jpeg"]=!0,u.types["image/gif"]=!0,u.types["image/png"]=!0,u.types["image/svg+xml"]=d.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),u.types["image/webp"]=u.detectTypeSupport("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")},u.verifyTypeSupport=function(e){var t=e.getAttribute("type");if(null===t||""===t)return!0;var n=u.types[t];return"string"==typeof n&&"pending"!==n?(u.types[t]=u.detectTypeSupport(t,n),"pending"):"function"==typeof n?(n(),"pending"):n},u.parseSize=function(e){var t=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:t&&t[1],length:t&&t[2]}},u.findWidthFromSourceSize=function(e){for(var t,n=u.trim(e).split(/\s*,\s*/),i=0,o=n.length;i<o;i++){var r=n[i],a=u.parseSize(r),s=a.length,l=a.media;if(s&&(!l||u.matchesMedia(l))&&(t=u.getWidthFromLength(s)))break}return t||Math.max(c.innerWidth||0,d.documentElement.clientWidth)},u.parseSrcset=function(e){for(var t=[];""!==e;){var n,i=(e=e.replace(/^\s+/g,"")).search(/\s/g),o=null;if(-1!==i){if(","!==(n=e.slice(0,i)).slice(-1)&&""!==n||(n=n.replace(/,+$/,""),o=""),e=e.slice(i+1),null===o){var r=e.indexOf(",");e=-1!==r?(o=e.slice(0,r),e.slice(r+1)):(o=e,"")}}else n=e,e="";(n||o)&&t.push({url:n,descriptor:o})}return t},u.parseDescriptor=function(e,t){var n,i=t||"100vw",o=e&&e.replace(/(^\s+|\s+$)/g,""),r=u.findWidthFromSourceSize(i);if(o)for(var a=o.split(" "),s=a.length-1;0<=s;s--){var l=a[s],c=l&&l.slice(l.length-1);if("h"!==c&&"w"!==c||u.sizesSupported){if("x"===c){var d=l&&parseFloat(l,10);n=d&&!isNaN(d)?d:1}}else n=parseFloat(parseInt(l,10)/r)}return n||1},u.getCandidatesFromSourceSet=function(e,t){for(var n=u.parseSrcset(e),i=[],o=0,r=n.length;o<r;o++){var a=n[o];i.push({url:a.url,resolution:u.parseDescriptor(a.descriptor,t)})}return i},u.dodgeSrcset=function(e){e.srcset&&(e[u.ns].srcset=e.srcset,e.srcset="",e.setAttribute("data-pfsrcset",e[u.ns].srcset))},u.processSourceSet=function(e){var t=e.getAttribute("srcset"),n=e.getAttribute("sizes"),i=[];return"IMG"===e.nodeName.toUpperCase()&&e[u.ns]&&e[u.ns].srcset&&(t=e[u.ns].srcset),t&&(i=u.getCandidatesFromSourceSet(t,n)),i},u.backfaceVisibilityFix=function(e){var t=e.style||{},n="webkitBackfaceVisibility"in t,i=t.zoom;n&&(t.zoom=".999",n=e.offsetWidth,t.zoom=i)},u.setIntrinsicSize=(i={},function(e,t){var n;e[u.ns]&&!c.pfStopIntrinsicSize&&(void 0===e[u.ns].dims&&(e[u.ns].dims=e.getAttribute("width")||e.getAttribute("height")),e[u.ns].dims||(t.url in i?r(e,i[t.url],t.resolution):((n=d.createElement("img")).onload=function(){if(i[t.url]=n.width,!i[t.url])try{d.body.appendChild(n),i[t.url]=n.width||n.offsetWidth,d.body.removeChild(n)}catch(e){}e.src===t.url&&r(e,i[t.url],t.resolution),e=null,n.onload=null,n=null},n.src=t.url)))}),u.applyBestCandidate=function(e,t){var n,i,o;e.sort(u.ascendingSort),o=e[(i=e.length)-1];for(var r=0;r<i;r++)if((n=e[r]).resolution>=u.getDpr()){o=n;break}o&&(o.url=u.makeUrl(o.url),t.src!==o.url&&(u.restrictsMixedContent()&&"http:"===o.url.substr(0,"http:".length).toLowerCase()?void 0!==window.console&&console.warn("Blocked mixed content image "+o.url):(t.src=o.url,u.curSrcSupported||(t.currentSrc=t.src),u.backfaceVisibilityFix(t))),u.setIntrinsicSize(t,o))},u.ascendingSort=function(e,t){return e.resolution-t.resolution},u.removeVideoShim=function(e){var t=e.getElementsByTagName("video");if(t.length){for(var n=t[0],i=n.getElementsByTagName("source");i.length;)e.insertBefore(i[0],n);n.parentNode.removeChild(n)}},u.getAllElements=function(){for(var e=[],t=d.getElementsByTagName("img"),n=0,i=t.length;n<i;n++){var o=t[n];("PICTURE"===o.parentNode.nodeName.toUpperCase()||null!==o.getAttribute("srcset")||o[u.ns]&&null!==o[u.ns].srcset)&&e.push(o)}return e},u.getMatch=function(e,t){for(var n,i=t.childNodes,o=0,r=i.length;o<r;o++){var a=i[o];if(1===a.nodeType){if(a===e)return n;if("SOURCE"===a.nodeName.toUpperCase()){null!==a.getAttribute("src")&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var s=a.getAttribute("media");if(a.getAttribute("srcset")&&(!s||u.matchesMedia(s))){var l=u.verifyTypeSupport(a);if(!0===l){n=a;break}if("pending"===l)return!1}}}}return n},function(){function e(){clearTimeout(n),n=setTimeout(t,60)}function t(){o({reevaluate:!0})}u.initTypeDetects(),o();var n,i=setInterval(function(){return o(),/^loaded|^i|^c/.test(d.readyState)?void clearInterval(i):void 0},250);c.addEventListener?c.addEventListener("resize",e,!1):c.attachEvent&&c.attachEvent("onresize",e)}(),o._=u,t(o)}function r(e,t,n){t&&e.setAttribute("width",parseInt(t/n,10))}}(window,window.document,new window.Image),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Lightgallery=e()}}(function(){return function r(a,s,l){function c(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);var i=new Error("Cannot find module '"+t+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[t]={exports:{}};a[t][0].call(o.exports,function(e){return c(a[t][1][e]||e)},o,o.exports,r,a,s,l)}return s[t].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,i){!function(e,t){if(0,void 0!==i)t(i);else{var n={};t(n),e.lgUtils=n}}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={getAttribute:function(e,t){return e[t]},setAttribute:function(e,t,n){e[t]=n},wrap:function(e,t){if(e){var n=document.createElement("div");n.className=t,e.parentNode.insertBefore(n,e),e.parentNode.removeChild(e),n.appendChild(e)}},addClass:function(e,t){e&&(e.classList?e.classList.add(t):e.className+=" "+t)},removeClass:function(e,t){e&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},setVendor:function(e,t,n){e&&(e.style[t.charAt(0).toLowerCase()+t.slice(1)]=n,e.style["webkit"+t]=n,e.style["moz"+t]=n,e.style["ms"+t]=n,e.style["o"+t]=n)},trigger:function(e,t,n){if(e){var i=new CustomEvent(t,{detail:2<arguments.length&&void 0!==n?n:null});e.dispatchEvent(i)}},Listener:{uid:0},on:function(n,e,i){var o=this;n&&e.split(" ").forEach(function(e){var t=o.getAttribute(n,"lg-event-uid")||"";a.Listener.uid++,t+="&"+a.Listener.uid,o.setAttribute(n,"lg-event-uid",t),a.Listener[e+a.Listener.uid]=i,n.addEventListener(e.split(".")[0],i,!1)})},off:function(e,t){if(e){var n=this.getAttribute(e,"lg-event-uid");if(n){n=n.split("&");for(var i=0;i<n.length;i++)if(n[i]){var o=t+n[i];if("."===o.substring(0,1))for(var r in a.Listener)a.Listener.hasOwnProperty(r)&&-1<r.split(".").indexOf(o.split(".")[1])&&(e.removeEventListener(r.split(".")[0],a.Listener[r]),this.setAttribute(e,"lg-event-uid",this.getAttribute(e,"lg-event-uid").replace("&"+n[i],"")),delete a.Listener[r]);else e.removeEventListener(o.split(".")[0],a.Listener[o]),this.setAttribute(e,"lg-event-uid",this.getAttribute(e,"lg-event-uid").replace("&"+n[i],"")),delete a.Listener[o]}}}},param:function(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}};e.default=a})},{}],2:[function(n,e,i){!function(e,t){if(0,void 0!==i)t(n("./lg-utils"));else{t(e.lgUtils),e.lightgallery={}}}(this,function(e){"use strict";var t,m=(t=e)&&t.__esModule?t:{default:t};var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function i(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(i.prototype=window.Event.prototype,window.CustomEvent=i),window.utils=m.default,window.lgData={uid:0};var o={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!(window.lgModules={}),closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1};function r(e,t){if(this.el=e,this.s=n({},o,t),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBartimeout=!1,this.isTouch="ontouchstart"in document.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.items=[],this.s.dynamic?this.items=this.s.dynamicEl:"this"===this.s.selector?this.items.push(this.el):""!==this.s.selector?this.s.selectWithin?this.items=document.querySelector(this.s.selectWithin).querySelectorAll(this.s.selector):this.items=this.el.querySelectorAll(this.s.selector):this.items=this.el.children,this.___slide="",this.outer="",this.init(),this}r.prototype.init=function(){var n=this;n.s.preload>n.items.length&&(n.s.preload=n.items.length);var e=window.location.hash;if(0<e.indexOf("lg="+this.s.galleryId)&&(n.index=parseInt(e.split("&slide=")[1],10),m.default.addClass(document.body,"lg-from-hash"),m.default.hasClass(document.body,"lg-on")||(m.default.addClass(document.body,"lg-on"),setTimeout(function(){n.build(n.index)}))),n.s.dynamic)m.default.trigger(this.el,"onBeforeOpen"),n.index=n.s.index||0,m.default.hasClass(document.body,"lg-on")||(m.default.addClass(document.body,"lg-on"),setTimeout(function(){n.build(n.index)}));else for(var t=0;t<n.items.length;t++)!function(t){m.default.on(n.items[t],"click.lgcustom",function(e){e.preventDefault(),m.default.trigger(n.el,"onBeforeOpen"),n.index=n.s.index||t,m.default.hasClass(document.body,"lg-on")||(n.build(n.index),m.default.addClass(document.body,"lg-on"))})}(t)},r.prototype.build=function(e){var t=this;for(var n in t.structure(),window.lgModules)t.modules[n]=new window.lgModules[n](t.el);t.slide(e,!1,!1),t.s.keyPress&&t.keyPress(),1<t.items.length&&(t.arrow(),setTimeout(function(){t.enableDrag(),t.enableSwipe()},50),t.s.mousewheel&&t.mousewheel()),t.counter(),t.closeGallery(),m.default.trigger(t.el,"onAfterOpen"),m.default.on(t.outer,"mousemove.lg click.lg touchstart.lg",function(){m.default.removeClass(t.outer,"lg-hide-items"),clearTimeout(t.hideBartimeout),t.hideBartimeout=setTimeout(function(){m.default.addClass(t.outer,"lg-hide-items")},t.s.hideBarsDelay)})},r.prototype.structure=function(){var e,t="",n="",i=0,o="",r=this;for(document.body.insertAdjacentHTML("beforeend",'<div class="lg-backdrop"></div>'),m.default.setVendor(document.querySelector(".lg-backdrop"),"TransitionDuration",this.s.backdropDuration+"ms"),i=0;i<this.items.length;i++)t+='<div class="lg-item"></div>';if(this.s.controls&&1<this.items.length&&(n='<div class="lg-actions"><div class="lg-prev lg-icon">'+this.s.prevHtml+'</div><div class="lg-next lg-icon">'+this.s.nextHtml+"</div></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(o='<div class="lg-sub-html"></div>'),e='<div class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+t+'</div><div class="lg-toolbar group"><span class="lg-close lg-icon"></span></div>'+n+o+"</div></div>",document.body.insertAdjacentHTML("beforeend",e),this.outer=document.querySelector(".lg-outer"),this.___slide=this.outer.querySelectorAll(".lg-item"),this.s.useLeft?(m.default.addClass(this.outer,"lg-use-left"),this.s.mode="lg-slide"):m.default.addClass(this.outer,"lg-use-css3"),r.setTop(),m.default.on(window,"resize.lg orientationchange.lg",function(){setTimeout(function(){r.setTop()},100)}),m.default.addClass(this.___slide[this.index],"lg-current"),this.doCss()?m.default.addClass(this.outer,"lg-css3"):(m.default.addClass(this.outer,"lg-css"),this.s.speed=0),m.default.addClass(this.outer,this.s.mode),this.s.enableDrag&&1<this.items.length&&m.default.addClass(this.outer,"lg-grab"),this.s.showAfterLoad&&m.default.addClass(this.outer,"lg-show-after-load"),this.doCss()){var a=this.outer.querySelector(".lg-inner");m.default.setVendor(a,"TransitionTimingFunction",this.s.cssEasing),m.default.setVendor(a,"TransitionDuration",this.s.speed+"ms")}setTimeout(function(){m.default.addClass(document.querySelector(".lg-backdrop"),"in")}),setTimeout(function(){m.default.addClass(r.outer,"lg-visible")},this.s.backdropDuration),this.s.download&&this.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",'<a id="lg-download" target="_blank" download class="lg-download lg-icon"></a>'),this.prevScrollTop=document.documentElement.scrollTop||document.body.scrollTop},r.prototype.setTop=function(){if("100%"!==this.s.height){var e=window.innerHeight,t=(e-parseInt(this.s.height,10))/2,n=this.outer.querySelector(".lg");e>=parseInt(this.s.height,10)?n.style.top=t+"px":n.style.top="0px"}},r.prototype.doCss=function(){return!!function(){var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],t=document.documentElement,n=0;for(n=0;n<e.length;n++)if(e[n]in t.style)return!0}()},r.prototype.isVideo=function(e,t){var n;if(n=this.s.dynamic?this.s.dynamicEl[t].html:this.items[t].getAttribute("data-html"),!e&&n)return{html5:!0};var i=e.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),o=e.match(/\/\/(?:www\.)?vimeo.com\/([0-9a-z\-_]+)/i),r=e.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),a=e.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return i?{youtube:i}:o?{vimeo:o}:r?{dailymotion:r}:a?{vk:a}:void 0},r.prototype.counter=function(){this.s.counter&&this.outer.querySelector(this.s.appendCounterTo).insertAdjacentHTML("beforeend",'<div id="lg-counter"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.items.length+"</span></div>")},r.prototype.addHtml=function(e){var t,n=null;if(this.s.dynamic?n=this.s.dynamicEl[e].subHtml:(n=(t=this.items[e]).getAttribute("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!n&&(n=t.getAttribute("title"))&&t.querySelector("img")&&(n=t.querySelector("img").getAttribute("alt"))),null!=n){var i=n.substring(0,1);"."!==i&&"#"!==i||(n=this.s.subHtmlSelectorRelative&&!this.s.dynamic?t.querySelector(n).innerHTML:document.querySelector(n).innerHTML)}else n="";".lg-sub-html"===this.s.appendSubHtmlTo?this.outer.querySelector(this.s.appendSubHtmlTo).innerHTML=n:this.___slide[e].insertAdjacentHTML("beforeend",n),null!=n&&(""===n?m.default.addClass(this.outer.querySelector(this.s.appendSubHtmlTo),"lg-empty-html"):m.default.removeClass(this.outer.querySelector(this.s.appendSubHtmlTo),"lg-empty-html")),m.default.trigger(this.el,"onAfterAppendSubHtml",{index:e})},r.prototype.preload=function(e){var t=1,n=1;for(t=1;t<=this.s.preload&&!(t>=this.items.length-e);t++)this.loadContent(e+t,!1,0);for(n=1;n<=this.s.preload&&!(e-n<0);n++)this.loadContent(e-n,!1,0)},r.prototype.loadContent=function(t,e,n){function i(e){for(var t=[],n=[],i=0;i<e.length;i++){var o=e[i].split(" ");""===o[0]&&o.splice(0,1),n.push(o[0]),t.push(o[1])}for(var r=window.innerWidth,a=0;a<t.length;a++)if(parseInt(t[a],10)>r){s=n[a];break}}var o,s,r,a,l,c,d=this,u=!1;if(d.s.dynamic){if(d.s.dynamicEl[t].poster&&(u=!0,r=d.s.dynamicEl[t].poster),c=d.s.dynamicEl[t].html,s=d.s.dynamicEl[t].src,d.s.dynamicEl[t].responsive)i(d.s.dynamicEl[t].responsive.split(","));a=d.s.dynamicEl[t].srcset,l=d.s.dynamicEl[t].sizes}else{if(d.items[t].getAttribute("data-poster")&&(u=!0,r=d.items[t].getAttribute("data-poster")),c=d.items[t].getAttribute("data-html"),s=d.items[t].getAttribute("href")||d.items[t].getAttribute("data-src"),d.items[t].getAttribute("data-responsive"))i(d.items[t].getAttribute("data-responsive").split(","));a=d.items[t].getAttribute("data-srcset"),l=d.items[t].getAttribute("data-sizes")}var h=!1;d.s.dynamic?d.s.dynamicEl[t].iframe&&(h=!0):"true"===d.items[t].getAttribute("data-iframe")&&(h=!0);var p=d.isVideo(s,t);if(!m.default.hasClass(d.___slide[t],"lg-loaded")){if(h)d.___slide[t].insertAdjacentHTML("afterbegin",'<div class="lg-video-cont" style="max-width:'+d.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+s+'"  allowfullscreen="true"></iframe></div></div>');else if(u){var f="";f=p&&p.youtube?"lg-has-youtube":p&&p.vimeo?"lg-has-vimeo":"lg-has-html5",d.___slide[t].insertAdjacentHTML("beforeend",'<div class="lg-video-cont '+f+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+r+'" /></div></div>')}else p?(d.___slide[t].insertAdjacentHTML("beforeend",'<div class="lg-video-cont "><div class="lg-video"></div></div>'),m.default.trigger(d.el,"hasVideo",{index:t,src:s,html:c})):d.___slide[t].insertAdjacentHTML("beforeend",'<div class="lg-img-wrap"><img class="lg-object lg-image" src="'+s+'" /></div>');if(m.default.trigger(d.el,"onAferAppendSlide",{index:t}),o=d.___slide[t].querySelector(".lg-object"),l&&o.setAttribute("sizes",l),a){o.setAttribute("srcset",a);try{picturefill({elements:[o[0]]})}catch(e){console.error("Make sure you have included Picturefill version 2")}}".lg-sub-html"!==this.s.appendSubHtmlTo&&d.addHtml(t),m.default.addClass(d.___slide[t],"lg-loaded")}m.default.on(d.___slide[t].querySelector(".lg-object"),"load.lg error.lg",function(){var e=0;n&&!m.default.hasClass(document.body,"lg-from-hash")&&(e=n),setTimeout(function(){m.default.addClass(d.___slide[t],"lg-complete"),m.default.trigger(d.el,"onSlideItemLoad",{index:t,delay:n||0})},e)}),p&&p.html5&&!u&&m.default.addClass(d.___slide[t],"lg-complete"),!0===e&&(m.default.hasClass(d.___slide[t],"lg-complete")?d.preload(t):m.default.on(d.___slide[t].querySelector(".lg-object"),"load.lg error.lg",function(){d.preload(t)}))},r.prototype.slide=function(e,t,n){for(var i=0,o=0;o<this.___slide.length;o++)if(m.default.hasClass(this.___slide[o],"lg-current")){i=o;break}var r=this;if(!r.lGalleryOn||i!==e){var a=this.___slide.length,s=r.lGalleryOn?this.s.speed:0,l=!1,c=!1;if(!r.lgBusy){var d;if(this.s.download)(d=r.s.dynamic?!1!==r.s.dynamicEl[e].downloadUrl&&(r.s.dynamicEl[e].downloadUrl||r.s.dynamicEl[e].src):"false"!==r.items[e].getAttribute("data-download-url")&&(r.items[e].getAttribute("data-download-url")||r.items[e].getAttribute("href")||r.items[e].getAttribute("data-src")))?(document.getElementById("lg-download").setAttribute("href",d),m.default.removeClass(r.outer,"lg-hide-download")):m.default.addClass(r.outer,"lg-hide-download");if(m.default.trigger(r.el,"onBeforeSlide",{prevIndex:i,index:e,fromTouch:t,fromThumb:n}),r.lgBusy=!0,clearTimeout(r.hideBartimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout(function(){r.addHtml(e)},s),this.arrowDisable(e),t){var u=e-1,h=e+1;(0===e&&i===a-1||e===a-1&&0===i)&&(h=0,u=a-1),m.default.removeClass(r.outer.querySelector(".lg-prev-slide"),"lg-prev-slide"),m.default.removeClass(r.outer.querySelector(".lg-current"),"lg-current"),m.default.removeClass(r.outer.querySelector(".lg-next-slide"),"lg-next-slide"),m.default.addClass(r.___slide[u],"lg-prev-slide"),m.default.addClass(r.___slide[h],"lg-next-slide"),m.default.addClass(r.___slide[e],"lg-current")}else{m.default.addClass(r.outer,"lg-no-trans");for(var p=0;p<this.___slide.length;p++)m.default.removeClass(this.___slide[p],"lg-prev-slide"),m.default.removeClass(this.___slide[p],"lg-next-slide");e<i?(c=!0,0!==e||i!==a-1||n||(l=!(c=!1))):i<e&&(l=!0,e!==a-1||0!==i||n||(l=!(c=!0))),c?(m.default.addClass(this.___slide[e],"lg-prev-slide"),m.default.addClass(this.___slide[i],"lg-next-slide")):l&&(m.default.addClass(this.___slide[e],"lg-next-slide"),m.default.addClass(this.___slide[i],"lg-prev-slide")),setTimeout(function(){m.default.removeClass(r.outer.querySelector(".lg-current"),"lg-current"),m.default.addClass(r.___slide[e],"lg-current"),m.default.removeClass(r.outer,"lg-no-trans")},50)}r.lGalleryOn?(setTimeout(function(){r.loadContent(e,!0,0)},this.s.speed+50),setTimeout(function(){r.lgBusy=!1,m.default.trigger(r.el,"onAfterSlide",{prevIndex:i,index:e,fromTouch:t,fromThumb:n})},this.s.speed)):(r.loadContent(e,!0,r.s.backdropDuration),r.lgBusy=!1,m.default.trigger(r.el,"onAfterSlide",{prevIndex:i,index:e,fromTouch:t,fromThumb:n})),r.lGalleryOn=!0,this.s.counter&&document.getElementById("lg-counter-current")&&(document.getElementById("lg-counter-current").innerHTML=e+1)}}},r.prototype.goToNextSlide=function(e){var t=this;t.lgBusy||(t.index+1<t.___slide.length?(t.index++,m.default.trigger(t.el,"onBeforeNextSlide",{index:t.index}),t.slide(t.index,e,!1)):t.s.loop?(t.index=0,m.default.trigger(t.el,"onBeforeNextSlide",{index:t.index}),t.slide(t.index,e,!1)):t.s.slideEndAnimatoin&&(m.default.addClass(t.outer,"lg-right-end"),setTimeout(function(){m.default.removeClass(t.outer,"lg-right-end")},400)))},r.prototype.goToPrevSlide=function(e){var t=this;t.lgBusy||(0<t.index?(t.index--,m.default.trigger(t.el,"onBeforePrevSlide",{index:t.index,fromTouch:e}),t.slide(t.index,e,!1)):t.s.loop?(t.index=t.items.length-1,m.default.trigger(t.el,"onBeforePrevSlide",{index:t.index,fromTouch:e}),t.slide(t.index,e,!1)):t.s.slideEndAnimatoin&&(m.default.addClass(t.outer,"lg-left-end"),setTimeout(function(){m.default.removeClass(t.outer,"lg-left-end")},400)))},r.prototype.keyPress=function(){var t=this;1<this.items.length&&m.default.on(window,"keyup.lg",function(e){1<t.items.length&&(37===e.keyCode&&(e.preventDefault(),t.goToPrevSlide()),39===e.keyCode&&(e.preventDefault(),t.goToNextSlide()))}),m.default.on(window,"keydown.lg",function(e){!0===t.s.escKey&&27===e.keyCode&&(e.preventDefault(),m.default.hasClass(t.outer,"lg-thumb-open")?m.default.removeClass(t.outer,"lg-thumb-open"):t.destroy())})},r.prototype.arrow=function(){var e=this;m.default.on(this.outer.querySelector(".lg-prev"),"click.lg",function(){e.goToPrevSlide()}),m.default.on(this.outer.querySelector(".lg-next"),"click.lg",function(){e.goToNextSlide()})},r.prototype.arrowDisable=function(e){if(!this.s.loop&&this.s.hideControlOnEnd){var t=this.outer.querySelector(".lg-next"),n=this.outer.querySelector(".lg-prev");e+1<this.___slide.length?(t.removeAttribute("disabled"),m.default.removeClass(t,"disabled")):(t.setAttribute("disabled","disabled"),m.default.addClass(t,"disabled")),0<e?(n.removeAttribute("disabled"),m.default.removeClass(n,"disabled")):(n.setAttribute("disabled","disabled"),m.default.addClass(n,"disabled"))}},r.prototype.setTranslate=function(e,t,n){this.s.useLeft?e.style.left=t:m.default.setVendor(e,"Transform","translate3d("+t+"px, "+n+"px, 0px)")},r.prototype.touchMove=function(e,t){var n=t-e;15<Math.abs(n)&&(m.default.addClass(this.outer,"lg-dragging"),this.setTranslate(this.___slide[this.index],n,0),this.setTranslate(document.querySelector(".lg-prev-slide"),-this.___slide[this.index].clientWidth+n,0),this.setTranslate(document.querySelector(".lg-next-slide"),this.___slide[this.index].clientWidth+n,0))},r.prototype.touchEnd=function(t){var n=this;"lg-slide"!==n.s.mode&&m.default.addClass(n.outer,"lg-slide");for(var e=0;e<this.___slide.length;e++)m.default.hasClass(this.___slide[e],"lg-current")||m.default.hasClass(this.___slide[e],"lg-prev-slide")||m.default.hasClass(this.___slide[e],"lg-next-slide")||(this.___slide[e].style.opacity="0");setTimeout(function(){m.default.removeClass(n.outer,"lg-dragging"),t<0&&Math.abs(t)>n.s.swipeThreshold?n.goToNextSlide(!0):0<t&&Math.abs(t)>n.s.swipeThreshold?n.goToPrevSlide(!0):Math.abs(t)<5&&m.default.trigger(n.el,"onSlideClick");for(var e=0;e<n.___slide.length;e++)n.___slide[e].removeAttribute("style")}),setTimeout(function(){m.default.hasClass(n.outer,"lg-dragging")||"lg-slide"===n.s.mode||m.default.removeClass(n.outer,"lg-slide")},n.s.speed+100)},r.prototype.enableSwipe=function(){var t=this,n=0,i=0,o=!1;if(t.s.enableSwipe&&t.isTouch&&t.doCss()){for(var e=0;e<t.___slide.length;e++)m.default.on(t.___slide[e],"touchstart.lg",function(e){m.default.hasClass(t.outer,"lg-zoomed")||t.lgBusy||(e.preventDefault(),t.manageSwipeClass(),n=e.targetTouches[0].pageX)});for(var r=0;r<t.___slide.length;r++)m.default.on(t.___slide[r],"touchmove.lg",function(e){m.default.hasClass(t.outer,"lg-zoomed")||(e.preventDefault(),i=e.targetTouches[0].pageX,t.touchMove(n,i),o=!0)});for(var a=0;a<t.___slide.length;a++)m.default.on(t.___slide[a],"touchend.lg",function(){m.default.hasClass(t.outer,"lg-zoomed")||(o?(o=!1,t.touchEnd(i-n)):m.default.trigger(t.el,"onSlideClick"))})}},r.prototype.enableDrag=function(){var t=this,n=0,i=0,o=!1,r=!1;if(t.s.enableDrag&&!t.isTouch&&t.doCss()){for(var e=0;e<t.___slide.length;e++)m.default.on(t.___slide[e],"mousedown.lg",function(e){m.default.hasClass(t.outer,"lg-zoomed")||(m.default.hasClass(e.target,"lg-object")||m.default.hasClass(e.target,"lg-video-play"))&&(e.preventDefault(),t.lgBusy||(t.manageSwipeClass(),n=e.pageX,o=!0,t.outer.scrollLeft+=1,--t.outer.scrollLeft,m.default.removeClass(t.outer,"lg-grab"),m.default.addClass(t.outer,"lg-grabbing"),m.default.trigger(t.el,"onDragstart")))});m.default.on(window,"mousemove.lg",function(e){o&&(r=!0,i=e.pageX,t.touchMove(n,i),m.default.trigger(t.el,"onDragmove"))}),m.default.on(window,"mouseup.lg",function(e){r?(r=!1,t.touchEnd(i-n),m.default.trigger(t.el,"onDragend")):(m.default.hasClass(e.target,"lg-object")||m.default.hasClass(e.target,"lg-video-play"))&&m.default.trigger(t.el,"onSlideClick"),o&&(o=!1,m.default.removeClass(t.outer,"lg-grabbing"),m.default.addClass(t.outer,"lg-grab"))})}},r.prototype.manageSwipeClass=function(){var e=this.index+1,t=this.index-1,n=this.___slide.length;this.s.loop&&(0===this.index?t=n-1:this.index===n-1&&(e=0));for(var i=0;i<this.___slide.length;i++)m.default.removeClass(this.___slide[i],"lg-next-slide"),m.default.removeClass(this.___slide[i],"lg-prev-slide");-1<t&&m.default.addClass(this.___slide[t],"lg-prev-slide"),m.default.addClass(this.___slide[e],"lg-next-slide")},r.prototype.mousewheel=function(){var t=this;m.default.on(t.outer,"mousewheel.lg",function(e){e.deltaY&&(0<e.deltaY?t.goToPrevSlide():t.goToNextSlide(),e.preventDefault())})},r.prototype.closeGallery=function(){var t=this,n=!1;m.default.on(this.outer.querySelector(".lg-close"),"click.lg",function(){t.destroy()}),t.s.closable&&(m.default.on(t.outer,"mousedown.lg",function(e){n=!!(m.default.hasClass(e.target,"lg-outer")||m.default.hasClass(e.target,"lg-item")||m.default.hasClass(e.target,"lg-img-wrap"))}),m.default.on(t.outer,"mouseup.lg",function(e){(m.default.hasClass(e.target,"lg-outer")||m.default.hasClass(e.target,"lg-item")||m.default.hasClass(e.target,"lg-img-wrap")&&n)&&(m.default.hasClass(t.outer,"lg-dragging")||t.destroy())}))},r.prototype.destroy=function(e){var t=this;if(e||m.default.trigger(t.el,"onBeforeClose"),document.body.scrollTop=t.prevScrollTop,document.documentElement.scrollTop=t.prevScrollTop,e){if(!t.s.dynamic)for(var n=0;n<this.items.length;n++)m.default.off(this.items[n],".lg"),m.default.off(this.items[n],".lgcustom");var i=t.el.getAttribute("lg-uid");delete window.lgData[i],t.el.removeAttribute("lg-uid")}for(var o in m.default.off(this.el,".lgtm"),window.lgModules)t.modules[o]&&t.modules[o].destroy(e);this.lGalleryOn=!1,clearTimeout(t.hideBartimeout),this.hideBartimeout=!1,m.default.off(window,".lg"),m.default.removeClass(document.body,"lg-on"),m.default.removeClass(document.body,"lg-from-hash"),t.outer&&m.default.removeClass(t.outer,"lg-visible"),m.default.removeClass(document.querySelector(".lg-backdrop"),"in"),setTimeout(function(){try{t.outer&&t.outer.parentNode.removeChild(t.outer),document.querySelector(".lg-backdrop")&&document.querySelector(".lg-backdrop").parentNode.removeChild(document.querySelector(".lg-backdrop")),e||m.default.trigger(t.el,"onCloseAfter")}catch(e){}},t.s.backdropDuration+50)},window.lightGallery=function(e,t){if(e)try{if(e.getAttribute("lg-uid"))try{window.lgData[e.getAttribute("lg-uid")].init()}catch(e){console.error("lightGallery has not initiated properly")}else{var n="lg"+window.lgData.uid++;window.lgData[n]=new r(e,t),e.setAttribute("lg-uid",n)}}catch(e){console.error("lightGallery has not initiated properly")}}})},{"./lg-utils":1}]},{},[2])(2)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgAutoplay=e()}}(function(){return function r(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,r,a,s,l)}return s[n].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){!function(e,t){if(0,void 0!==n)t();else{t(),e.lgAutoplay={}}}(this,function(){"use strict";function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],!(this.core.items.length<2)&&(this.core.s=t({},n,this.core.s),this.interval=!1,this.fromAuto=!0,this.canceledOnTouch=!1,this.fourceAutoplayTemp=this.core.s.fourceAutoplay,this.core.doCss()||(this.core.s.progressBar=!1),this.init(),this)}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n={autoplay:!1,pause:5e3,progressBar:!0,fourceAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:".lg-toolbar"};e.prototype.init=function(){var e=this;e.core.s.autoplayControls&&e.controls(),e.core.s.progressBar&&e.core.outer.querySelector(".lg").insertAdjacentHTML("beforeend",'<div class="lg-progress-bar"><div class="lg-progress"></div></div>'),e.progress(),e.core.s.autoplay&&e.startlAuto(),utils.on(e.el,"onDragstart.lgtm touchstart.lgtm",function(){e.interval&&(e.cancelAuto(),e.canceledOnTouch=!0)}),utils.on(e.el,"onDragend.lgtm touchend.lgtm onSlideClick.lgtm",function(){!e.interval&&e.canceledOnTouch&&(e.startlAuto(),e.canceledOnTouch=!1)})},e.prototype.progress=function(){var e,t,n=this;utils.on(n.el,"onBeforeSlide.lgtm",function(){n.core.s.progressBar&&n.fromAuto&&(e=n.core.outer.querySelector(".lg-progress-bar"),t=n.core.outer.querySelector(".lg-progress"),n.interval&&(t.removeAttribute("style"),utils.removeClass(e,"lg-start"),setTimeout(function(){utils.setVendor(t,"Transition","width "+(n.core.s.speed+n.core.s.pause)+"ms ease 0s"),utils.addClass(e,"lg-start")},20))),n.fromAuto||n.core.s.fourceAutoplay||n.cancelAuto(),n.fromAuto=!1})},e.prototype.controls=function(){var e=this;e.core.outer.querySelector(this.core.s.appendAutoplayControlsTo).insertAdjacentHTML("beforeend",'<span class="lg-autoplay-button lg-icon"></span>'),utils.on(e.core.outer.querySelector(".lg-autoplay-button"),"click.lg",function(){utils.hasClass(e.core.outer,"lg-show-autoplay")?(e.cancelAuto(),e.core.s.fourceAutoplay=!1):e.interval||(e.startlAuto(),e.core.s.fourceAutoplay=e.fourceAutoplayTemp)})},e.prototype.startlAuto=function(){var e=this;utils.setVendor(e.core.outer.querySelector(".lg-progress"),"Transition","width "+(e.core.s.speed+e.core.s.pause)+"ms ease 0s"),utils.addClass(e.core.outer,"lg-show-autoplay"),utils.addClass(e.core.outer.querySelector(".lg-progress-bar"),"lg-start"),e.interval=setInterval(function(){e.core.index+1<e.core.items.length?e.core.index++:e.core.index=0,e.fromAuto=!0,e.core.slide(e.core.index,!1,!1)},e.core.s.speed+e.core.s.pause)},e.prototype.cancelAuto=function(){clearInterval(this.interval),this.interval=!1,this.core.outer.querySelector(".lg-progress")&&this.core.outer.querySelector(".lg-progress").removeAttribute("style"),utils.removeClass(this.core.outer,"lg-show-autoplay"),utils.removeClass(this.core.outer.querySelector(".lg-progress-bar"),"lg-start")},e.prototype.destroy=function(){this.cancelAuto(),this.core.outer.querySelector(".lg-progress-bar")&&this.core.outer.querySelector(".lg-progress-bar").parentNode.removeChild(this.core.outer.querySelector(".lg-progress-bar"))},window.lgModules.autoplay=e})},{}]},{},[1])(1)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgFullscreen=e()}}(function(){return function r(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,r,a,s,l)}return s[n].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){!function(e,t){if(0,void 0!==n)t();else{t(),e.lgFullscreen={}}}(this,function(){"use strict";function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=t({},n,this.core.s),this.init(),this}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n={fullScreen:!0};e.prototype.init=function(){var e="";if(this.core.s.fullScreen){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))return;e='<span class="lg-fullscreen lg-icon"></span>',this.core.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",e),this.fullScreen()}},e.prototype.requestFullscreen=function(){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()},e.prototype.exitFullscreen=function(){document.fullscreenElement&&"VIDEO"==document.fullscreenElement.nodeName&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())},e.prototype.fullScreen=function(){var e=this;utils.on(document,"fullscreenchange.lgfullscreen webkitfullscreenchange.lgfullscreen mozfullscreenchange.lgfullscreen MSFullscreenChange.lgfullscreen",function(){utils.hasClass(e.core.outer,"lg-fullscreen-on")?utils.removeClass(e.core.outer,"lg-fullscreen-on"):utils.addClass(e.core.outer,"lg-fullscreen-on")}),utils.on(this.core.outer.querySelector(".lg-fullscreen"),"click.lg",function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?e.exitFullscreen():e.requestFullscreen()})},e.prototype.destroy=function(){this.exitFullscreen(),utils.off(document,".lgfullscreen")},window.lgModules.fullscreen=e})},{}]},{},[1])(1)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgZoom=e()}}(function(){return function r(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,r,a,s,l)}return s[n].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){!function(e,t){if(0,void 0!==n)t();else{t(),e.lgZoom={}}}(this,function(){"use strict";function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=i({},o,this.core.s),this.core.s.zoom&&this.core.doCss()&&(this.init(),this.zoomabletimeout=!1,this.pageX=window.innerWidth/2,this.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)),this}var t,n,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o={scale:1,zoom:!0,actualSize:!0,enableZoomAfter:300,useLeftForZoom:(t=!1,(n=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./))&&parseInt(n[2],10)<54&&(t=!0),t)};e.prototype.init=function(){var a=this,e='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';a.core.s.actualSize&&(e+='<span id="lg-actual-size" class="lg-icon"></span>'),a.core.s.useLeftForZoom?utils.addClass(a.core.outer,"lg-use-left-for-zoom"):utils.addClass(a.core.outer,"lg-use-transition-for-zoom"),this.core.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",e),utils.on(a.core.el,"onSlideItemLoad.lgtmzoom",function(e){var t=a.core.s.enableZoomAfter+e.detail.delay;utils.hasClass(document.body,"lg-from-hash")&&e.detail.delay?t=0:utils.removeClass(document.body,"lg-from-hash"),a.zoomabletimeout=setTimeout(function(){utils.addClass(a.core.___slide[e.detail.index],"lg-zoomable")},t+30)});function t(e){var t=a.core.outer.querySelector(".lg-current .lg-image");if(t){var n=(window.innerWidth-t.clientWidth)/2,i=(window.innerHeight-t.clientHeight)/2+(document.documentElement.scrollTop||document.body.scrollTop),o=(e-1)*(a.pageX-n),r=(e-1)*(a.pageY-i);utils.setVendor(t,"Transform","scale3d("+e+", "+e+", 1)"),t.setAttribute("data-scale",e),a.core.s.useLeftForZoom?(t.parentElement.style.left=-o+"px",t.parentElement.style.top=-r+"px"):utils.setVendor(t.parentElement,"Transform","translate3d(-"+o+"px, -"+r+"px, 0)"),t.parentElement.setAttribute("data-x",o),t.parentElement.setAttribute("data-y",r)}}function s(){1<l?utils.addClass(a.core.outer,"lg-zoomed"):a.resetZoom(),l<1&&(l=1),t(l)}function i(e,t,n,i){if(t){var o,r=t.clientWidth;o=a.core.s.dynamic?a.core.s.dynamicEl[n].width||t.naturalWidth||r:a.core.items[n].getAttribute("data-width")||t.naturalWidth||r,utils.hasClass(a.core.outer,"lg-zoomed")?l=1:r<o&&(l=o/r||2),i?(a.pageX=window.innerWidth/2,a.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)):(a.pageX=e.pageX||e.targetTouches[0].pageX,a.pageY=e.pageY||e.targetTouches[0].pageY),s(),setTimeout(function(){utils.removeClass(a.core.outer,"lg-grabbing"),utils.addClass(a.core.outer,"lg-grab")},10)}}var l=1,o=!1;utils.on(a.core.el,"onAferAppendSlide.lgtmzoom",function(e){var t=e.detail.index,n=a.core.___slide[t].querySelector(".lg-image");a.core.isTouch||utils.on(n,"dblclick",function(e){i(e,n,t)}),a.core.isTouch&&utils.on(n,"touchstart",function(e){o?(clearTimeout(o),o=null,i(e,n,t)):o=setTimeout(function(){o=null},300),e.preventDefault()})}),utils.on(window,"resize.lgzoom scroll.lgzoom orientationchange.lgzoom",function(){a.pageX=window.innerWidth/2,a.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop),t(l)}),utils.on(document.getElementById("lg-zoom-out"),"click.lg",function(){a.core.outer.querySelector(".lg-current .lg-image")&&(l-=a.core.s.scale,s())}),utils.on(document.getElementById("lg-zoom-in"),"click.lg",function(){a.core.outer.querySelector(".lg-current .lg-image")&&(l+=a.core.s.scale,s())}),utils.on(document.getElementById("lg-actual-size"),"click.lg",function(e){i(e,a.core.___slide[a.core.index].querySelector(".lg-image"),a.core.index,!0)}),utils.on(a.core.el,"onBeforeSlide.lgtm",function(){l=1,a.resetZoom()}),a.core.isTouch||a.zoomDrag(),a.core.isTouch&&a.zoomSwipe()},e.prototype.resetZoom=function(){utils.removeClass(this.core.outer,"lg-zoomed");for(var e=0;e<this.core.___slide.length;e++)this.core.___slide[e].querySelector(".lg-img-wrap")&&(this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("style"),this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("data-x"),this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("data-y"));for(var t=0;t<this.core.___slide.length;t++)this.core.___slide[t].querySelector(".lg-image")&&(this.core.___slide[t].querySelector(".lg-image").removeAttribute("style"),this.core.___slide[t].querySelector(".lg-image").removeAttribute("data-scale"));this.pageX=window.innerWidth/2,this.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)},e.prototype.zoomSwipe=function(){for(var o=this,r={},a={},s=!1,l=!1,c=!1,e=0;e<o.core.___slide.length;e++)utils.on(o.core.___slide[e],"touchstart.lg",function(e){if(utils.hasClass(o.core.outer,"lg-zoomed")){var t=o.core.___slide[o.core.index].querySelector(".lg-object");c=t.offsetHeight*t.getAttribute("data-scale")>o.core.outer.querySelector(".lg").clientHeight,((l=t.offsetWidth*t.getAttribute("data-scale")>o.core.outer.querySelector(".lg").clientWidth)||c)&&(e.preventDefault(),r={x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY})}});for(var t=0;t<o.core.___slide.length;t++)utils.on(o.core.___slide[t],"touchmove.lg",function(e){if(utils.hasClass(o.core.outer,"lg-zoomed")){var t,n,i=o.core.___slide[o.core.index].querySelector(".lg-img-wrap");e.preventDefault(),s=!0,a={x:e.targetTouches[0].pageX,y:e.targetTouches[0].pageY},utils.addClass(o.core.outer,"lg-zoom-dragging"),n=c?-Math.abs(i.getAttribute("data-y"))+(a.y-r.y):-Math.abs(i.getAttribute("data-y")),t=l?-Math.abs(i.getAttribute("data-x"))+(a.x-r.x):-Math.abs(i.getAttribute("data-x")),(15<Math.abs(a.x-r.x)||15<Math.abs(a.y-r.y))&&(o.core.s.useLeftForZoom?(i.style.left=t+"px",i.style.top=n+"px"):utils.setVendor(i,"Transform","translate3d("+t+"px, "+n+"px, 0)"))}});for(var n=0;n<o.core.___slide.length;n++)utils.on(o.core.___slide[n],"touchend.lg",function(){utils.hasClass(o.core.outer,"lg-zoomed")&&s&&(s=!1,utils.removeClass(o.core.outer,"lg-zoom-dragging"),o.touchendZoom(r,a,l,c))})},e.prototype.zoomDrag=function(){for(var o=this,r={},a={},s=!1,l=!1,c=!1,d=!1,e=0;e<o.core.___slide.length;e++)utils.on(o.core.___slide[e],"mousedown.lgzoom",function(e){var t=o.core.___slide[o.core.index].querySelector(".lg-object");d=t.offsetHeight*t.getAttribute("data-scale")>o.core.outer.querySelector(".lg").clientHeight,c=t.offsetWidth*t.getAttribute("data-scale")>o.core.outer.querySelector(".lg").clientWidth,utils.hasClass(o.core.outer,"lg-zoomed")&&utils.hasClass(e.target,"lg-object")&&(c||d)&&(e.preventDefault(),r={x:e.pageX,y:e.pageY},s=!0,o.core.outer.scrollLeft+=1,--o.core.outer.scrollLeft,utils.removeClass(o.core.outer,"lg-grab"),utils.addClass(o.core.outer,"lg-grabbing"))});utils.on(window,"mousemove.lgzoom",function(e){if(s){var t,n,i=o.core.___slide[o.core.index].querySelector(".lg-img-wrap");l=!0,a={x:e.pageX,y:e.pageY},utils.addClass(o.core.outer,"lg-zoom-dragging"),n=d?-Math.abs(i.getAttribute("data-y"))+(a.y-r.y):-Math.abs(i.getAttribute("data-y")),t=c?-Math.abs(i.getAttribute("data-x"))+(a.x-r.x):-Math.abs(i.getAttribute("data-x")),o.core.s.useLeftForZoom?(i.style.left=t+"px",i.style.top=n+"px"):utils.setVendor(i,"Transform","translate3d("+t+"px, "+n+"px, 0)")}}),utils.on(window,"mouseup.lgzoom",function(e){s&&(s=!1,utils.removeClass(o.core.outer,"lg-zoom-dragging"),!l||r.x===a.x&&r.y===a.y||(a={x:e.pageX,y:e.pageY},o.touchendZoom(r,a,c,d)),l=!1),utils.removeClass(o.core.outer,"lg-grabbing"),utils.addClass(o.core.outer,"lg-grab")})},e.prototype.touchendZoom=function(e,t,n,i){var o=this.core.___slide[this.core.index].querySelector(".lg-img-wrap"),r=this.core.___slide[this.core.index].querySelector(".lg-object"),a=-Math.abs(o.getAttribute("data-x"))+(t.x-e.x),s=-Math.abs(o.getAttribute("data-y"))+(t.y-e.y),l=(this.core.outer.querySelector(".lg").clientHeight-r.offsetHeight)/2,c=Math.abs(r.offsetHeight*Math.abs(r.getAttribute("data-scale"))-this.core.outer.querySelector(".lg").clientHeight+l),d=(this.core.outer.querySelector(".lg").clientWidth-r.offsetWidth)/2,u=Math.abs(r.offsetWidth*Math.abs(r.getAttribute("data-scale"))-this.core.outer.querySelector(".lg").clientWidth+d);(15<Math.abs(t.x-e.x)||15<Math.abs(t.y-e.y))&&(i&&(s<=-c?s=-c:-l<=s&&(s=-l)),n&&(a<=-u?a=-u:-d<=a&&(a=-d)),i?o.setAttribute("data-y",Math.abs(s)):s=-Math.abs(o.getAttribute("data-y")),n?o.setAttribute("data-x",Math.abs(a)):a=-Math.abs(o.getAttribute("data-x")),this.core.s.useLeftForZoom?(o.style.left=a+"px",o.style.top=s+"px"):utils.setVendor(o,"Transform","translate3d("+a+"px, "+s+"px, 0)"))},e.prototype.destroy=function(){utils.off(this.core.el,".lgzoom"),utils.off(window,".lgzoom");for(var e=0;e<this.core.___slide.length;e++)utils.off(this.core.___slide[e],".lgzoom");utils.off(this.core.el,".lgtmzoom"),this.resetZoom(),clearTimeout(this.zoomabletimeout),this.zoomabletimeout=!1},window.lgModules.zoom=e})},{}]},{},[1])(1)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgThumbnail=e()}}(function(){return function r(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,r,a,s,l)}return s[n].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){!function(e,t){if(0,void 0!==n)t();else{t(),e.lgThumbnail={}}}(this,function(){"use strict";function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=t({},n,this.core.s),this.thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.left=0,this.init(),this}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toggleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0};e.prototype.init=function(){var e=this;this.core.s.thumbnail&&1<this.core.items.length&&(this.core.s.showThumbByDefault&&setTimeout(function(){utils.addClass(e.core.outer,"lg-thumb-open")},700),this.core.s.pullCaptionUp&&utils.addClass(this.core.outer,"lg-pull-caption-up"),this.build(),this.core.s.animateThumb?(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggle(),this.thumbkeyPress())},e.prototype.build=function(){var i,a=this,s="",l="";switch(this.core.s.vimeoThumbSize){case"thumbnail_large":l="640";break;case"thumbnail_medium":l="200x150";break;case"thumbnail_small":l="100x75"}function e(e,t,n){var i,o=a.core.isVideo(e,n)||{},r="";o.youtube||o.vimeo||o.dailymotion?o.youtube?i=a.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+o.youtube[1]+"/"+a.core.s.youtubeThumbSize+".jpg":t:o.vimeo?a.core.s.loadVimeoThumbnail?(i="//i.vimeocdn.com/video/error_"+l+".jpg",r=o.vimeo[1]):i=t:o.dailymotion&&(i=a.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+o.dailymotion[1]:t):i=t,s+='<div data-vimeo-id="'+r+'" class="lg-thumb-item" style="width:'+a.core.s.thumbWidth+"px; margin-right: "+a.core.s.thumbMargin+'px"><img src="'+i+'" /></div>',r=""}if(utils.addClass(a.core.outer,"lg-has-thumb"),a.core.outer.querySelector(".lg").insertAdjacentHTML("beforeend",'<div class="lg-thumb-outer"><div class="lg-thumb group"></div></div>'),a.thumbOuter=a.core.outer.querySelector(".lg-thumb-outer"),a.thumbOuterWidth=a.thumbOuter.offsetWidth,a.core.s.animateThumb&&(a.core.outer.querySelector(".lg-thumb").style.width=a.thumbTotalWidth+"px",a.core.outer.querySelector(".lg-thumb").style.position="relative"),this.core.s.animateThumb&&(a.thumbOuter.style.height=a.core.s.thumbContHeight+"px"),a.core.s.dynamic)for(var t=0;t<a.core.s.dynamicEl.length;t++)e(a.core.s.dynamicEl[t].src,a.core.s.dynamicEl[t].thumb,t);else for(var n=0;n<a.core.items.length;n++)a.core.s.exThumbImage?e(a.core.items[n].getAttribute("href")||a.core.items[n].getAttribute("data-src"),a.core.items[n].getAttribute(a.core.s.exThumbImage),n):e(a.core.items[n].getAttribute("href")||a.core.items[n].getAttribute("data-src"),a.core.items[n].querySelector("img").getAttribute("src"),n);a.core.outer.querySelector(".lg-thumb").innerHTML=s,i=a.core.outer.querySelectorAll(".lg-thumb-item");for(var o=0;o<i.length;o++)!function(){var t=i[o],e=t.getAttribute("data-vimeo-id");if(e){window["lgJsonP"+a.el.getAttribute("lg-uid")+o]=function(e){t.querySelector("img").setAttribute("src",e[0][a.core.s.vimeoThumbSize])};var n=document.createElement("script");n.className="lg-script",n.src="//www.vimeo.com/api/v2/video/"+e+".json?callback=lgJsonP"+a.el.getAttribute("lg-uid")+o,document.body.appendChild(n)}}();utils.addClass(i[a.core.index],"active"),utils.on(a.core.el,"onBeforeSlide.lgtm",function(){for(var e=0;e<i.length;e++)utils.removeClass(i[e],"active");utils.addClass(i[a.core.index],"active")});for(var r=0;r<i.length;r++)!function(e){utils.on(i[e],"click.lg touchend.lg",function(){setTimeout(function(){(!a.thumbClickable||a.core.lgBusy)&&a.core.doCss()||(a.core.index=e,a.core.slide(a.core.index,!1,!0))},50)})}(r);utils.on(a.core.el,"onBeforeSlide.lgtm",function(){a.animateThumb(a.core.index)}),utils.on(window,"resize.lgthumb orientationchange.lgthumb",function(){setTimeout(function(){a.animateThumb(a.core.index),a.thumbOuterWidth=a.thumbOuter.offsetWidth},200)})},e.prototype.setTranslate=function(e){utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"Transform","translate3d(-"+e+"px, 0px, 0px)")},e.prototype.animateThumb=function(e){var t=this.core.outer.querySelector(".lg-thumb");if(this.core.s.animateThumb){var n;switch(this.core.s.currentPagerPosition){case"left":n=0;break;case"middle":n=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":n=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*e-1-n,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn&&(utils.hasClass(t,"on")||utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"TransitionDuration",this.core.s.speed+"ms")),this.core.doCss()||(t.style.left=-this.left+"px"),this.setTranslate(this.left)}},e.prototype.enableThumbDrag=function(){var t=this,n=0,i=0,o=!1,r=!1,a=0;utils.addClass(t.thumbOuter,"lg-grab"),utils.on(t.core.outer.querySelector(".lg-thumb"),"mousedown.lgthumb",function(e){t.thumbTotalWidth>t.thumbOuterWidth&&(e.preventDefault(),n=e.pageX,o=!0,t.core.outer.scrollLeft+=1,--t.core.outer.scrollLeft,t.thumbClickable=!1,utils.removeClass(t.thumbOuter,"lg-grab"),utils.addClass(t.thumbOuter,"lg-grabbing"))}),utils.on(window,"mousemove.lgthumb",function(e){o&&(a=t.left,r=!0,i=e.pageX,utils.addClass(t.thumbOuter,"lg-dragging"),(a-=i-n)>t.thumbTotalWidth-t.thumbOuterWidth&&(a=t.thumbTotalWidth-t.thumbOuterWidth),a<0&&(a=0),t.setTranslate(a))}),utils.on(window,"mouseup.lgthumb",function(){r?(r=!1,utils.removeClass(t.thumbOuter,"lg-dragging"),t.left=a,Math.abs(i-n)<t.core.s.swipeThreshold&&(t.thumbClickable=!0)):t.thumbClickable=!0,o&&(o=!1,utils.removeClass(t.thumbOuter,"lg-grabbing"),utils.addClass(t.thumbOuter,"lg-grab"))})},e.prototype.enableThumbSwipe=function(){var t=this,n=0,i=0,o=!1,r=0;utils.on(t.core.outer.querySelector(".lg-thumb"),"touchstart.lg",function(e){t.thumbTotalWidth>t.thumbOuterWidth&&(e.preventDefault(),n=e.targetTouches[0].pageX,t.thumbClickable=!1)}),utils.on(t.core.outer.querySelector(".lg-thumb"),"touchmove.lg",function(e){t.thumbTotalWidth>t.thumbOuterWidth&&(e.preventDefault(),i=e.targetTouches[0].pageX,o=!0,utils.addClass(t.thumbOuter,"lg-dragging"),r=t.left,(r-=i-n)>t.thumbTotalWidth-t.thumbOuterWidth&&(r=t.thumbTotalWidth-t.thumbOuterWidth),r<0&&(r=0),t.setTranslate(r))}),utils.on(t.core.outer.querySelector(".lg-thumb"),"touchend.lg",function(){t.thumbTotalWidth>t.thumbOuterWidth&&o?(o=!1,utils.removeClass(t.thumbOuter,"lg-dragging"),Math.abs(i-n)<t.core.s.swipeThreshold&&(t.thumbClickable=!0),t.left=r):t.thumbClickable=!0})},e.prototype.toggle=function(){var e=this;e.core.s.toggleThumb&&(utils.addClass(e.core.outer,"lg-can-toggle"),e.thumbOuter.insertAdjacentHTML("beforeend",'<span class="lg-toggle-thumb lg-icon"></span>'),utils.on(e.core.outer.querySelector(".lg-toggle-thumb"),"click.lg",function(){utils.hasClass(e.core.outer,"lg-thumb-open")?utils.removeClass(e.core.outer,"lg-thumb-open"):utils.addClass(e.core.outer,"lg-thumb-open")}))},e.prototype.thumbkeyPress=function(){var t=this;utils.on(window,"keydown.lgthumb",function(e){38===e.keyCode?(e.preventDefault(),utils.addClass(t.core.outer,"lg-thumb-open")):40===e.keyCode&&(e.preventDefault(),utils.removeClass(t.core.outer,"lg-thumb-open"))})},e.prototype.destroy=function(){if(this.core.s.thumbnail&&1<this.core.items.length){utils.off(window,".lgthumb"),this.thumbOuter.parentNode.removeChild(this.thumbOuter),utils.removeClass(this.core.outer,"lg-has-thumb");for(var e=document.getElementsByClassName("lg-script");e[0];)e[0].parentNode.removeChild(e[0])}},window.lgModules.thumbnail=e})},{}]},{},[1])(1)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgVideo=e()}}(function(){return function r(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,r,a,s,l)}return s[n].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){!function(e,t){if(0,void 0!==n)t();else{t(),e.lgVideo={}}}(this,function(){"use strict";function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=t({},n,this.core.s),this.videoLoaded=!1,this.init(),this}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n={videoMaxWidth:"100%",videoMarginRight:"0px",youtubePlayerParams:!1,vimeoPlayerParams:!1,dailymotionPlayerParams:!1,vkPlayerParams:!1,videojs:!1,videojsOptions:{}};e.prototype.init=function(){var c=this;utils.on(c.core.el,"hasVideo.lgtm",function(e){if(c.core.___slide[e.detail.index].querySelector(".lg-video").insertAdjacentHTML("beforeend",c.loadVideo(e.detail.src,"lg-object",!0,e.detail.index,e.detail.html)),e.detail.html)if(c.core.s.videojs)try{videojs(c.core.___slide[e.detail.index].querySelector(".lg-html5"),c.core.s.videojsOptions,function(){c.videoLoaded||this.play()})}catch(e){console.error("Make sure you have included videojs")}else c.core.___slide[e.detail.index].querySelector(".lg-html5").play()}),utils.on(c.core.el,"onAferAppendSlide.lgtm",function(e){if(c.core.___slide[e.detail.index].querySelector(".lg-video-cont")){var t=c.core.___slide[e.detail.index].querySelector(".lg-video-cont");t.style.maxWidth=c.core.s.videoMaxWidth,t.style.marginRight=c.core.s.videoMarginRight,c.videoLoaded=!0}});function t(n){if(utils.hasClass(n.querySelector(".lg-object"),"lg-has-poster")&&"none"!==n.querySelector(".lg-object").style.display)if(utils.hasClass(n,"lg-has-video")){var e=n.querySelector(".lg-youtube"),t=n.querySelector(".lg-vimeo"),i=n.querySelector(".lg-dailymotion"),o=n.querySelector(".lg-html5");if(e)e.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*");else if(t)try{$f(t).api("play")}catch(e){console.error("Make sure you have included froogaloop2 js")}else if(i)i.contentWindow.postMessage("play","*");else if(o)if(c.core.s.videojs)try{videojs(o).play()}catch(e){console.error("Make sure you have included videojs")}else o.play();utils.addClass(n,"lg-video-playing")}else{utils.addClass(n,"lg-video-playing"),utils.addClass(n,"lg-has-video");var r=function(e,t){if(n.querySelector(".lg-video").insertAdjacentHTML("beforeend",c.loadVideo(e,"",!1,c.core.index,t)),t)if(c.core.s.videojs)try{videojs(c.core.___slide[c.core.index].querySelector(".lg-html5"),c.core.s.videojsOptions,function(){this.play()})}catch(e){console.error("Make sure you have included videojs")}else c.core.___slide[c.core.index].querySelector(".lg-html5").play()};c.core.s.dynamic?r(c.core.s.dynamicEl[c.core.index].src,c.core.s.dynamicEl[c.core.index].html):r(c.core.items[c.core.index].getAttribute("href")||c.core.items[c.core.index].getAttribute("data-src"),c.core.items[c.core.index].getAttribute("data-html"));var a=n.querySelector(".lg-object");n.querySelector(".lg-video").appendChild(a),utils.hasClass(n.querySelector(".lg-video-object"),"lg-html5")||(utils.removeClass(n,"lg-complete"),utils.on(n.querySelector(".lg-video-object"),"load.lg error.lg",function(){utils.addClass(n,"lg-complete")}))}}if(c.core.doCss()&&1<c.core.items.length&&(c.core.s.enableSwipe&&c.core.isTouch||c.core.s.enableDrag&&!c.core.isTouch))utils.on(c.core.el,"onSlideClick.lgtm",function(){var e=c.core.___slide[c.core.index];t(e)});else for(var e=0;e<c.core.___slide.length;e++)!function(e){utils.on(c.core.___slide[e],"click.lg",function(){t(c.core.___slide[e])})}(e);utils.on(c.core.el,"onBeforeSlide.lgtm",function(e){var t,n=c.core.___slide[e.detail.prevIndex],i=n.querySelector(".lg-youtube"),o=n.querySelector(".lg-vimeo"),r=n.querySelector(".lg-dailymotion"),a=n.querySelector(".lg-vk"),s=n.querySelector(".lg-html5");if(i)i.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");else if(o)try{$f(o).api("pause")}catch(e){console.error("Make sure you have included froogaloop2 js")}else if(r)r.contentWindow.postMessage("pause","*");else if(s)if(c.core.s.videojs)try{videojs(s).pause()}catch(e){console.error("Make sure you have included videojs")}else s.pause();a&&a.setAttribute("src",a.getAttribute("src").replace("&autoplay","&noplay")),t=c.core.s.dynamic?c.core.s.dynamicEl[e.detail.index].src:c.core.items[e.detail.index].getAttribute("href")||c.core.items[e.detail.index].getAttribute("data-src");var l=c.core.isVideo(t,e.detail.index)||{};(l.youtube||l.vimeo||l.dailymotion||l.vk)&&utils.addClass(c.core.outer,"lg-hide-download")}),utils.on(c.core.el,"onAfterSlide.lgtm",function(e){utils.removeClass(c.core.___slide[e.detail.prevIndex],"lg-video-playing")})},e.prototype.loadVideo=function(e,t,n,i,o){var r="",a=1,s="",l=this.core.isVideo(e,i)||{};if(n&&(a=this.videoLoaded?0:1),l.youtube)s="?wmode=opaque&autoplay="+a+"&enablejsapi=1",this.core.s.youtubePlayerParams&&(s=s+"&"+utils.param(this.core.s.youtubePlayerParams)),r='<iframe class="lg-video-object lg-youtube '+t+'" width="560" height="315" src="//www.youtube.com/embed/'+l.youtube[1]+s+'" frameborder="0" allowfullscreen></iframe>';else if(l.vimeo)s="?autoplay="+a+"&api=1",this.core.s.vimeoPlayerParams&&(s=s+"&"+utils.param(this.core.s.vimeoPlayerParams)),r='<iframe class="lg-video-object lg-vimeo '+t+'" width="560" height="315"  src="//player.vimeo.com/video/'+l.vimeo[1]+s+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';else if(l.dailymotion)s="?wmode=opaque&autoplay="+a+"&api=postMessage",this.core.s.dailymotionPlayerParams&&(s=s+"&"+utils.param(this.core.s.dailymotionPlayerParams)),r='<iframe class="lg-video-object lg-dailymotion '+t+'" width="560" height="315" src="//www.dailymotion.com/embed/video/'+l.dailymotion[1]+s+'" frameborder="0" allowfullscreen></iframe>';else if(l.html5){var c=o.substring(0,1);console.log(o),"."!==c&&"#"!==c||(o=document.querySelector(o).innerHTML),r=o}else l.vk&&(s="&autoplay="+a,this.core.s.vkPlayerParams&&(s=s+"&"+utils.param(this.core.s.vkPlayerParams)),r='<iframe class="lg-video-object lg-vk '+t+'" width="560" height="315" src="http://vk.com/video_ext.php?'+l.vk[1]+s+'" frameborder="0" allowfullscreen></iframe>');return r},e.prototype.destroy=function(){this.videoLoaded=!1},window.lgModules.video=e})},{}]},{},[1])(1)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).LgHash=e()}}(function(){return function r(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,r,a,s,l)}return s[n].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){!function(e,t){if(0,void 0!==n)t();else{t(),e.lgHash={}}}(this,function(){"use strict";function e(e){return this.el=e,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=t({},n,this.core.s),this.core.s.hash&&(this.oldHash=window.location.hash,this.init()),this}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},n={hash:!0};e.prototype.init=function(){var t,n=this;utils.on(n.core.el,"onAfterSlide.lgtm",function(e){window.location.hash="lg="+n.core.s.galleryId+"&slide="+e.detail.index}),utils.on(window,"hashchange.lghash",function(){t=window.location.hash;var e=parseInt(t.split("&slide=")[1],10);-1<t.indexOf("lg="+n.core.s.galleryId)?n.core.slide(e,!1,!1):n.core.lGalleryOn&&n.core.destroy()})},e.prototype.destroy=function(){this.core.s.hash&&(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0?window.location.hash=this.oldHash:history.pushState?history.pushState("",document.title,window.location.pathname+window.location.search):window.location.hash="",utils.off(this.core.el,".lghash"))},window.lgModules.hash=e})},{}]},{},[1])(1)}),function(s,i,o,l){var c=s(i);s.fn.lazyload=function(e){var t,r=this,a={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:i,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function n(){var t=0;r.each(function(){var e=s(this);if((!a.skip_invisible||e.is(":visible"))&&!s.abovethetop(this,a)&&!s.leftofbegin(this,a))if(s.belowthefold(this,a)||s.rightoffold(this,a)){if(++t>a.failure_limit)return!1}else e.trigger("appear"),t=0})}return e&&(l!==e.failurelimit&&(e.failure_limit=e.failurelimit,delete e.failurelimit),l!==e.effectspeed&&(e.effect_speed=e.effectspeed,delete e.effectspeed),s.extend(a,e)),t=a.container===l||a.container===i?c:s(a.container),0===a.event.indexOf("scroll")&&t.bind(a.event,function(){return n()}),this.each(function(){var i=this,o=s(i);i.loaded=!1,o.attr("src")!==l&&!1!==o.attr("src")||o.is("img")&&o.attr("src",a.placeholder),o.one("appear",function(){if(!this.loaded){if(a.appear){var e=r.length;a.appear.call(i,e,a)}s("<img />").bind("load",function(){var e=o.attr("data-"+a.data_attribute);o.hide(),o.is("img")?o.attr("src",e):o.css("background-image","url('"+e+"')"),o[a.effect](a.effect_speed),i.loaded=!0;var t=s.grep(r,function(e){return!e.loaded});if(r=s(t),a.load){var n=r.length;a.load.call(i,n,a)}}).attr("src",o.attr("data-"+a.data_attribute))}}),0!==a.event.indexOf("scroll")&&o.bind(a.event,function(){i.loaded||o.trigger("appear")})}),c.bind("resize",function(){n()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&c.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&r.each(function(){s(this).trigger("appear")})}),s(o).ready(function(){n()}),this},s.belowthefold=function(e,t){return(t.container===l||t.container===i?(i.innerHeight?i.innerHeight:c.height())+c.scrollTop():s(t.container).offset().top+s(t.container).height())<=s(e).offset().top-t.threshold},s.rightoffold=function(e,t){return(t.container===l||t.container===i?c.width()+c.scrollLeft():s(t.container).offset().left+s(t.container).width())<=s(e).offset().left-t.threshold},s.abovethetop=function(e,t){return(t.container===l||t.container===i?c.scrollTop():s(t.container).offset().top)>=s(e).offset().top+t.threshold+s(e).height()},s.leftofbegin=function(e,t){return(t.container===l||t.container===i?c.scrollLeft():s(t.container).offset().left)>=s(e).offset().left+t.threshold+s(e).width()},s.inviewport=function(e,t){return!(s.rightoffold(e,t)||s.leftofbegin(e,t)||s.belowthefold(e,t)||s.abovethetop(e,t))},s.extend(s.expr[":"],{"below-the-fold":function(e){return s.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!s.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return s.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!s.rightoffold(e,{threshold:0})},"in-viewport":function(e){return s.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!s.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return s.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!s.rightoffold(e,{threshold:0})}})}(jQuery,window,document),function(){var o=jQuery.event.special,t="D"+ +new Date,n="D"+(+new Date+1);o.scrollstart={setup:function(){function e(e){var t=arguments;n?clearTimeout(n):(e.type="scrollstart",jQuery.event.dispatch.apply(this,t)),n=setTimeout(function(){n=null},o.scrollstop.latency)}var n;jQuery(this).bind("scroll",e).data(t,e)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(t))}},o.scrollstop={latency:300,setup:function(){function e(e){var t=this,n=arguments;i&&clearTimeout(i),i=setTimeout(function(){i=null,e.type="scrollstop",jQuery.event.dispatch.apply(t,n)},o.scrollstop.latency)}var i;jQuery(this).bind("scroll",e).data(n,e)},teardown:function(){jQuery(this).unbind("scroll",jQuery(this).data(n))}}}(),function(f){"use strict";function t(e){var t=this;t.index=++g.index,t.config=m.extend({},t.config,d.config,e),document.body?t.creat():setTimeout(function(){t.creat()},50)}var m,c,e,n=f.layui&&layui.define,d={getPath:function(){var e=document.scripts,t=e[e.length-1],n=t.src;if(!t.getAttribute("merge"))return n.substring(0,n.lastIndexOf("/")+1)}(),config:{},end:{},minIndex:0,minLeft:[],btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},g={v:"3.0",ie:(e=navigator.userAgent.toLowerCase(),!!(f.ActiveXObject||"ActiveXObject"in f)&&((e.match(/msie\s(\d+)/)||[])[1]||"11")),index:f.layer&&f.layer.v?1e5:0,path:d.getPath,config:function(e,t){return e=e||{},g.cache=d.config=m.extend({},d.config,e),g.path=d.config.path||g.path,"string"==typeof e.extend&&(e.extend=[e.extend]),e.extend&&(n?layui.addcss("modules/layer/"+e.extend):g.link("skin/"+e.extend)),this},link:function(e,t,n){if(g.path){var i=m("head")[0],o=document.createElement("link");"string"==typeof t&&(n=t);var r="layuicss-"+(n||e).replace(/\.|\//g,""),a=0;o.rel="stylesheet",o.href=g.path+e,o.id=r,m("#"+r)[0]||i.appendChild(o),"function"==typeof t&&function e(){return 80<++a?f.console&&console.error("layer.css: Invalid"):void(1989===parseInt(m("#"+r).css("width"))?t():setTimeout(e,100))}()}},ready:function(e){return this},alert:function(e,t,n){var i="function"==typeof t;return i&&(n=t),g.open(m.extend({content:e,yes:n},i?{}:t))},confirm:function(e,t,n,i){var o="function"==typeof t;return o&&(i=n,n=t),g.open(m.extend({content:e,btn:d.btn,yes:n,btn2:i},o?{}:t))},msg:function(e,t,n){var i="function"==typeof t,o=d.config.skin,r=(o?o+" "+o+"-msg":"")||"layui-layer-msg",a=u.anim.length-1;return i&&(n=t),g.open(m.extend({content:e,time:3e3,shade:!1,skin:r,title:!1,closeBtn:!1,btn:!1,resize:!1,end:n},i&&!d.config.skin?{skin:r+" layui-layer-hui",anim:a}:(-1!==(t=t||{}).icon&&(void 0!==t.icon||d.config.skin)||(t.skin=r+" "+(t.skin||"layui-layer-hui")),t)))},load:function(e,t){return g.open(m.extend({type:3,icon:e||0,resize:!1,shade:.01},t))},tips:function(e,t,n){return g.open(m.extend({type:4,content:[e,t],closeBtn:!1,time:3e3,shade:!1,resize:!1,fixed:!1,maxWidth:210},n))}};t.pt=t.prototype;var u=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];u.anim=["layer-anim","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"],t.pt.config={type:0,shade:.3,fixed:!0,move:u[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,anim:0,icon:-1,moveType:1,resize:!0,scrollbar:!0,tips:2},t.pt.vessel=function(e,t){var n,i=this.index,o=this.config,r=o.zIndex+i,a="object"==typeof o.title,s=o.maxmin&&(1===o.type||2===o.type),l=o.title?'<div class="layui-layer-title" style="'+(a?o.title[1]:"")+'">'+(a?o.title[0]:o.title)+"</div>":"";return o.zIndex=r,t([o.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+i+'" times="'+i+'" style="z-index:'+(r-1)+"; background-color:"+(o.shade[1]||"#000")+"; opacity:"+(o.shade[0]||o.shade)+"; filter:alpha(opacity="+(100*o.shade[0]||100*o.shade)+');"></div>':"",'<div class="'+u[0]+" layui-layer-"+d.type[o.type]+(0!=o.type&&2!=o.type||o.shade?"":" layui-layer-border")+" "+(o.skin||"")+'" id="'+u[0]+i+'" type="'+d.type[o.type]+'" times="'+i+'" showtime="'+o.time+'" conType="'+(e?"object":"string")+'" style="z-index: '+r+"; width:"+o.area[0]+";height:"+o.area[1]+(o.fixed?"":";position:absolute;")+'">'+(e&&2!=o.type?"":l)+'<div id="'+(o.id||"")+'" class="layui-layer-content'+(0==o.type&&-1!==o.icon?" layui-layer-padding":"")+(3==o.type?" layui-layer-loading"+o.icon:"")+'">'+(0==o.type&&-1!==o.icon?'<i class="layui-layer-ico layui-layer-ico'+o.icon+'"></i>':"")+((1!=o.type||!e)&&o.content||"")+'</div><span class="layui-layer-setwin">'+(n=s?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"",o.closeBtn&&(n+='<a class="layui-layer-ico '+u[7]+" "+u[7]+(o.title?o.closeBtn:4==o.type?"1":"2")+'" href="javascript:;"></a>'),n)+"</span>"+(o.btn?function(){var e="";"string"==typeof o.btn&&(o.btn=[o.btn]);for(var t=0,n=o.btn.length;t<n;t++)e+='<a class="'+u[6]+t+'">'+o.btn[t]+"</a>";return'<div class="'+u[6]+" layui-layer-btn-"+(o.btnAlign||"")+'">'+e+"</div>"}():"")+(o.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],l,m('<div class="layui-layer-move"></div>')),this},t.pt.creat=function(){var i=this,o=i.config,r=i.index,a="object"==typeof(l=o.content),s=m("body");if(!m("#"+o.id)[0]){switch("string"==typeof o.area&&(o.area="auto"===o.area?["",""]:[o.area,""]),o.shift&&(o.anim=o.shift),6==g.ie&&(o.fixed=!1),o.type){case 0:o.btn="btn"in o?o.btn:d.btn[0],g.closeAll("dialog");break;case 2:var l=o.content=a?o.content:[o.content||"http://layer.layui.com","auto"];o.content='<iframe scrolling="'+(o.content[1]||"auto")+'" allowtransparency="true" id="'+u[4]+r+'" name="'+u[4]+r+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+o.content[0]+'"></iframe>';break;case 3:delete o.title,delete o.closeBtn,-1===o.icon&&o.icon,g.closeAll("loading");break;case 4:a||(o.content=[o.content,"body"]),o.follow=o.content[1],o.content=o.content[0]+'<i class="layui-layer-TipsG"></i>',delete o.title,o.tips="object"==typeof o.tips?o.tips:[o.tips,!0],o.tipsMore||g.closeAll("tips")}i.vessel(a,function(e,t,n){s.append(e[0]),a?2==o.type||4==o.type?m("body").append(e[1]):l.parents("."+u[0])[0]||(l.data("display",l.css("display")).show().addClass("layui-layer-wrap").wrap(e[1]),m("#"+u[0]+r).find("."+u[5]).before(t)):s.append(e[1]),m(".layui-layer-move")[0]||s.append(d.moveElem=n),i.layero=m("#"+u[0]+r),o.scrollbar||u.html.css("overflow","hidden").attr("layer-full",r)}).auto(r),2==o.type&&6==g.ie&&i.layero.find("iframe").attr("src",l[0]),4==o.type?i.tips():i.offset(),o.fixed&&c.on("resize",function(){i.offset(),(/^\d+%$/.test(o.area[0])||/^\d+%$/.test(o.area[1]))&&i.auto(r),4==o.type&&i.tips()}),o.time<=0||setTimeout(function(){g.close(i.index)},o.time),i.move().callback(),u.anim[o.anim]&&i.layero.addClass(u.anim[o.anim])}},t.pt.auto=function(e){function t(e){(e=i.find(e)).height(o[1]-r-a-2*(0|parseFloat(e.css("padding"))))}var n=this.config,i=m("#"+u[0]+e);""===n.area[0]&&0<n.maxWidth&&(g.ie&&g.ie<8&&n.btn&&i.width(i.innerWidth()),i.outerWidth()>n.maxWidth&&i.width(n.maxWidth));var o=[i.innerWidth(),i.innerHeight()],r=i.find(u[1]).outerHeight()||0,a=i.find("."+u[6]).outerHeight()||0;switch(n.type){case 2:t("iframe");break;default:""===n.area[1]?n.fixed&&o[1]>=c.height()&&(o[1]=c.height(),t("."+u[5])):t("."+u[5])}return this},t.pt.offset=function(){var e=this,t=e.config,n=e.layero,i=[n.outerWidth(),n.outerHeight()],o="object"==typeof t.offset;e.offsetTop=(c.height()-i[1])/2,e.offsetLeft=(c.width()-i[0])/2,o?(e.offsetTop=t.offset[0],e.offsetLeft=t.offset[1]||e.offsetLeft):"auto"!==t.offset&&("t"===t.offset?e.offsetTop=0:"r"===t.offset?e.offsetLeft=c.width()-i[0]:"b"===t.offset?e.offsetTop=c.height()-i[1]:"l"===t.offset?e.offsetLeft=0:"lt"===t.offset?(e.offsetTop=0,e.offsetLeft=0):"lb"===t.offset?(e.offsetTop=c.height()-i[1],e.offsetLeft=0):"rt"===t.offset?(e.offsetTop=0,e.offsetLeft=c.width()-i[0]):"rb"===t.offset?(e.offsetTop=c.height()-i[1],e.offsetLeft=c.width()-i[0]):e.offsetTop=t.offset),t.fixed||(e.offsetTop=/%$/.test(e.offsetTop)?c.height()*parseFloat(e.offsetTop)/100:parseFloat(e.offsetTop),e.offsetLeft=/%$/.test(e.offsetLeft)?c.width()*parseFloat(e.offsetLeft)/100:parseFloat(e.offsetLeft),e.offsetTop+=c.scrollTop(),e.offsetLeft+=c.scrollLeft()),n.attr("minLeft")&&(e.offsetTop=c.height()-(n.find(u[1]).outerHeight()||0),e.offsetLeft=n.css("left")),n.css({top:e.offsetTop,left:e.offsetLeft})},t.pt.tips=function(){var e=this.config,t=this.layero,n=[t.outerWidth(),t.outerHeight()],i=m(e.follow);i[0]||(i=m("body"));var o={width:i.outerWidth(),height:i.outerHeight(),top:i.offset().top,left:i.offset().left},r=t.find(".layui-layer-TipsG"),a=e.tips[0];e.tips[1]||r.remove(),o.autoLeft=function(){0<o.left+n[0]-c.width()?(o.tipLeft=o.left+o.width-n[0],r.css({right:12,left:"auto"})):o.tipLeft=o.left},o.where=[function(){o.autoLeft(),o.tipTop=o.top-n[1]-10,r.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",e.tips[1])},function(){o.tipLeft=o.left+o.width+10,o.tipTop=o.top,r.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",e.tips[1])},function(){o.autoLeft(),o.tipTop=o.top+o.height+10,r.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",e.tips[1])},function(){o.tipLeft=o.left-n[0]-10,o.tipTop=o.top,r.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",e.tips[1])}],o.where[a-1](),1===a?o.top-(c.scrollTop()+n[1]+16)<0&&o.where[2]():2===a?0<c.width()-(o.left+o.width+n[0]+16)||o.where[3]():3===a?0<o.top-c.scrollTop()+o.height+n[1]+16-c.height()&&o.where[0]():4===a&&0<n[0]+16-o.left&&o.where[1](),t.find("."+u[5]).css({"background-color":e.tips[1],"padding-right":e.closeBtn?"30px":""}),t.css({left:o.tipLeft-(e.fixed?c.scrollLeft():0),top:o.tipTop-(e.fixed?c.scrollTop():0)})},t.pt.move=function(){var r=this,a=r.config,e=m(document),s=r.layero,t=s.find(a.move),n=s.find(".layui-layer-resize"),l={};return a.move&&t.css("cursor","move"),t.on("mousedown",function(e){e.preventDefault(),a.move&&(l.moveStart=!0,l.offset=[e.clientX-parseFloat(s.css("left")),e.clientY-parseFloat(s.css("top"))],d.moveElem.css("cursor","move").show())}),n.on("mousedown",function(e){e.preventDefault(),l.resizeStart=!0,l.offset=[e.clientX,e.clientY],l.area=[s.outerWidth(),s.outerHeight()],d.moveElem.css("cursor","se-resize").show()}),e.on("mousemove",function(e){if(l.moveStart){var t=e.clientX-l.offset[0],n=e.clientY-l.offset[1];if(e.preventDefault(),l.stX=a.fixed?0:c.scrollLeft(),l.stY=a.fixed?0:c.scrollTop(),!a.moveOut){var i=c.width()-s.outerWidth()+l.stX,o=c.height()-s.outerHeight()+l.stY;t<l.stX&&(t=l.stX),i<t&&(t=i),n<l.stY&&(n=l.stY),o<n&&(n=o)}s.css({left:t,top:n})}if(a.resize&&l.resizeStart){t=e.clientX-l.offset[0],n=e.clientY-l.offset[1];e.preventDefault(),g.style(r.index,{width:l.area[0]+t,height:l.area[1]+n}),l.isResize=!0}}).on("mouseup",function(e){l.moveStart&&(delete l.moveStart,d.moveElem.hide(),a.moveEnd&&a.moveEnd()),l.resizeStart&&(delete l.resizeStart,d.moveElem.hide())}),r},t.pt.callback=function(){var t=this,n=t.layero,i=t.config;t.openLayer(),i.success&&(2==i.type?n.find("iframe").on("load",function(){i.success(n,t.index)}):i.success(n,t.index)),6==g.ie&&t.IE6(n),n.find("."+u[6]).children("a").on("click",function(){var e=m(this).index();0===e?i.yes?i.yes(t.index,n):i.btn1?i.btn1(t.index,n):g.close(t.index):!1===(i["btn"+(e+1)]&&i["btn"+(e+1)](t.index,n))||g.close(t.index)}),n.find("."+u[7]).on("click",function(){!1===(i.cancel&&i.cancel(t.index,n))||g.close(t.index)}),i.shadeClose&&m("#layui-layer-shade"+t.index).on("click",function(){g.close(t.index)}),n.find(".layui-layer-min").on("click",function(){!1===(i.min&&i.min(n))||g.min(t.index,i)}),n.find(".layui-layer-max").on("click",function(){m(this).hasClass("layui-layer-maxmin")?(g.restore(t.index),i.restore&&i.restore(n)):(g.full(t.index,i),setTimeout(function(){i.full&&i.full(n)},100))}),i.end&&(d.end[t.index]=i.end)},d.reselect=function(){m.each(m("select"),function(e,t){var n=m(this);n.parents("."+u[0])[0]||1==n.attr("layer")&&m("."+u[0]).length<1&&n.removeAttr("layer").show(),n=null})},t.pt.IE6=function(e){m("select").each(function(e,t){var n=m(this);n.parents("."+u[0])[0]||"none"===n.css("display")||n.attr({layer:"1"}).hide(),n=null})},t.pt.openLayer=function(){g.zIndex=this.config.zIndex,g.setTop=function(e){return g.zIndex=parseInt(e[0].style.zIndex),e.on("mousedown",function(){g.zIndex++,e.css("z-index",g.zIndex+1)}),g.zIndex}},d.record=function(e){var t=[e.width(),e.height(),e.position().top,e.position().left+parseFloat(e.css("margin-left"))];e.find(".layui-layer-max").addClass("layui-layer-maxmin"),e.attr({area:t})},d.rescollbar=function(e){u.html.attr("layer-full")==e&&(u.html[0].style.removeProperty?u.html[0].style.removeProperty("overflow"):u.html[0].style.removeAttribute("overflow"),u.html.removeAttr("layer-full"))},(f.layer=g).getChildFrame=function(e,t){return t=t||m("."+u[4]).attr("times"),m("#"+u[0]+t).find("iframe").contents().find(e)},g.getFrameIndex=function(e){return m("#"+e).parents("."+u[4]).attr("times")},g.iframeAuto=function(e){if(e){var t=g.getChildFrame("html",e).outerHeight(),n=m("#"+u[0]+e),i=n.find(u[1]).outerHeight()||0,o=n.find("."+u[6]).outerHeight()||0;n.css({height:t+i+o}),n.find("iframe").css({height:t})}},g.iframeSrc=function(e,t){m("#"+u[0]+e).find("iframe").attr("src",t)},g.style=function(e,t){var n=m("#"+u[0]+e),i=n.find(".layui-layer-content"),o=n.attr("type"),r=n.find(u[1]).outerHeight()||0,a=n.find("."+u[6]).outerHeight()||0;o!==d.type[3]&&o!==d.type[4]&&(parseFloat(t.width)<=260&&(t.width=260),parseFloat(t.height)-r-a<=64&&(t.height=64+r+a),n.css(t),o===d.type[2]?n.find("iframe").css({height:parseFloat(t.height)-r-a}):i.css({height:parseFloat(t.height)-r-a-parseFloat(i.css("padding-top"))-parseFloat(i.css("padding-bottom"))}))},g.min=function(e,t){var n=m("#"+u[0]+e),i=n.find(u[1]).outerHeight()||0,o=n.attr("minLeft")||181*d.minIndex+"px";d.record(n),d.minLeft[0]&&(o=d.minLeft[0],d.minLeft.shift()),n.attr("position",n.css("position")),g.style(e,{width:180,height:i,left:o,top:c.height()-i,position:"fixed",overflow:"hidden"}),n.find(".layui-layer-min").hide(),"page"===n.attr("type")&&n.find(u[4]).hide(),d.rescollbar(e),n.attr("minLeft")||d.minIndex++,n.attr("minLeft",o)},g.restore=function(e){var t=m("#"+u[0]+e),n=t.attr("area").split(",");t.attr("type"),g.style(e,{width:parseFloat(n[0]),height:parseFloat(n[1]),top:parseFloat(n[2]),left:parseFloat(n[3]),position:t.attr("position"),overflow:"visible"}),t.find(".layui-layer-max").removeClass("layui-layer-maxmin"),t.find(".layui-layer-min").show(),"page"===t.attr("type")&&t.find(u[4]).show(),d.rescollbar(e)},g.full=function(t){var e,n=m("#"+u[0]+t);d.record(n),u.html.attr("layer-full")||u.html.css("overflow","hidden").attr("layer-full",t),clearTimeout(e),e=setTimeout(function(){var e="fixed"===n.css("position");g.style(t,{top:e?0:c.scrollTop(),left:e?0:c.scrollLeft(),width:c.width(),height:c.height()}),n.find(".layui-layer-min").hide()},100)},g.title=function(e,t){m("#"+u[0]+(t||g.index)).find(u[1]).html(e)},g.close=function(i){var o=m("#"+u[0]+i),r=o.attr("type");if(o[0]){o.addClass("layer-anim-close"),m("#layui-layer-moves, #layui-layer-shade"+i).remove(),6==g.ie&&d.reselect(),d.rescollbar(i),"function"==typeof d.end[i]&&d.end[i](),delete d.end[i],o.attr("minLeft")&&(d.minIndex--,d.minLeft.push(o.attr("minLeft"))),setTimeout(function(){!function(){if(r===d.type[1]&&"object"===o.attr("conType")){o.children(":not(."+u[5]+")").remove();for(var e=o.find(".layui-layer-wrap"),t=0;t<2;t++)e.unwrap();e.css("display",e.data("display"))}else{if(r===d.type[2])try{var n=m("#"+u[4]+i)[0];n.contentWindow.document.write(""),n.contentWindow.close(),o.find("."+u[5])[0].removeChild(n)}catch(e){}o[0].innerHTML="",o.remove()}}()},g.ie&&g.ie<10?0:200)}},g.closeAll=function(n){m.each(m("."+u[0]),function(){var e=m(this),t=n?e.attr("type")===n:1;t&&g.close(e.attr("times")),t=null})};function v(e){return i.skin?" "+i.skin+" "+i.skin+"-"+e:""}var i=g.cache||{};g.prompt=function(n,i){var e="";if("function"==typeof(n=n||{})&&(i=n),n.area){var t=n.area;e='style="width: '+t[0]+"; height: "+t[1]+';"',delete n.area}var o,r=2==n.formType?'<textarea class="layui-layer-input"'+e+">"+(n.value||"")+"</textarea>":'<input type="'+(1==n.formType?"password":"text")+'" class="layui-layer-input" value="'+(n.value||"")+'">';return g.open(m.extend({type:1,btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:r,skin:"layui-layer-prompt"+v("prompt"),maxWidth:c.width(),success:function(e){(o=e.find(".layui-layer-input")).focus()},resize:!1,yes:function(e){var t=o.val();""===t?o.focus():t.length>(n.maxlength||500)?g.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(n.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",o,{tips:1}):i&&i(t,e,o)}},n))},g.tab=function(o){var i=(o=o||{}).tab||{};return g.open(m.extend({type:1,skin:"layui-layer-tab"+v("tab"),resize:!1,title:function(){var e=i.length,t=1,n="";if(0<e)for(n='<span class="layui-layer-tabnow">'+i[0].title+"</span>";t<e;t++)n+="<span>"+i[t].title+"</span>";return n}(),content:'<ul class="layui-layer-tabmain">'+function(){var e=i.length,t=1,n="";if(0<e)for(n='<li class="layui-layer-tabli xubox_tab_layer">'+(i[0].content||"no content")+"</li>";t<e;t++)n+='<li class="layui-layer-tabli">'+(i[t].content||"no  content")+"</li>";return n}()+"</ul>",success:function(e){var t=e.find(".layui-layer-title").children(),i=e.find(".layui-layer-tabmain").children();t.on("mousedown",function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0;var t=m(this),n=t.index();t.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow"),i.eq(n).show().siblings().hide(),"function"==typeof o.change&&o.change(n)})}},o))},g.photos=function(i,e,o){var t,n,r,a,s={};if((i=i||{}).photos){var l=i.photos.constructor===Object,c=l?i.photos:{},d=c.data||[],u=c.start||0;if(s.imgIndex=1+(0|u),i.img=i.img||"img",l){if(0===d.length)return g.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}else{var h=m(i.photos),p=function(){d=[],h.find(i.img).each(function(e){var t=m(this);t.attr("layer-index",e),d.push({alt:t.attr("alt"),pid:t.attr("layer-pid"),src:t.attr("layer-src")||t.attr("src"),thumb:t.attr("src")})})};if(p(),0===d.length)return;if(e||h.on("click",i.img,function(){var e=m(this).attr("layer-index");g.photos(m.extend(i,{photos:{start:e,data:d,tab:i.tab},full:i.full}),!0),p()}),!e)return}s.imgprev=function(e){s.imgIndex--,s.imgIndex<1&&(s.imgIndex=d.length),s.tabimg(e)},s.imgnext=function(e,t){s.imgIndex++,s.imgIndex>d.length&&(s.imgIndex=1,t)||s.tabimg(e)},s.keyup=function(e){if(!s.end){var t=e.keyCode;e.preventDefault(),37===t?s.imgprev(!0):39===t?s.imgnext(!0):27===t&&g.close(s.index)}},s.tabimg=function(e){d.length<=1||(c.start=s.imgIndex-1,g.close(s.index),g.photos(i,!0,e))},s.event=function(){s.bigimg.hover(function(){s.imgsee.show()},function(){s.imgsee.hide()}),s.bigimg.find(".layui-layer-imgprev").on("click",function(e){e.preventDefault(),s.imgprev()}),s.bigimg.find(".layui-layer-imgnext").on("click",function(e){e.preventDefault(),s.imgnext()}),m(document).on("keyup",s.keyup)},s.loadi=g.load(1,{shade:!("shade"in i)&&.9,scrollbar:!1}),t=d[u].src,n=function(e){var t,n;g.close(s.loadi),s.index=g.open(m.extend({type:1,area:(t=[e.width,e.height],n=[m(f).width()-50,m(f).height()-50],!i.full&&t[0]>n[0]&&(t[0]=n[0],t[1]=t[0]*e.height/e.width),[t[0]+"px",t[1]+"px"]),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,anim:5*Math.random()|0,skin:"layui-layer-photos"+v("photos"),content:'<div class="layui-layer-phimg"><img src="'+d[u].src+'" alt="'+(d[u].alt||"")+'" layer-pid="'+d[u].pid+'"><div class="layui-layer-imgsee">'+(1<d.length?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(o?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(d[u].alt||"")+"</a><em>"+s.imgIndex+"/"+d.length+"</em></span></div></div></div>",success:function(e,t){s.bigimg=e.find(".layui-layer-phimg"),s.imgsee=e.find(".layui-layer-imguide,.layui-layer-imgbar"),s.event(e),i.tab&&i.tab(d[u],e)},end:function(){s.end=!0,m(document).off("keyup",s.keyup)}},i))},r=function(){g.close(s.loadi),g.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:3e4,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){1<d.length&&s.imgnext(!0,!0)}})},(a=new Image).src=t,a.complete?n(a):(a.onload=function(){a.onload=null,n(a)},a.onerror=function(e){a.onerror=null,r(e)})}},d.run=function(e){c=(m=e)(f),u.html=m("html"),g.open=function(e){return new t(e).index}},f.layui&&layui.define?(g.ready(),layui.define("jquery",function(e){g.path=layui.cache.dir,d.run(layui.jquery),e("layer",f.layer=g)})):"function"==typeof define?define("jquery",function(){return d.run(f.jQuery),g}):(d.run(f.jQuery),g.ready())}(window),function(){var e={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},t="webkit moz o ms khtml".split(" ");if(void 0!==document.cancelFullScreen)e.supportsFullScreen=!0;else for(var n=0,i=t.length;n<i;n++)if(e.prefix=t[n],void 0!==document[e.prefix+"CancelFullScreen"]){e.supportsFullScreen=!0;break}e.supportsFullScreen&&(e.fullScreenEventName=e.prefix+"fullscreenchange",e.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},e.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},e.cancelFullScreen=function(e){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}),"undefined"!=typeof jQuery&&(jQuery.fn.requestFullScreen=function(){return this.each(function(){e.supportsFullScreen&&e.requestFullScreen(this)})}),window.fullScreenApi=e}(),$.fn.weixinAudio=function(t){var e=$(this),n={autoplay:!1,src:""};function i(e){this.$context=e,this.$Audio=e.children("#media"),this.Audio=this.$Audio[0],this.$audio_area=e.find("#audio_area"),this.$audio_length=e.find("#audio_length"),this.$audio_progress=e.find("#audio_progress"),this.currentState="pause",this.time=null,this.settings=$.extend(!0,n,t),this.init()}i.prototype={init:function(){this.updateTotalTime(),this.events(),""!==this.settings.src&&this.changeSrc(this.settings.src),this.settings.autoplay&&this.play()},play:function(){"play"!==this.currentState?(this.Audio.play(),clearInterval(this.timer),this.timer=setInterval(this.run.bind(this),50),this.currentState="play",this.$audio_area.addClass("playing")):this.pause()},pause:function(){this.Audio.pause(),this.currentState="pause",clearInterval(this.timer),this.$audio_area.removeClass("playing")},stop:function(){},events:function(){var e,t=this;t.$audio_area.on("click",function(){t.play(),e||(t.updateTotalTime(),e=!0)})},run:function(){this.animateProgressBarPosition(),this.Audio.ended&&this.pause()},animateProgressBarPosition:function(){var e=100*this.Audio.currentTime/this.Audio.duration+"%";"NaN%"==e&&(e="0%");var t={width:e};this.$audio_progress.css(t)},getAudioSeconds:function(e){e%=60;return e=(e=this.addZero(Math.floor(e),2))<60?e:"00"},getAudioMinutes:function(e){e/=60;return e=(e=this.addZero(Math.floor(e),2))<60?e:"00"},addZero:function(e,t){for(e=String(e);e.length<t;)e="0"+e;return e},updateTotalTime:function(){var e=this.Audio.duration,t=this.getAudioMinutes(e)+":"+this.getAudioSeconds(e);this.$audio_length.text(t)},changeSrc:function(e,t){this.pause(),this.Audio.src=e,this.play(),t()}};var o={};return e.each(function(e,t){o["weixinAudio"+e]=new i($(this))}),o},function(){var c,d,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],t="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],u=Array.prototype.slice;if($.event.fixHooks)for(var n=e.length;n;)$.event.fixHooks[e[--n]]=$.event.mouseHooks;var i=$.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],o,!1);else this.onmousewheel=o;$.data(this,"mousewheel-line-height",i.getLineHeight(this)),$.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],o,!1);else this.onmousewheel=null},getLineHeight:function(e){return parseInt($(e)["offsetParent"in $.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(e){return $(e).height()},settings:{adjustOldDeltas:!0}};function o(e){var t,n=e||window.event,i=u.call(arguments,1),o=0,r=0,a=0;if((e=$.event.fix(n)).type="mousewheel","detail"in n&&(a=-1*n.detail),"wheelDelta"in n&&(a=n.wheelDelta),"wheelDeltaY"in n&&(a=n.wheelDeltaY),"wheelDeltaX"in n&&(r=-1*n.wheelDeltaX),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(r=-1*a,a=0),o=0===a?r:a,"deltaY"in n&&(o=a=-1*n.deltaY),"deltaX"in n&&(r=n.deltaX,0===a&&(o=-1*r)),0!==a||0!==r){if(1===n.deltaMode){var s=$.data(this,"mousewheel-line-height");o*=s,a*=s,r*=s}else if(2===n.deltaMode){var l=$.data(this,"mousewheel-page-height");o*=l,a*=l,r*=l}return t=Math.max(Math.abs(a),Math.abs(r)),(!d||t<d)&&p(n,d=t)&&(d/=40),p(n,t)&&(o/=40,r/=40,a/=40),o=Math[1<=o?"floor":"ceil"](o/d),r=Math[1<=r?"floor":"ceil"](r/d),a=Math[1<=a?"floor":"ceil"](a/d),e.deltaX=r,e.deltaY=a,e.deltaFactor=d,e.deltaMode=0,i.unshift(e,o,r,a),c&&clearTimeout(c),c=setTimeout(h,200),($.event.dispatch||$.event.handle).apply(this,i)}}function h(){d=null}function p(e,t){return i.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}$.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(),function(e){"use strict";function u(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t,n,i,o,r){return u((a=u(u(t,e),u(i,r)))<<(s=o)|a>>>32-s,n);var a,s}function h(e,t,n,i,o,r,a){return s(t&n|~t&i,e,t,o,r,a)}function p(e,t,n,i,o,r,a){return s(t&i|n&~i,e,t,o,r,a)}function f(e,t,n,i,o,r,a){return s(t^n^i,e,t,o,r,a)}function m(e,t,n,i,o,r,a){return s(n^(t|~i),e,t,o,r,a)}function l(e,t){var n,i,o,r,a;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var s=1732584193,l=-271733879,c=-1732584194,d=271733878;for(n=0;n<e.length;n+=16)s=h(i=s,o=l,r=c,a=d,e[n],7,-680876936),d=h(d,s,l,c,e[n+1],12,-389564586),c=h(c,d,s,l,e[n+2],17,606105819),l=h(l,c,d,s,e[n+3],22,-1044525330),s=h(s,l,c,d,e[n+4],7,-176418897),d=h(d,s,l,c,e[n+5],12,1200080426),c=h(c,d,s,l,e[n+6],17,-1473231341),l=h(l,c,d,s,e[n+7],22,-45705983),s=h(s,l,c,d,e[n+8],7,1770035416),d=h(d,s,l,c,e[n+9],12,-1958414417),c=h(c,d,s,l,e[n+10],17,-42063),l=h(l,c,d,s,e[n+11],22,-1990404162),s=h(s,l,c,d,e[n+12],7,1804603682),d=h(d,s,l,c,e[n+13],12,-40341101),c=h(c,d,s,l,e[n+14],17,-1502002290),s=p(s,l=h(l,c,d,s,e[n+15],22,1236535329),c,d,e[n+1],5,-165796510),d=p(d,s,l,c,e[n+6],9,-1069501632),c=p(c,d,s,l,e[n+11],14,643717713),l=p(l,c,d,s,e[n],20,-373897302),s=p(s,l,c,d,e[n+5],5,-701558691),d=p(d,s,l,c,e[n+10],9,38016083),c=p(c,d,s,l,e[n+15],14,-660478335),l=p(l,c,d,s,e[n+4],20,-405537848),s=p(s,l,c,d,e[n+9],5,568446438),d=p(d,s,l,c,e[n+14],9,-1019803690),c=p(c,d,s,l,e[n+3],14,-187363961),l=p(l,c,d,s,e[n+8],20,1163531501),s=p(s,l,c,d,e[n+13],5,-1444681467),d=p(d,s,l,c,e[n+2],9,-51403784),c=p(c,d,s,l,e[n+7],14,1735328473),s=f(s,l=p(l,c,d,s,e[n+12],20,-1926607734),c,d,e[n+5],4,-378558),d=f(d,s,l,c,e[n+8],11,-2022574463),c=f(c,d,s,l,e[n+11],16,1839030562),l=f(l,c,d,s,e[n+14],23,-35309556),s=f(s,l,c,d,e[n+1],4,-1530992060),d=f(d,s,l,c,e[n+4],11,1272893353),c=f(c,d,s,l,e[n+7],16,-155497632),l=f(l,c,d,s,e[n+10],23,-1094730640),s=f(s,l,c,d,e[n+13],4,681279174),d=f(d,s,l,c,e[n],11,-358537222),c=f(c,d,s,l,e[n+3],16,-722521979),l=f(l,c,d,s,e[n+6],23,76029189),s=f(s,l,c,d,e[n+9],4,-640364487),d=f(d,s,l,c,e[n+12],11,-421815835),c=f(c,d,s,l,e[n+15],16,530742520),s=m(s,l=f(l,c,d,s,e[n+2],23,-995338651),c,d,e[n],6,-198630844),d=m(d,s,l,c,e[n+7],10,1126891415),c=m(c,d,s,l,e[n+14],15,-1416354905),l=m(l,c,d,s,e[n+5],21,-57434055),s=m(s,l,c,d,e[n+12],6,1700485571),d=m(d,s,l,c,e[n+3],10,-1894986606),c=m(c,d,s,l,e[n+10],15,-1051523),l=m(l,c,d,s,e[n+1],21,-2054922799),s=m(s,l,c,d,e[n+8],6,1873313359),d=m(d,s,l,c,e[n+15],10,-30611744),c=m(c,d,s,l,e[n+6],15,-1560198380),l=m(l,c,d,s,e[n+13],21,1309151649),s=m(s,l,c,d,e[n+4],6,-145523070),d=m(d,s,l,c,e[n+11],10,-1120210379),c=m(c,d,s,l,e[n+2],15,718787259),l=m(l,c,d,s,e[n+9],21,-343485551),s=u(s,i),l=u(l,o),c=u(c,r),d=u(d,a);return[s,l,c,d]}function c(e){var t,n="",i=32*e.length;for(t=0;t<i;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function d(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var i=8*e.length;for(t=0;t<i;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function i(e){var t,n,i="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=i.charAt(t>>>4&15)+i.charAt(15&t);return o}function n(e){return unescape(encodeURIComponent(e))}function o(e){return c(l(d(t=n(e)),8*t.length));var t}function r(e,t){return function(e,t){var n,i,o=d(e),r=[],a=[];for(r[15]=a[15]=void 0,16<o.length&&(o=l(o,8*e.length)),n=0;n<16;n+=1)r[n]=909522486^o[n],a[n]=1549556828^o[n];return i=l(r.concat(d(t)),512+8*t.length),c(l(a.concat(i),640))}(n(e),n(t))}function t(e,t,n){return t?n?r(t,e):i(r(t,e)):n?o(e):i(o(e))}"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.md5=t}(this),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e()}}(function(){return function r(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var o=s[n]={exports:{}};a[n][0].call(o.exports,function(e){var t=a[n][1][e];return c(t||e)},o,o.exports,r,a,s,l)}return s[n].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}t.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},{}],2:[function(e,t,n){var a=e("./closest");t.exports=function(e,t,n,i,o){var r=function(t,n,e,i){return function(e){e.delegateTarget=a(e.target,n),e.delegateTarget&&i.call(t,e)}}.apply(this,arguments);return e.addEventListener(n,r,o),{destroy:function(){e.removeEventListener(n,r,o)}}}},{"./closest":1}],3:[function(e,t,n){n.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},n.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||n.node(e[0]))},n.string=function(e){return"string"==typeof e||e instanceof String},n.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,n){var h=e("./is"),p=e("delegate");t.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!h.string(t))throw new TypeError("Second argument must be a String");if(!h.fn(n))throw new TypeError("Third argument must be a Function");if(h.node(e))return d=t,u=n,(c=e).addEventListener(d,u),{destroy:function(){c.removeEventListener(d,u)}};if(h.nodeList(e))return a=e,s=t,l=n,Array.prototype.forEach.call(a,function(e){e.addEventListener(s,l)}),{destroy:function(){Array.prototype.forEach.call(a,function(e){e.removeEventListener(s,l)})}};if(h.string(e))return i=e,o=t,r=n,p(document.body,i,o,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList");var i,o,r,a,s,l,c,d,u}},{"./is":3,delegate:2}],5:[function(e,t,n){t.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var i=window.getSelection(),o=document.createRange();o.selectNodeContents(e),i.removeAllRanges(),i.addRange(o),t=i.toString()}return t}},{}],6:[function(e,t,n){function i(){}i.prototype={on:function(e,t,n){var i=this.e||(this.e={});return(i[e]||(i[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var i=this;function o(){i.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),i=0,o=n.length;i<o;i++)n[i].fn.apply(n[i].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),i=n[e],o=[];if(i&&t)for(var r=0,a=i.length;r<a;r++)i[r].fn!==t&&i[r].fn._!==t&&o.push(i[r]);return o.length?n[e]=o:delete n[e],this}},t.exports=i},{}],7:[function(i,o,r){!function(e,t){if(0,void 0!==r)t(o,i("select"));else{var n={exports:{}};t(n,e.select),e.clipboardAction=n.exports}}(this,function(e,t){"use strict";var n,i=(n=t)&&n.__esModule?n:{default:n};var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(s,[{key:"resolveOptions",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,i.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(e){var t=0<arguments.length&&void 0!==e?e:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.resolveOptions(e),this.initSelection()}e.exports=a})},{select:5}],8:[function(i,o,r){!function(e,t){if(0,void 0!==r)t(o,i("./clipboard-action"),i("tiny-emitter"),i("good-listener"));else{var n={exports:{}};t(n,e.clipboardAction,e.tinyEmitter,e.goodListener),e.clipboard=n.exports}}(this,function(e,t,n,i){"use strict";var o=s(t),r=s(n),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var c=function(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e};function d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,r.default),c(h,[{key:"resolveOptions",value:function(e){var t=0<arguments.length&&void 0!==e?e:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===l(t.container)?t.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,a.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new o.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return p("action",e)}},{key:"defaultTarget",value:function(e){var t=p("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return p("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(e){var t=0<arguments.length&&void 0!==e?e:["copy","cut"],n="string"==typeof t?[t]:t,i=!!document.queryCommandSupported;return n.forEach(function(e){i=i&&!!document.queryCommandSupported(e)}),i}}]),h);function h(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this));return n.resolveOptions(t),n.listenClick(e),n}function p(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=u})},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)}),function(u,h,p){var i="ontouchstart"in p,f=function(){var e=p.createElement("div"),t=p.documentElement;if(!("pointerEvents"in e.style))return!1;e.style.pointerEvents="auto",e.style.pointerEvents="x",t.appendChild(e);var n=h.getComputedStyle&&"auto"===h.getComputedStyle(e,"").pointerEvents;return t.removeChild(e),!!n}(),n={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20};function o(e,t){this.w=u(p),this.el=u(e),this.options=u.extend({},n,t),this.init()}o.prototype={init:function(){var o=this;o.reset(),o.el.data("nestable-group",this.options.group),o.placeEl=u('<div class="'+o.options.placeClass+'"/>'),u.each(this.el.find(o.options.itemNodeName),function(e,t){o.setParent(u(t))}),o.el.on("click","button",function(e){if(!o.dragEl){var t=u(e.currentTarget),n=t.data("action"),i=t.parent(o.options.itemNodeName);"collapse"===n&&o.collapseItem(i),"expand"===n&&o.expandItem(i)}});function e(e){var t=u(e.target);if(!t.hasClass(o.options.handleClass)){if(t.closest("."+o.options.noDragClass).length)return;t=t.closest("."+o.options.handleClass)}t.length&&!o.dragEl&&(o.isTouch=/^touch/.test(e.type),o.isTouch&&1!==e.touches.length||(e.preventDefault(),o.dragStart(e.touches?e.touches[0]:e)))}function t(e){o.dragEl&&(e.preventDefault(),o.dragMove(e.touches?e.touches[0]:e))}function n(e){o.dragEl&&(e.preventDefault(),o.dragStop(e.touches?e.touches[0]:e))}i&&(o.el[0].addEventListener("touchstart",e,!1),h.addEventListener("touchmove",t,!1),h.addEventListener("touchend",n,!1),h.addEventListener("touchcancel",n,!1)),o.el.on("mousedown",e),o.w.on("mousemove",t),o.w.on("mouseup",n)},serialize:function(){var r=this;return step=function(e,i){var o=[];return e.children(r.options.itemNodeName).each(function(){var e=u(this),t=u.extend({},e.data()),n=e.children(r.options.listNodeName);n.length&&(t.children=step(n,i+1)),o.push(t)}),o},step(r.el.find(r.options.listNodeName).first(),0)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.isTouch=!1,this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null},expandItem:function(e){e.removeClass(this.options.collapsedClass),e.children('[data-action="expand"]').hide(),e.children('[data-action="collapse"]').show(),e.children(this.options.listNodeName).show()},collapseItem:function(e){e.children(this.options.listNodeName).length&&(e.addClass(this.options.collapsedClass),e.children('[data-action="collapse"]').hide(),e.children('[data-action="expand"]').show(),e.children(this.options.listNodeName).hide())},Expand_All:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.expandItem(u(this))})},collapseAll:function(){var e=this;e.el.find(e.options.itemNodeName).each(function(){e.collapseItem(u(this))})},setParent:function(e){e.children(this.options.listNodeName).length&&(e.prepend(u(this.options.expandBtnHTML)),e.prepend(u(this.options.collapseBtnHTML))),e.children('[data-action="expand"]').hide()},unsetParent:function(e){e.removeClass(this.options.collapsedClass),e.children("[data-action]").remove(),e.children(this.options.listNodeName).remove()},dragStart:function(e){var t=this.mouse,n=u(e.target),i=n.closest(this.options.itemNodeName);this.placeEl.css("height",i.height()),t.offsetX=void 0!==e.offsetX?e.offsetX:e.pageX-n.offset().left,t.offsetY=void 0!==e.offsetY?e.offsetY:e.pageY-n.offset().top,t.startX=t.lastX=e.pageX,t.startY=t.lastY=e.pageY,this.dragRootEl=this.el,this.dragEl=u(p.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",i.width()),i.after(this.placeEl),i[0].parentNode.removeChild(i[0]),i.appendTo(this.dragEl),u(p.body).append(this.dragEl),this.dragEl.css({left:e.pageX-t.offsetX,top:e.pageY-t.offsetY});var o,r,a=this.dragEl.find(this.options.itemNodeName);for(o=0;o<a.length;o++)(r=u(a[o]).parents(this.options.listNodeName).length)>this.dragDepth&&(this.dragDepth=r)},dragStop:function(e){var t=this.dragEl.children(this.options.itemNodeName).first();t[0].parentNode.removeChild(t[0]),this.placeEl.replaceWith(t),this.dragEl.remove(),this.el.trigger("change"),this.hasNewRoot&&this.dragRootEl.trigger("change"),this.reset()},dragMove:function(e){var t,n,i,o=this.options,r=this.mouse;this.dragEl.css({left:e.pageX-r.offsetX,top:e.pageY-r.offsetY}),r.lastX=r.nowX,r.lastY=r.nowY,r.nowX=e.pageX,r.nowY=e.pageY,r.distX=r.nowX-r.lastX,r.distY=r.nowY-r.lastY,r.lastDirX=r.dirX,r.lastDirY=r.dirY,r.dirX=0===r.distX?0:0<r.distX?1:-1,r.dirY=0===r.distY?0:0<r.distY?1:-1;var a=Math.abs(r.distX)>Math.abs(r.distY)?1:0;if(!r.moving)return r.dirAx=a,void(r.moving=!0);r.dirAx!==a?(r.distAxX=0,r.distAxY=0):(r.distAxX+=Math.abs(r.distX),0!==r.dirX&&r.dirX!==r.lastDirX&&(r.distAxX=0),r.distAxY+=Math.abs(r.distY),0!==r.dirY&&r.dirY!==r.lastDirY&&(r.distAxY=0)),r.dirAx=a,r.dirAx&&r.distAxX>=o.threshold&&(r.distAxX=0,i=this.placeEl.prev(o.itemNodeName),0<r.distX&&i.length&&!i.hasClass(o.collapsedClass)&&(t=i.find(o.listNodeName).last(),this.placeEl.parents(o.listNodeName).length+this.dragDepth<=o.maxDepth&&(t.length?(t=i.children(o.listNodeName).last()).append(this.placeEl):((t=u("<"+o.listNodeName+"/>").addClass(o.listClass)).append(this.placeEl),i.append(t),this.setParent(i)))),r.distX<0&&(this.placeEl.next(o.itemNodeName).length||(n=this.placeEl.parent(),this.placeEl.closest(o.itemNodeName).after(this.placeEl),n.children().length||this.unsetParent(n.parent()))));var s=!1;if(f||(this.dragEl[0].style.visibility="hidden"),this.pointEl=u(p.elementFromPoint(e.pageX-p.body.scrollLeft,e.pageY-(h.pageYOffset||p.documentElement.scrollTop))),f||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(o.handleClass)&&(this.pointEl=this.pointEl.parent(o.itemNodeName)),this.pointEl.hasClass(o.emptyClass))s=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(o.itemClass))return;var l=this.pointEl.closest("."+o.rootClass),c=this.dragRootEl.data("nestable-id")!==l.data("nestable-id");if(!r.dirAx||c||s){if(c&&o.group!==l.data("nestable-group"))return;if(this.dragDepth-1+this.pointEl.parents(o.listNodeName).length>o.maxDepth)return;var d=e.pageY<this.pointEl.offset().top+this.pointEl.height()/2;n=this.placeEl.parent(),s?((t=u(p.createElement(o.listNodeName)).addClass(o.listClass)).append(this.placeEl),this.pointEl.replaceWith(t)):d?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),n.children().length||this.unsetParent(n.parent()),this.dragRootEl.find(o.itemNodeName).length||this.dragRootEl.append('<div class="'+o.emptyClass+'"/>'),c&&(this.dragRootEl=l,this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}}},u.fn.nestable=function(t){var n=this;return this.each(function(){var e=u(this).data("nestable");e?"string"==typeof t&&"function"==typeof e[t]&&(n=e[t]()):(u(this).data("nestable",new o(this,t)),u(this).data("nestable-id",(new Date).getTime()))}),n||this}}(window.jQuery||window.Zepto,window,document),function(s){s.fn.step=function(e){var o=s.extend({},s.fn.step.defaults,e),t=this.find(".step-header li").length,n=o.initStep<t?100/t+100*(o.initStep-1)/t:100,r=o.initStep,i=this,a=100-100/t+"%";return this.find(".step-header").prepend('<div class="step-bar" style=\'width:'+a+'\'><div class="step-bar-active"></div></div>'),this.find(".step-list").eq(o.initStep).show(),t<o.initStep&&(o.initStep=t),0==o.animate&&(o.speed=0),this.find(".step-header li").each(function(e,t){0==e?s(t).addClass("step-current").append('<a href="javascript:;" class="jump-steps" data-step="'+(e+1)+'">'+(e+1)+"</a>"):e<o.initStep?s(t).addClass("step-active").append('<a href="javascript:;" class="jump-steps" data-step="'+(e+1)+'"></a>'):s(t).append('<a href="javascript:;" class="jump-steps" data-step="'+(e+1)+'">'+(e+1)+"</a>")}),this.find(".step-header li").css({width:100/t+"%"}),this.find(".step-header").show(),this.find(".step-bar-active").animate({width:n+"%"},o.speed,function(){}),this.find(".jump-steps").on("click",function(){var e=s(this).attr("data-step");0!==e&&e<=t&&o.stepCallBack?o.stepCallBack(e):i.goStep(e)}),this.getCurrentPage=function(){return r},this.nextStep=function(){if(t<=r)return!1;var e=0==r?2:r+1==t?t:r+1;if(!o.stepCallBack)return this.goStep(e);o.stepCallBack(e)},this.preStep=function(){if(r<=1)return!1;var e=1==r?1:r-1;if(!o.stepCallBack)return this.goStep(e);o.stepCallBack(e)},this.goStep=function(i){return null==i||isNaN(i)||i<0?(window.console&&window.console.error&&console.error("the method goStep has a error,page:"+i),!1):(r=parseInt(i),this.find(".step-list").hide(),this.find(".step-list").eq(r-1).show(),this.find(".step-header li").each(function(e,t){var n=s(t);n.removeClass("step-current").removeClass("step-active"),n.find("a").html(e+1),e+1<i?(n.addClass("step-active"),n.find("a").empty(),o.scrollTop&&s("html,body").animate({scrollTop:0},"slow")):e+1==i&&n.addClass("step-current")}),n=i<t?100/(100-100/t)*(100/t)*(i-1):100,this.find(".step-bar-active").animate({width:n+"%"},o.speed,function(){}),!0)},this},s.fn.step.defaults={animate:!0,speed:200,initStep:0,scrollTop:!0,mustStep:[],stepCallBack:{}}}(jQuery,(window,document)),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(c,d){var u,n={},t=n.toString,h=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],p=c.Color=function(e,t,n,i){return new c.Color.fn.parse(e,t,n,i)},f={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},m={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},g=c.each;function v(e){return null==e?e+"":"object"==typeof e?n[t.call(e)]||"object":typeof e}function b(e,t,n){var i=m[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),i.mod?(e+i.mod)%i.mod:Math.min(i.max,Math.max(0,e)))}function s(a){var s=p(),l=s._rgba=[];return a=a.toLowerCase(),g(e,function(e,t){var n,i=t.re.exec(a),o=i&&t.parse(i),r=t.space||"rgba";if(o)return n=s[r](o),s[f[r].cache]=n[f[r].cache],l=s._rgba=n._rgba,!1}),l.length?("0,0,0,0"===l.join()&&c.extend(l,u.transparent),s):u[a]}function l(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}g(f,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()}),p.fn=c.extend(p.prototype,{parse:function(o,e,t,n){if(o===d)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=c(o).css(e),e=d);var r=this,i=v(o),a=this._rgba=[];return e!==d&&(o=[o,e,t,n],i="array"),"string"===i?this.parse(s(o)||u._default):"array"===i?(g(f.rgba.props,function(e,t){a[t.idx]=b(o[t.idx],t)}),this):"object"===i?(g(f,o instanceof p?function(e,t){o[t.cache]&&(r[t.cache]=o[t.cache].slice())}:function(e,n){var i=n.cache;g(n.props,function(e,t){if(!r[i]&&n.to){if("alpha"===e||null==o[e])return;r[i]=n.to(r._rgba)}r[i][t.idx]=b(o[e],t,!0)}),r[i]&&c.inArray(null,r[i].slice(0,3))<0&&(null==r[i][3]&&(r[i][3]=1),n.from&&(r._rgba=n.from(r[i])))}),this):void 0},is:function(e){var o=p(e),r=!0,a=this;return g(f,function(e,t){var n,i=o[t.cache];return i&&(n=a[t.cache]||t.to&&t.to(a._rgba)||[],g(t.props,function(e,t){if(null!=i[t.idx])return r=i[t.idx]===n[t.idx]})),r}),r},_space:function(){var n=[],i=this;return g(f,function(e,t){i[t.cache]&&n.push(e)}),n.pop()},transition:function(e,a){var s=p(e),t=s._space(),n=f[t],i=0===this.alpha()?p("transparent"):this,l=i[n.cache]||n.to(i._rgba),c=l.slice();return s=s[n.cache],g(n.props,function(e,t){var n=t.idx,i=l[n],o=s[n],r=m[t.type]||{};null!==o&&(null===i?c[n]=o:(r.mod&&(r.mod/2<o-i?i+=r.mod:r.mod/2<i-o&&(i-=r.mod)),c[n]=b((o-i)*a+i,t)))}),this[t](c)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),n=t.pop(),i=p(e)._rgba;return p(c.map(t,function(e,t){return(1-n)*i[t]+n*e}))},toRgbaString:function(){var e="rgba(",t=c.map(this._rgba,function(e,t){return null!=e?e:2<t?1:0});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=c.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),n=t.pop();return e&&t.push(~~(255*n)),"#"+c.map(t,function(e){return("0"+(e||0).toString(16)).substr(-2)}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),p.fn.parse.prototype=p.fn,f.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,o=e[1]/255,r=e[2]/255,a=e[3],s=Math.max(i,o,r),l=Math.min(i,o,r),c=s-l,d=s+l,u=.5*d;return t=l===s?0:i===s?60*(o-r)/c+360:o===s?60*(r-i)/c+120:60*(i-o)/c+240,n=0==c?0:u<=.5?c/d:c/(2-d),[Math.round(t)%360,n,u,null==a?1:a]},f.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],r=i<=.5?i*(1+n):i+n-i*n,a=2*i-r;return[Math.round(255*l(a,r,t+1/3)),Math.round(255*l(a,r,t)),Math.round(255*l(a,r,t-1/3)),o]},g(f,function(l,e){var n=e.props,a=e.cache,s=e.to,c=e.from;p.fn[l]=function(e){if(s&&!this[a]&&(this[a]=s(this._rgba)),e===d)return this[a].slice();var t,i=v(e),o="array"===i||"object"===i?e:arguments,r=this[a].slice();return g(n,function(e,t){var n=o["object"===i?e:t.idx];null==n&&(n=r[t.idx]),r[t.idx]=b(n,t)}),c?((t=p(c(r)))[a]=r,t):p(r)},g(n,function(a,s){p.fn[a]||(p.fn[a]=function(e){var t,n,i,o,r=v(e);return n=(t=this[o="alpha"===a?this._hsla?"hsla":"rgba":l]())[s.idx],"undefined"===r?n:("function"===r&&(r=v(e=e.call(this,n))),null==e&&s.empty?this:("string"===r&&(i=h.exec(e))&&(e=n+parseFloat(i[2])*("+"===i[1]?1:-1)),t[s.idx]=e,this[o](t)))})})}),p.hook=function(e){var t=e.split(" ");g(t,function(e,i){c.cssHooks[i]={set:function(e,t){var n;"transparent"===t||"string"===v(t)&&!(n=s(t))||(t=(t=p(n||t)).toRgbaString()),e.style[i]=t}},c.fx.step[i]=function(e){e.colorInit||(e.start=p(e.elem,i),e.end=p(e.end),e.colorInit=!0),c.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},p.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),c.cssHooks.borderColor={expand:function(n){var i={};return g(["Top","Right","Bottom","Left"],function(e,t){i["border"+t+"Color"]=n}),i}},u=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(c){"use strict";var o,r=window.Slick||{};o=0,(r=function(e,t){var n,i=this;i.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:c(e),appendDots:c(e),arrows:!1,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return c('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!0,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},i.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},c.extend(i,i.initials),i.activeBreakpoint=null,i.animType=null,i.animProp=null,i.breakpoints=[],i.breakpointSettings=[],i.cssTransitions=!1,i.focussed=!1,i.interrupted=!1,i.hidden="hidden",i.paused=!0,i.positionProp=null,i.respondTo=null,i.rowCount=1,i.shouldClick=!0,i.$slider=c(e),i.$slidesCache=null,i.transformType=null,i.transitionType=null,i.visibilityChange="visibilitychange",i.windowWidth=0,i.windowTimer=null,n=c(e).data("slick")||{},i.options=c.extend({},i.defaults,t,n),i.currentSlide=i.options.initialSlide,i.originalSettings=i.options,void 0!==document.mozHidden?(i.hidden="mozHidden",i.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(i.hidden="webkitHidden",i.visibilityChange="webkitvisibilitychange"),i.autoPlay=c.proxy(i.autoPlay,i),i.autoPlayClear=c.proxy(i.autoPlayClear,i),i.autoPlayIterator=c.proxy(i.autoPlayIterator,i),i.changeSlide=c.proxy(i.changeSlide,i),i.clickHandler=c.proxy(i.clickHandler,i),i.selectHandler=c.proxy(i.selectHandler,i),i.setPosition=c.proxy(i.setPosition,i),i.swipeHandler=c.proxy(i.swipeHandler,i),i.dragHandler=c.proxy(i.dragHandler,i),i.keyHandler=c.proxy(i.keyHandler,i),i.instanceUid=o++,i.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,i.registerBreakpoints(),i.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},r.prototype.addSlide=r.prototype.slickAdd=function(e,t,n){var i=this;if("boolean"==typeof t)n=t,t=null;else if(t<0||t>=i.slideCount)return!1;i.unload(),"number"==typeof t?0===t&&0===i.$slides.length?c(e).appendTo(i.$slideTrack):n?c(e).insertBefore(i.$slides.eq(t)):c(e).insertAfter(i.$slides.eq(t)):!0===n?c(e).prependTo(i.$slideTrack):c(e).appendTo(i.$slideTrack),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slides.each(function(e,t){c(t).attr("data-slick-index",e)}),i.$slidesCache=i.$slides,i.reinit()},r.prototype.animateHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var e=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.animate({height:e},this.options.speed)}},r.prototype.animateSlide=function(e,t){var n={},i=this;i.animateHeight(),!0===i.options.rtl&&!1===i.options.vertical&&(e=-e),!1===i.transformsEnabled?!1===i.options.vertical?i.$slideTrack.animate({left:e},i.options.speed,i.options.easing,t):i.$slideTrack.animate({top:e},i.options.speed,i.options.easing,t):!1===i.cssTransitions?(!0===i.options.rtl&&(i.currentLeft=-i.currentLeft),c({animStart:i.currentLeft}).animate({animStart:e},{duration:i.options.speed,easing:i.options.easing,step:function(e){e=Math.ceil(e),!1===i.options.vertical?n[i.animType]="translate("+e+"px, 0px)":n[i.animType]="translate(0px,"+e+"px)",i.$slideTrack.css(n)},complete:function(){t&&t.call()}})):(i.applyTransition(),e=Math.ceil(e),!1===i.options.vertical?n[i.animType]="translate3d("+e+"px, 0px, 0px)":n[i.animType]="translate3d(0px,"+e+"px, 0px)",i.$slideTrack.css(n),t&&setTimeout(function(){i.disableTransition(),t.call()},i.options.speed))},r.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e&&null!==e&&(e=c(e).not(this.$slider)),e},r.prototype.asNavFor=function(t){var e=this.getNavTarget();null!==e&&"object"==typeof e&&e.each(function(){var e=c(this).slick("getSlick");e.unslicked||e.slideHandler(t,!0)})},r.prototype.applyTransition=function(e){var t=this,n={};!1===t.options.fade?n[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:n[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(n):t.$slides.eq(e).css(n)},r.prototype.autoPlay=function(){this.autoPlayClear(),this.slideCount>this.options.slidesToShow&&(this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed))},r.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},r.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0&&(e.direction=1))),e.slideHandler(t))},r.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=c(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=c(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},r.prototype.buildDots=function(){var e,t;if(!0===this.options.dots){for(this.$slider.addClass("slick-dotted"),t=c("<ul />").addClass(this.options.dotsClass),e=0;e<=this.getDotCount();e+=1)t.append(c("<li />").append(this.options.customPaging.call(this,this,e)));this.$dots=t.appendTo(this.options.appendDots),this.$dots.find("li").first().addClass("slick-active")}},r.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){c(t).attr("data-slick-index",e).data("originalStyling",c(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?c('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),c("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},r.prototype.buildRows=function(){var e,t,n,i,o,r,a,s=this;if(i=document.createDocumentFragment(),r=s.$slider.children(),1<s.options.rows){for(a=s.options.slidesPerRow*s.options.rows,o=Math.ceil(r.length/a),e=0;e<o;e++){var l=document.createElement("div");for(t=0;t<s.options.rows;t++){var c=document.createElement("div");for(n=0;n<s.options.slidesPerRow;n++){var d=e*a+(t*s.options.slidesPerRow+n);r.get(d)&&c.appendChild(r.get(d))}l.appendChild(c)}i.appendChild(l)}s.$slider.empty().append(i),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},r.prototype.checkResponsive=function(e,t){var n,i,o,r=this,a=!1,s=r.$slider.width(),l=window.innerWidth||c(window).width();if("window"===r.respondTo?o=l:"slider"===r.respondTo?o=s:"min"===r.respondTo&&(o=Math.min(l,s)),r.options.responsive&&r.options.responsive.length&&null!==r.options.responsive){for(n in i=null,r.breakpoints)r.breakpoints.hasOwnProperty(n)&&(!1===r.originalSettings.mobileFirst?o<r.breakpoints[n]&&(i=r.breakpoints[n]):o>r.breakpoints[n]&&(i=r.breakpoints[n]));null!==i?null!==r.activeBreakpoint&&i===r.activeBreakpoint&&!t||(r.activeBreakpoint=i,"unslick"===r.breakpointSettings[i]?r.unslick(i):(r.options=c.extend({},r.originalSettings,r.breakpointSettings[i]),!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e)),a=i):null!==r.activeBreakpoint&&(r.activeBreakpoint=null,r.options=r.originalSettings,!0===e&&(r.currentSlide=r.options.initialSlide),r.refresh(e),a=i),e||!1===a||r.$slider.trigger("breakpoint",[r,a])}},r.prototype.changeSlide=function(e,t){var n,i,o=this,r=c(e.currentTarget);switch(r.is("a")&&e.preventDefault(),r.is("li")||(r=r.closest("li")),n=o.slideCount%o.options.slidesToScroll!=0?0:(o.slideCount-o.currentSlide)%o.options.slidesToScroll,e.data.message){case"previous":i=0==n?o.options.slidesToScroll:o.options.slidesToShow-n,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide-i,!1,t);break;case"next":i=0==n?o.options.slidesToScroll:n,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide+i,!1,t);break;case"index":var a=0===e.data.index?0:e.data.index||r.index()*o.options.slidesToScroll;o.slideHandler(o.checkNavigable(a),!1,t),r.children().trigger("focus");break;default:return}},r.prototype.checkNavigable=function(e){var t,n;if(n=0,e>(t=this.getNavigableIndexes())[t.length-1])e=t[t.length-1];else for(var i in t){if(e<t[i]){e=n;break}n=t[i]}return e},r.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(c("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",c.proxy(e.interrupt,e,!0)).off("mouseleave.slick",c.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),c(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().off("click.slick",e.selectHandler),c(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),c(window).off("resize.slick.slick-"+e.instanceUid,e.resize),c("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),c(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},r.prototype.cleanUpSlideEvents=function(){this.$list.off("mouseenter.slick",c.proxy(this.interrupt,this,!0)),this.$list.off("mouseleave.slick",c.proxy(this.interrupt,this,!1))},r.prototype.cleanUpRows=function(){var e;1<this.options.rows&&((e=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(e))},r.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},r.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),c(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow)&&t.$prevArrow.remove()),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow)&&t.$nextArrow.remove()),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){c(this).attr("style",c(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},r.prototype.disableTransition=function(e){var t={};t[this.transitionType]="",!1===this.options.fade?this.$slideTrack.css(t):this.$slides.eq(e).css(t)},r.prototype.fadeSlide=function(e,t){var n=this;!1===n.cssTransitions?(n.$slides.eq(e).css({zIndex:n.options.zIndex}),n.$slides.eq(e).animate({opacity:1},n.options.speed,n.options.easing,t)):(n.applyTransition(e),n.$slides.eq(e).css({opacity:1,zIndex:n.options.zIndex}),t&&setTimeout(function(){n.disableTransition(e),t.call()},n.options.speed))},r.prototype.fadeSlideOut=function(e){!1===this.cssTransitions?this.$slides.eq(e).animate({opacity:0,zIndex:this.options.zIndex-2},this.options.speed,this.options.easing):(this.applyTransition(e),this.$slides.eq(e).css({opacity:0,zIndex:this.options.zIndex-2}))},r.prototype.filterSlides=r.prototype.slickFilter=function(e){null!==e&&(this.$slidesCache=this.$slides,this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.filter(e).appendTo(this.$slideTrack),this.reinit())},r.prototype.focusHandler=function(){var n=this;n.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(e){e.stopImmediatePropagation();var t=c(this);setTimeout(function(){n.options.pauseOnFocus&&(n.focussed=t.is(":focus"),n.autoPlay())},0)})},r.prototype.getCurrent=r.prototype.slickCurrentSlide=function(){return this.currentSlide},r.prototype.getDotCount=function(){var e=this,t=0,n=0,i=0;if(!0===e.options.infinite)if(e.slideCount<=e.options.slidesToShow)++i;else for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)i=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else i=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return i-1},r.prototype.getLeft=function(e){var t,n,i,o,r=this,a=0;return r.slideOffset=0,n=r.$slides.first().outerHeight(!0),!0===r.options.infinite?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,o=-1,!0===r.options.vertical&&!0===r.options.centerMode&&(2===r.options.slidesToShow?o=-1.5:1===r.options.slidesToShow&&(o=-2)),a=n*r.options.slidesToShow*o),r.slideCount%r.options.slidesToScroll!=0&&e+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(a=e>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(e-r.slideCount))*r.slideWidth*-1,(r.options.slidesToShow-(e-r.slideCount))*n*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,r.slideCount%r.options.slidesToScroll*n*-1))):e+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(e+r.options.slidesToShow-r.slideCount)*r.slideWidth,a=(e+r.options.slidesToShow-r.slideCount)*n),r.slideCount<=r.options.slidesToShow&&(a=r.slideOffset=0),!0===r.options.centerMode&&r.slideCount<=r.options.slidesToShow?r.slideOffset=r.slideWidth*Math.floor(r.options.slidesToShow)/2-r.slideWidth*r.slideCount/2:!0===r.options.centerMode&&!0===r.options.infinite?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:!0===r.options.centerMode&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),t=!1===r.options.vertical?e*r.slideWidth*-1+r.slideOffset:e*n*-1+a,!0===r.options.variableWidth&&(i=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow),t=!0===r.options.rtl?i[0]?-1*(r.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,!0===r.options.centerMode&&(i=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(e):r.$slideTrack.children(".slick-slide").eq(e+r.options.slidesToShow+1),t=!0===r.options.rtl?i[0]?-1*(r.$slideTrack.width()-i[0].offsetLeft-i.width()):0:i[0]?-1*i[0].offsetLeft:0,t+=(r.$list.width()-i.outerWidth())/2)),t},r.prototype.getOption=r.prototype.slickGetOption=function(e){return this.options[e]},r.prototype.getNavigableIndexes=function(){var e,t=this,n=0,i=0,o=[];for(e=!1===t.options.infinite?t.slideCount:(n=-1*t.options.slidesToScroll,i=-1*t.options.slidesToScroll,2*t.slideCount);n<e;)o.push(n),n=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;return o},r.prototype.getSlick=function(){return this},r.prototype.getSlideCount=function(){var n,i,o=this;return i=!0===o.options.centerMode?o.slideWidth*Math.floor(o.options.slidesToShow/2):0,!0===o.options.swipeToSlide?(o.$slideTrack.find(".slick-slide").each(function(e,t){if(t.offsetLeft-i+c(t).outerWidth()/2>-1*o.swipeLeft)return n=t,!1}),Math.abs(c(n).attr("data-slick-index")-o.currentSlide)||1):o.options.slidesToScroll},r.prototype.goTo=r.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},r.prototype.init=function(e){var t=this;c(t.$slider).hasClass("slick-initialized")||(c(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},r.prototype.initADA=function(){var n=this,i=Math.ceil(n.slideCount/n.options.slidesToShow),o=n.getNavigableIndexes().filter(function(e){return 0<=e&&e<n.slideCount});n.$slides.add(n.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==n.$dots&&(n.$slides.not(n.$slideTrack.find(".slick-cloned")).each(function(e){var t=o.indexOf(e);c(this).attr({role:"tabpanel",id:"slick-slide"+n.instanceUid+e,tabindex:-1}),-1!==t&&c(this).attr({"aria-describedby":"slick-slide-control"+n.instanceUid+t})}),n.$dots.attr("role","tablist").find("li").each(function(e){var t=o[e];c(this).attr({role:"presentation"}),c(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+n.instanceUid+e,"aria-controls":"slick-slide"+n.instanceUid+t,"aria-label":e+1+" of "+i,"aria-selected":null,tabindex:"-1"})}).eq(n.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var e=n.currentSlide,t=e+n.options.slidesToShow;e<t;e++)n.$slides.eq(e).attr("tabindex",0);n.activateADA()},r.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow.on("keydown.slick",e.keyHandler),e.$nextArrow.on("keydown.slick",e.keyHandler)))},r.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(c("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&c("li",e.$dots).on("mouseenter.slick",c.proxy(e.interrupt,e,!0)).on("mouseleave.slick",c.proxy(e.interrupt,e,!1))},r.prototype.initSlideEvents=function(){this.options.pauseOnHover&&(this.$list.on("mouseenter.slick",c.proxy(this.interrupt,this,!0)),this.$list.on("mouseleave.slick",c.proxy(this.interrupt,this,!1)))},r.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),c(document).on(e.visibilityChange,c.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().on("click.slick",e.selectHandler),c(window).on("orientationchange.slick.slick-"+e.instanceUid,c.proxy(e.orientationChange,e)),c(window).on("resize.slick.slick-"+e.instanceUid,c.proxy(e.resize,e)),c("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),c(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),c(e.setPosition)},r.prototype.initUI=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.show(),this.$nextArrow.show()),!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.show()},r.prototype.keyHandler=function(e){e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:!0===this.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:!0===this.options.rtl?"previous":"next"}}))},r.prototype.lazyLoad=function(){var e,t,n,r=this;function i(e){c("img[data-lazy]",e).each(function(){var e=c(this),t=c(this).attr("data-lazy"),n=c(this).attr("data-srcset"),i=c(this).attr("data-sizes")||r.$slider.attr("data-sizes"),o=document.createElement("img");o.onload=function(){e.animate({opacity:0},100,function(){n&&(e.attr("srcset",n),i&&e.attr("sizes",i)),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),r.$slider.trigger("lazyLoaded",[r,e,t])})},o.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),r.$slider.trigger("lazyLoadError",[r,e,t])},o.src=t})}if(!0===r.options.centerMode?n=!0===r.options.infinite?(t=r.currentSlide+(r.options.slidesToShow/2+1))+r.options.slidesToShow+2:(t=Math.max(0,r.currentSlide-(r.options.slidesToShow/2+1)),r.options.slidesToShow/2+1+2+r.currentSlide):(t=r.options.infinite?r.options.slidesToShow+r.currentSlide:r.currentSlide,n=Math.ceil(t+r.options.slidesToShow),!0===r.options.fade&&(0<t&&t--,n<=r.slideCount&&n++)),e=r.$slider.find(".slick-slide").slice(t,n),"anticipated"===r.options.lazyLoad)for(var o=t-1,a=n,s=r.$slider.find(".slick-slide"),l=0;l<r.options.slidesToScroll;l++)o<0&&(o=r.slideCount-1),e=(e=e.add(s.eq(o))).add(s.eq(a)),o--,a++;i(e),r.slideCount<=r.options.slidesToShow?i(r.$slider.find(".slick-slide")):r.currentSlide>=r.slideCount-r.options.slidesToShow?i(r.$slider.find(".slick-cloned").slice(0,r.options.slidesToShow)):0===r.currentSlide&&i(r.$slider.find(".slick-cloned").slice(-1*r.options.slidesToShow))},r.prototype.loadSlider=function(){this.setPosition(),this.$slideTrack.css({opacity:1}),this.$slider.removeClass("slick-loading"),this.initUI(),"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad()},r.prototype.next=r.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},r.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},r.prototype.pause=r.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},r.prototype.play=r.prototype.slickPlay=function(){this.autoPlay(),this.options.autoplay=!0,this.paused=!1,this.focussed=!1,this.interrupted=!1},r.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange&&c(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus()))},r.prototype.prev=r.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},r.prototype.preventDefault=function(e){e.preventDefault()},r.prototype.progressiveLazyLoad=function(e){e=e||1;var t,n,i,o,r,a=this,s=c("img[data-lazy]",a.$slider);s.length?(t=s.first(),n=t.attr("data-lazy"),i=t.attr("data-srcset"),o=t.attr("data-sizes")||a.$slider.attr("data-sizes"),(r=document.createElement("img")).onload=function(){i&&(t.attr("srcset",i),o&&t.attr("sizes",o)),t.attr("src",n).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===a.options.adaptiveHeight&&a.setPosition(),a.$slider.trigger("lazyLoaded",[a,t,n]),a.progressiveLazyLoad()},r.onerror=function(){e<3?setTimeout(function(){a.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),a.$slider.trigger("lazyLoadError",[a,t,n]),a.progressiveLazyLoad())},r.src=n):a.$slider.trigger("allImagesLoaded",[a])},r.prototype.refresh=function(e){var t,n,i=this;n=i.slideCount-i.options.slidesToShow,!i.options.infinite&&i.currentSlide>n&&(i.currentSlide=n),i.slideCount<=i.options.slidesToShow&&(i.currentSlide=0),t=i.currentSlide,i.destroy(!0),c.extend(i,i.initials,{currentSlide:t}),i.init(),e||i.changeSlide({data:{message:"index",index:t}},!1)},r.prototype.registerBreakpoints=function(){var e,t,n,i=this,o=i.options.responsive||null;if("array"===c.type(o)&&o.length){for(e in i.respondTo=i.options.respondTo||"window",o)if(n=i.breakpoints.length-1,o.hasOwnProperty(e)){for(t=o[e].breakpoint;0<=n;)i.breakpoints[n]&&i.breakpoints[n]===t&&i.breakpoints.splice(n,1),n--;i.breakpoints.push(t),i.breakpointSettings[t]=o[e].settings}i.breakpoints.sort(function(e,t){return i.options.mobileFirst?e-t:t-e})}},r.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&c(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},r.prototype.resize=function(){var e=this;c(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=c(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},r.prototype.removeSlide=r.prototype.slickRemove=function(e,t,n){var i=this;if(e="boolean"==typeof e?!0===(t=e)?0:i.slideCount-1:!0===t?--e:e,i.slideCount<1||e<0||e>i.slideCount-1)return!1;i.unload(),!0===n?i.$slideTrack.children().remove():i.$slideTrack.children(this.options.slide).eq(e).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,i.reinit()},r.prototype.setCSS=function(e){var t,n,i=this,o={};!0===i.options.rtl&&(e=-e),t="left"==i.positionProp?Math.ceil(e)+"px":"0px",n="top"==i.positionProp?Math.ceil(e)+"px":"0px",o[i.positionProp]=e,!1===i.transformsEnabled||(!(o={})===i.cssTransitions?o[i.animType]="translate("+t+", "+n+")":o[i.animType]="translate3d("+t+", "+n+", 0px)"),i.$slideTrack.css(o)},r.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},r.prototype.setFade=function(){var n,i=this;i.$slides.each(function(e,t){n=i.slideWidth*e*-1,!0===i.options.rtl?c(t).css({position:"relative",right:n,top:0,zIndex:i.options.zIndex-2,opacity:0}):c(t).css({position:"relative",left:n,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},r.prototype.setHeight=function(){if(1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical){var e=this.$slides.eq(this.currentSlide).outerHeight(!0);this.$list.css("height",e)}},r.prototype.setOption=r.prototype.slickSetOption=function(){var e,t,n,i,o,r=this,a=!1;if("object"===c.type(arguments[0])?(n=arguments[0],a=arguments[1],o="multiple"):"string"===c.type(arguments[0])&&(i=arguments[1],a=arguments[2],"responsive"===(n=arguments[0])&&"array"===c.type(arguments[1])?o="responsive":void 0!==arguments[1]&&(o="single")),"single"===o)r.options[n]=i;else if("multiple"===o)c.each(n,function(e,t){r.options[e]=t});else if("responsive"===o)for(t in i)if("array"!==c.type(r.options.responsive))r.options.responsive=[i[t]];else{for(e=r.options.responsive.length-1;0<=e;)r.options.responsive[e].breakpoint===i[t].breakpoint&&r.options.responsive.splice(e,1),e--;r.options.responsive.push(i[t])}a&&(r.unload(),r.reinit())},r.prototype.setPosition=function(){this.setDimensions(),this.setHeight(),!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):this.setFade(),this.$slider.trigger("setPosition",[this])},r.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},r.prototype.setSlideClasses=function(e){var t,n,i,o,r=this;if(n=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),r.$slides.eq(e).addClass("slick-current"),!0===r.options.centerMode){var a=r.options.slidesToShow%2==0?1:0;t=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(t<=e&&e<=r.slideCount-1-t?r.$slides.slice(e-t+a,e+t+1).addClass("slick-active").attr("aria-hidden","false"):(i=r.options.slidesToShow+e,n.slice(i-t+1+a,i+t+2).addClass("slick-active").attr("aria-hidden","false")),0===e?n.eq(n.length-1-r.options.slidesToShow).addClass("slick-center"):e===r.slideCount-1&&n.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(e).addClass("slick-center")}else 0<=e&&e<=r.slideCount-r.options.slidesToShow?r.$slides.slice(e,e+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=r.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(o=r.slideCount%r.options.slidesToShow,i=!0===r.options.infinite?r.options.slidesToShow+e:e,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-e<r.options.slidesToShow?n.slice(i-(r.options.slidesToShow-o),i+o).addClass("slick-active").attr("aria-hidden","false"):n.slice(i,i+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==r.options.lazyLoad&&"anticipated"!==r.options.lazyLoad||r.lazyLoad()},r.prototype.setupInfinite=function(){var e,t,n,i=this;if(!0===i.options.fade&&(i.options.centerMode=!1),!0===i.options.infinite&&!1===i.options.fade&&(t=null,i.slideCount>i.options.slidesToShow)){for(n=!0===i.options.centerMode?i.options.slidesToShow+1:i.options.slidesToShow,e=i.slideCount;e>i.slideCount-n;--e)t=e-1,c(i.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t-i.slideCount).prependTo(i.$slideTrack).addClass("slick-cloned");for(e=0;e<n+i.slideCount;e+=1)t=e,c(i.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+i.slideCount).appendTo(i.$slideTrack).addClass("slick-cloned");i.$slideTrack.find(".slick-cloned").find("[id]").each(function(){c(this).attr("id","")})}},r.prototype.interrupt=function(e){e||this.autoPlay(),this.interrupted=e},r.prototype.selectHandler=function(e){var t=c(e.target).is(".slick-slide")?c(e.target):c(e.target).parents(".slick-slide"),n=parseInt(t.attr("data-slick-index"));n=n||0,this.slideCount<=this.options.slidesToShow?this.slideHandler(n,!1,!0):this.slideHandler(n)},r.prototype.slideHandler=function(e,t,n){var i,o,r,a,s,l,c=this;if(t=t||!1,!(!0===c.animating&&!0===c.options.waitForAnimate||!0===c.options.fade&&c.currentSlide===e))if(!1===t&&c.asNavFor(e),i=e,s=c.getLeft(i),a=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?a:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(e<0||e>c.getDotCount()*c.options.slidesToScroll))!1===c.options.fade&&(i=c.currentSlide,!0!==n?c.animateSlide(a,function(){c.postSlide(i)}):c.postSlide(i));else if(!1===c.options.infinite&&!0===c.options.centerMode&&(e<0||e>c.slideCount-c.options.slidesToScroll))!1===c.options.fade&&(i=c.currentSlide,!0!==n?c.animateSlide(a,function(){c.postSlide(i)}):c.postSlide(i));else{if(c.options.autoplay&&clearInterval(c.autoPlayTimer),o=i<0?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+i:i>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:i-c.slideCount:i,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,o]),r=c.currentSlide,c.currentSlide=o,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(l=(l=c.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(c.currentSlide),c.updateDots(),c.updateArrows(),!0===c.options.fade)return!0!==n?(c.fadeSlideOut(r),c.fadeSlide(o,function(){c.postSlide(o)})):c.postSlide(o),void c.animateHeight();!0!==n?c.animateSlide(s,function(){c.postSlide(o)}):c.postSlide(o)}},r.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},r.prototype.swipeDirection=function(){var e,t,n,i;return e=this.touchObject.startX-this.touchObject.curX,t=this.touchObject.startY-this.touchObject.curY,n=Math.atan2(t,e),(i=Math.round(180*n/Math.PI))<0&&(i=360-Math.abs(i)),i<=45&&0<=i||i<=360&&315<=i?!1===this.options.rtl?"left":"right":135<=i&&i<=225?!1===this.options.rtl?"right":"left":!0===this.options.verticalSwiping?35<=i&&i<=135?"down":"up":"vertical"},r.prototype.swipeEnd=function(e){var t,n,i=this;if(i.dragging=!1,i.swiping=!1,i.scrolling)return i.scrolling=!1;if(i.interrupted=!1,i.shouldClick=!(10<i.touchObject.swipeLength),void 0===i.touchObject.curX)return!1;if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe){switch(n=i.swipeDirection()){case"left":case"down":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.currentDirection=0;break;case"right":case"up":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.currentDirection=1}"vertical"!=n&&(i.slideHandler(t),i.touchObject={},i.$slider.trigger("swipe",[i,n]))}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},r.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},r.prototype.swipeMove=function(e){var t,n,i,o,r,a,s=this;return r=void 0!==e.originalEvent?e.originalEvent.touches:null,!(!s.dragging||s.scrolling||r&&1!==r.length)&&(t=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==r?r[0].pageX:e.clientX,s.touchObject.curY=void 0!==r?r[0].pageY:e.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),a=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2))),!s.options.verticalSwiping&&!s.swiping&&4<a?!(s.scrolling=!0):(!0===s.options.verticalSwiping&&(s.touchObject.swipeLength=a),n=s.swipeDirection(),void 0!==e.originalEvent&&4<s.touchObject.swipeLength&&(s.swiping=!0,e.preventDefault()),o=(!1===s.options.rtl?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),!0===s.options.verticalSwiping&&(o=s.touchObject.curY>s.touchObject.startY?1:-1),i=s.touchObject.swipeLength,(s.touchObject.edgeHit=!1)===s.options.infinite&&(0===s.currentSlide&&"right"===n||s.currentSlide>=s.getDotCount()&&"left"===n)&&(i=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),!1===s.options.vertical?s.swipeLeft=t+i*o:s.swipeLeft=t+i*(s.$list.height()/s.listWidth)*o,!0===s.options.verticalSwiping&&(s.swipeLeft=t+i*o),!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))))},r.prototype.swipeStart=function(e){var t,n=this;if(n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow)return!(n.touchObject={});void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==t?t.pageX:e.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==t?t.pageY:e.clientY,n.dragging=!0},r.prototype.unfilterSlides=r.prototype.slickUnfilter=function(){null!==this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit())},r.prototype.unload=function(){var e=this;c(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},r.prototype.unslick=function(e){this.$slider.trigger("unslick",[this,e]),this.destroy()},r.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):(e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode||e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode)&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},r.prototype.updateDots=function(){null!==this.$dots&&(this.$dots.find("li").removeClass("slick-active").end(),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active"))},r.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},c.fn.slick=function(){var e,t,n=arguments[0],i=Array.prototype.slice.call(arguments,1),o=this.length;for(e=0;e<o;e++)if("object"==typeof n||void 0===n?this[e].slick=new r(this[e],n):t=this[e].slick[n].apply(this[e].slick,i),void 0!==t)return t;return this}}),function(m){m.fn.ellipsis=function(f){return f=m.extend({row:1,onlyFullWords:!1,char:"...",callback:function(){},position:"tail"},f),this.each(function(){var e=m(this),t=e.text(),n=t,i=n.length,o=e.height();e.text("a");var r=parseFloat(e.css("lineHeight"),10),a=e.height(),s=(a<r?r-a:0)*(f.row-1)+a*f.row;if(o<=s)return e.text(t),e.css("height",34),void f.callback.call(this);var l=1,c=0,d=t.length;if("tail"===f.position){for(;l<d;)c=Math.ceil((l+d)/2),e.text(t.slice(0,c)+f.char),e.height()<=s?l=c:d=c-1;t=t.slice(0,l),f.onlyFullWords&&(t=t.replace(/[\u00AD\w\uac00-\ud7af]+$/,"")),t+=f.char}else if("middle"===f.position){for(var u=0;l<d;)c=Math.ceil((l+d)/2),u=Math.max(i-c,0),e.text(n.slice(0,Math.floor((i-u)/2))+f.char+n.slice(Math.floor((i+u)/2),i)),e.height()<=s?l=c:d=c-1;u=Math.max(i-l,0);var h=n.slice(0,Math.floor((i-u)/2)),p=n.slice(Math.floor((i+u)/2),i);f.onlyFullWords&&(h=h.replace(/[\u00AD\w\uac00-\ud7af]+$/,"")),t=h+f.char+p}e.css("height",34),e.text(t),f.callback.call(this)}),this}}(jQuery),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.JSONEditor=t():e.JSONEditor=t()}(this,function(){return o={},n.m=i=[function(e,t,n){"use strict";function l(e,t,n){if(!(this instanceof l))throw new Error('JSONEditor constructor called without "new".');var i=c.getInternetExplorerVersion();if(-1!=i&&i<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");t&&(t.error&&(console.warn('Option "error" has been renamed to "onError"'),t.onError=t.error,delete t.error),t.change&&(console.warn('Option "change" has been renamed to "onChange"'),t.onChange=t.change,delete t.change),t.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),t.onEditable=t.editable,delete t.editable),t.onChangeJSON&&("text"===t.mode||"code"===t.mode||t.modes&&(-1!==t.modes.indexOf("text")||-1!==t.modes.indexOf("code")))&&console.warn('Option "onChangeJSON" is not applicable to modes "text" and "code". Use "onChangeText" or "onChange" instead.'),t&&Object.keys(t).forEach(function(e){-1===l.VALID_OPTIONS.indexOf(e)&&console.warn('Unknown option "'+e+'". This option will be ignored')})),arguments.length&&this._create(e,t,n)}var o;try{o=n(!function(){var e=new Error('Cannot find module "ajv"');throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}var i=n(1),r=n(21),c=n(6);l.modes={},l.prototype.DEBOUNCE_INTERVAL=150,l.VALID_OPTIONS=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onChangeJSON","onChangeText","onEditable","onError","onModeChange","onSelectionChange","onTextSelectionChange","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","languages","language"],l.prototype._create=function(e,t,n){this.container=e,this.options=t||{},this.json=n||{};var i=this.options.mode||this.options.modes&&this.options.modes[0]||"tree";this.setMode(i)},l.prototype.destroy=function(){},l.prototype.set=function(e){this.json=e},l.prototype.get=function(){return this.json},l.prototype.setText=function(e){this.json=c.parse(e)},l.prototype.getText=function(){return JSON.stringify(this.json)},l.prototype.setName=function(e){this.options||(this.options={}),this.options.name=e},l.prototype.getName=function(){return this.options&&this.options.name},l.prototype.setMode=function(e){if(e!==this.options.mode||!this.create){var t,n,i=this.container,o=c.extend({},this.options),r=o.mode;o.mode=e;var a=l.modes[e];if(!a)throw new Error('Unknown mode "'+o.mode+'"');try{var s="text"==a.data;if(n=this.getName(),t=this[s?"getText":"get"](),this.destroy(),c.clear(this),c.extend(this,a.mixin),this.create(i,o),this.setName(n),this[s?"setText":"set"](t),"function"==typeof a.load)try{a.load.call(this)}catch(e){console.error(e)}if("function"==typeof o.onModeChange&&e!==r)try{o.onModeChange(e,r)}catch(e){console.error(e)}}catch(e){this._onError(e)}}},l.prototype.getMode=function(){return this.options.mode},l.prototype._onError=function(e){if(!this.options||"function"!=typeof this.options.onError)throw e;this.options.onError(e)},l.prototype.setSchema=function(e,t){if(e){var n;try{n=this.options.ajv||o({allErrors:!0,verbose:!0})}catch(e){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}if(n){if(t){for(var i in t)n.removeSchema(i),t[i]&&n.addSchema(t[i],i);this.options.schemaRefs=t}this.validateSchema=n.compile(e),this.options.schema=e,this.validate()}this.refresh()}else this.validateSchema=null,this.options.schema=null,this.options.schemaRefs=null,this.validate(),this.refresh()},l.prototype.validate=function(){},l.prototype.refresh=function(){},(l.registerMode=function(e){var t,n;if(c.isArray(e))for(t=0;t<e.length;t++)l.registerMode(e[t]);else{if(!("mode"in e))throw new Error('Property "mode" missing');if(!("mixin"in e))throw new Error('Property "mixin" missing');if(!("data"in e))throw new Error('Property "data" missing');var i=e.mode;if(i in l.modes)throw new Error('Mode "'+i+'" already registered');if("function"!=typeof e.mixin.create)throw new Error('Required function "create" missing on mixin');var o=["setMode","registerMode","modes"];for(t=0;t<o.length;t++)if((n=o[t])in e.mixin)throw new Error('Reserved property "'+n+'" not allowed in mixin');l.modes[i]=e}})(i),l.registerMode(r),e.exports=l},function(e,t,n){"use strict";var i=n(2),o=n(3),c=n(4),r=n(5),d=n(9),u=n(10),h=n(19),p=n(6),a=n(20),f=n(15),m=n(17),g=n(8).translate,s=n(8).setLanguages,l=n(8).setLanguage,v=document.body,b={create:function(e,t){if(!e)throw new Error("No container element provided.");this.container=e,this.dom={},this.highlighter=new i,this.selection=void 0,this.multiselection={nodes:[]},this.validateSchema=null,this.errorNodes=[],this.node=null,this.focusTarget=null,this._setOptions(t),t.autocomplete&&(this.autocomplete=new a(t.autocomplete)),this.options.history&&"view"!==this.options.mode&&(this.history=new o(this)),this._createFrame(),this._createTable()},destroy:function(){this.frame&&this.container&&this.frame.parentNode==this.container&&(this.container.removeChild(this.frame),this.frame=null),this.container=null,this.dom=null,this.clear(),this.node=null,this.focusTarget=null,this.selection=null,this.multiselection=null,this.errorNodes=null,this.validateSchema=null,this._debouncedValidate=null,this.history&&(this.history.destroy(),this.history=null),this.searchBox&&(this.searchBox.destroy(),this.searchBox=null),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null)},_setOptions:function(e){if(this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null,schemaRefs:null,autocomplete:null,navigationBar:!0,onSelectionChange:null},e)for(var t in e)e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.setSchema(this.options.schema,this.options.schemaRefs),this._debouncedValidate=p.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL),e.onSelectionChange&&this.onSelectionChange(e.onSelectionChange),s(this.options.languages),l(this.options.language)},set:function(e){if(e instanceof Function||void 0===e)this.clear();else{this.content.removeChild(this.table);var t={field:this.options.name,value:e},n=new u(this,t);this._setRoot(n),this.validate(),this.node.expand(!1),this.content.appendChild(this.table)}this.history&&this.history.clear(),this.searchBox&&this.searchBox.clear()},update:function(e){if(!this.node.deepEqual(e)){var t=this.getSelection();if(this.onChangeDisabled=!0,this.node.update(e),this.onChangeDisabled=!1,this.validate(),this.searchBox&&!this.searchBox.isEmpty()&&this.searchBox.forceSearch(),t&&t.start&&t.end){var n=this.node.findNodeByPath(t.start.path),i=this.node.findNodeByPath(t.end.path);n&&i?this.setSelection(t.start,t.end):this.setSelection({},{})}else this.setSelection({},{})}},get:function(){if(this.focusTarget){var e=u.getNodeFromTarget(this.focusTarget);e&&e.blur()}return this.node?this.node.getValue():void 0},getText:function(){return JSON.stringify(this.get())},setText:function(t){try{this.set(p.parse(t))}catch(e){var n=p.sanitize(t);this.set(p.parse(n))}},updateText:function(t){try{this.update(p.parse(t))}catch(e){var n=p.sanitize(t);this.update(p.parse(n))}},setName:function(e){this.options.name=e,this.node&&this.node.updateField(this.options.name)},getName:function(){return this.options.name},focus:function(){var e=this.scrollableContent.querySelector("[contenteditable=true]");e?e.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(e=this.frame.querySelector("button"))&&e.focus()},clear:function(){this.node&&(this.node.hide(),delete this.node),this.treePath&&this.treePath.reset()},_setRoot:function(e){this.clear(),this.node=e,this.tbody.appendChild(e.getDom())},search:function(e){var t;return this.node?(this.content.removeChild(this.table),t=this.node.search(e),this.content.appendChild(this.table)):t=[],t},expandAll:function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},collapseAll:function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},_onAction:function(e,t){this.history&&this.history.add(e,t),this._onChange()},_onChange:function(){if(!this.onChangeDisabled){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(e){console.error("Error in onChange callback: ",e)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(e){console.error("Error in onChangeJSON callback: ",e)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(e){console.error("Error in onChangeText callback: ",e)}}},validate:function(){this.errorNodes&&this.errorNodes.forEach(function(e){e.setError(null)});var t=this.node;if(t){var e=t.validate(),n=[];this.validateSchema&&(this.validateSchema(t.getValue())||(n=this.validateSchema.errors.map(function(e){return p.improveSchemaError(e)}).map(function(e){return{node:t.findNode(e.dataPath),error:e}}).filter(function(e){return null!=e.node})));var i=e.concat(n),o=i.reduce(function(e,t){return t.node.findParents().filter(function(t){return!e.some(function(e){return e[0]===t})}).map(function(e){return[e,t.node]}).concat(e)},[]);this.errorNodes=o.map(function(e){return{node:e[0],child:e[1],error:{message:"object"===e[0].type?"Contains invalid properties":"Contains invalid items"}}}).concat(i).map(function(e){return e.node.setError(e.error,e.child),e.node})}},refresh:function(){this.node&&this.node.updateDom({recurse:!0})},startAutoScroll:function(e){var t=this,n=this.scrollableContent,i=p.getAbsoluteTop(n),o=n.clientHeight,r=i+o;e<i+24&&0<n.scrollTop?this.autoScrollStep=(i+24-e)/3:r-24<e&&o+n.scrollTop<n.scrollHeight?this.autoScrollStep=(r-24-e)/3:this.autoScrollStep=void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval(function(){t.autoScrollStep?n.scrollTop-=t.autoScrollStep:t.stopAutoScroll()},50)):this.stopAutoScroll()},stopAutoScroll:function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep},setDomSelection:function(e){if(e)if("scrollTop"in e&&this.scrollableContent&&(this.scrollableContent.scrollTop=e.scrollTop),e.paths){var t=this,n=e.paths.map(function(e){return t.node.findNodeByInternalPath(e)});this.select(n)}else{var i=e.path?this.node.findNodeByInternalPath(e.path):null,o=i&&e.domName?i.dom[e.domName]:null;if(e.range&&o){var r=Object.assign({},e.range,{container:o});p.setSelectionOffset(r)}else i&&i.focus()}},getDomSelection:function(){var t=u.getNodeFromTarget(this.focusTarget),n=this.focusTarget,e=t?Object.keys(t.dom).find(function(e){return t.dom[e]===n}):null,i=p.getSelectionOffset();return i&&"DIV"!==i.container.nodeName&&(i=null),i&&i.container!==n&&(i=null),i&&delete i.container,{path:t?t.getInternalPath():null,domName:e,range:i,paths:0<this.multiselection.length?this.multiselection.nodes.map(function(e){return e.getInternalPath()}):null,scrollTop:this.scrollableContent?this.scrollableContent.scrollTop:0}},scrollTo:function(e,n){var i=this.scrollableContent;if(i){var o=this;o.animateTimeout&&(clearTimeout(o.animateTimeout),delete o.animateTimeout),o.animateCallback&&(o.animateCallback(!1),delete o.animateCallback);var t=i.clientHeight,r=i.scrollHeight-t,a=Math.min(Math.max(e-t/4,0),r),s=function(){var e=i.scrollTop,t=a-e;3<Math.abs(t)?(i.scrollTop+=t/3,o.animateCallback=n,o.animateTimeout=setTimeout(s,50)):(n&&n(!0),i.scrollTop=a,delete o.animateTimeout,delete o.animateCallback)};s()}else n&&n(!1)},_createFrame:function(){function n(e){t._onEvent&&t._onEvent(e)}this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame);var t=this;this.frame.onclick=function(e){var t=e.target;n(e),"BUTTON"==t.nodeName&&e.preventDefault()},this.frame.oninput=n,this.frame.onchange=n,this.frame.onkeydown=n,this.frame.onkeyup=n,this.frame.oncut=n,this.frame.onpaste=n,this.frame.onmousedown=n,this.frame.onmouseup=n,this.frame.onmouseover=n,this.frame.onmouseout=n,p.addEventListener(this.frame,"focus",n,!0),p.addEventListener(this.frame,"blur",n,!0),this.frame.onfocusin=n,this.frame.onfocusout=n,this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var e=document.createElement("button");e.type="button",e.className="jsoneditor-expand-all",e.title=g("expandAll"),e.onclick=function(){t.expandAll()},this.menu.appendChild(e);var i=document.createElement("button");i.type="button",i.title=g("collapseAll"),i.className="jsoneditor-collapse-all",i.onclick=function(){t.collapseAll()},this.menu.appendChild(i);var o=document.createElement("button");o.type="button",o.className="jsoneditor-sort",o.title=g("sortTitleShort"),o.onclick=function(){var e=t.options.modalAnchor||v;f(t.node,e)},this.menu.appendChild(o);var r=document.createElement("button");if(r.type="button",r.title=g("transformTitleShort"),r.className="jsoneditor-transform",r.onclick=function(){var e=t.options.modalAnchor||v;m(t.node,e)},this.menu.appendChild(r),this.history){var a=document.createElement("button");a.type="button",a.className="jsoneditor-undo jsoneditor-separator",a.title=g("undo"),a.onclick=function(){t._onUndo()},this.menu.appendChild(a),this.dom.undo=a;var s=document.createElement("button");s.type="button",s.className="jsoneditor-redo",s.title=g("redo"),s.onclick=function(){t._onRedo()},this.menu.appendChild(s),this.dom.redo=s,this.history.onChange=function(){a.disabled=!t.history.canUndo(),s.disabled=!t.history.canRedo()},this.history.onChange()}if(this.options&&this.options.modes&&this.options.modes.length){var l=this;this.modeSwitcher=new h(this.menu,this.options.modes,this.options.mode,function(e){l.modeSwitcher.destroy(),l.setMode(e),l.modeSwitcher.focus()})}this.options.search&&(this.searchBox=new c(this,this.menu)),this.options.navigationBar&&(this.navBar=document.createElement("div"),this.navBar.className="jsoneditor-navigation-bar nav-bar-empty",this.frame.appendChild(this.navBar),this.treePath=new d(this.navBar),this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this)),this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this)))},_onUndo:function(){this.history&&(this.history.undo(),this._onChange())},_onRedo:function(){this.history&&(this.history.redo(),this._onChange())},_onEvent:function(e){"keydown"===e.type&&this._onKeyDown(e),"focus"===e.type&&(this.focusTarget=e.target),"mousedown"===e.type&&this._startDragDistance(e),"mousemove"!==e.type&&"mouseup"!==e.type&&"click"!==e.type||this._updateDragDistance(e);var t=u.getNodeFromTarget(e.target);if(t&&this.options&&this.options.navigationBar&&t&&("keydown"===e.type||"mousedown"===e.type)){var n=this;setTimeout(function(){n._updateTreePath(t.getNodePath())})}if(t&&t.selected){if("click"===e.type){if(e.target===t.dom.menu)return void this.showContextMenu(e.target);e.hasMoved||this.deselect()}"mousedown"===e.type&&u.onDragStart(this.multiselection.nodes,e)}else"mousedown"===e.type&&(this.deselect(),t&&e.target===t.dom.drag?u.onDragStart(t,e):t&&(e.target===t.dom.field||e.target===t.dom.value||e.target===t.dom.select)||this._onMultiSelectStart(e));t&&t.onEvent(e)},_updateTreePath:function(e){function n(e){return e.parent?"array"===e.parent.type?e.index:e.field:e.type}if(e&&e.length){p.removeClassName(this.navBar,"nav-bar-empty");var i=[];e.forEach(function(e){var t={name:n(e),node:e,children:[]};e.childs&&e.childs.length&&e.childs.forEach(function(e){t.children.push({name:n(e),node:e})}),i.push(t)}),this.treePath.setPath(i)}else p.addClassName(this.navBar,"nav-bar-empty")},_onTreePathSectionSelected:function(e){e&&e.node&&(e.node.expandTo(),e.node.focus())},_onTreePathMenuItemSelected:function(e,t){if(e&&e.children.length){var n=e.children.find(function(e){return e.name===t});n&&n.node&&(this._updateTreePath(n.node.getNodePath()),n.node.expandTo(),n.node.focus())}},_startDragDistance:function(e){this.dragDistanceEvent={initialTarget:e.target,initialPageX:e.pageX,initialPageY:e.pageY,dragDistance:0,hasMoved:!1}},_updateDragDistance:function(e){this.dragDistanceEvent||this._startDragDistance(e);var t=e.pageX-this.dragDistanceEvent.initialPageX,n=e.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(t*t+n*n),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||10<this.dragDistanceEvent.dragDistance,e.dragDistance=this.dragDistanceEvent.dragDistance,e.hasMoved=this.dragDistanceEvent.hasMoved,e.dragDistance},_onMultiSelectStart:function(e){var t=u.getNodeFromTarget(e.target);if("tree"===this.options.mode&&void 0===this.options.onEditable){this.multiselection={start:t||null,end:null,nodes:[]},this._startDragDistance(e);var n=this;this.mousemove||(this.mousemove=p.addEventListener(window,"mousemove",function(e){n._onMultiSelect(e)})),this.mouseup||(this.mouseup=p.addEventListener(window,"mouseup",function(e){n._onMultiSelectEnd(e)}))}},_onMultiSelect:function(e){if(e.preventDefault(),this._updateDragDistance(e),e.hasMoved){var t=u.getNodeFromTarget(e.target);t&&(null==this.multiselection.start&&(this.multiselection.start=t),this.multiselection.end=t),this.deselect();var n=this.multiselection.start,i=this.multiselection.end||this.multiselection.start;if(n&&i){if(this.multiselection.nodes=this._findTopLevelNodes(n,i),this.multiselection.nodes&&this.multiselection.nodes.length){var o=this.multiselection.nodes[0];this.multiselection.start===o||this.multiselection.start.isDescendantOf(o)?this.multiselection.direction="down":this.multiselection.direction="up"}this.select(this.multiselection.nodes)}}},_onMultiSelectEnd:function(e){this.multiselection.nodes[0]&&this.multiselection.nodes[0].dom.menu.focus(),this.multiselection.start=null,this.multiselection.end=null,this.mousemove&&(p.removeEventListener(window,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&(p.removeEventListener(window,"mouseup",this.mouseup),delete this.mouseup)},deselect:function(e){var t=!!this.multiselection.nodes.length;this.multiselection.nodes.forEach(function(e){e.setSelected(!1)}),this.multiselection.nodes=[],e&&(this.multiselection.start=null,this.multiselection.end=null),t&&this._selectionChangedHandler&&this._selectionChangedHandler()},select:function(e){if(!Array.isArray(e))return this.select([e]);if(e){this.deselect(),this.multiselection.nodes=e.slice(0);var t=e[0];if(e.forEach(function(e){e.expandPathToNode(),e.setSelected(!0,e===t)}),this._selectionChangedHandler){var n=this.getSelection();this._selectionChangedHandler(n.start,n.end)}}},_findTopLevelNodes:function(e,t){for(var n=e.getNodePath(),i=t.getNodePath(),o=0;o<n.length&&n[o]===i[o];)o++;var r=n[o-1],a=n[o],s=i[o];if(a&&s||(r.parent?r=(s=a=r).parent:(a=r.childs[0],s=r.childs[r.childs.length-1])),r&&a&&s){var l=r.childs.indexOf(a),c=r.childs.indexOf(s),d=Math.min(l,c),u=Math.max(l,c);return r.childs.slice(d,u+1)}return[]},_onKeyDown:function(e){var t=e.which||e.keyCode,n=e.altKey,i=e.ctrlKey,o=e.metaKey,r=e.shiftKey,a=!1;if(9==t){var s=this;setTimeout(function(){p.selectContentEditable(s.focusTarget)},0)}if(this.searchBox&&(i&&70==t?(this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),a=!0):(114==t||i&&71==t)&&(r?this.searchBox.previous(!0):this.searchBox.next(!0),a=!0)),this.history&&(i&&!r&&90==t?(this._onUndo(),a=!0):i&&r&&90==t&&(this._onRedo(),a=!0)),this.options.autocomplete&&!a&&!(i||n||o||1!=e.key.length&&8!=t&&46!=t)){a=!1;var l="";0<=e.target.className.indexOf("jsoneditor-value")&&(l="value"),0<=e.target.className.indexOf("jsoneditor-field")&&(l="field");var c=u.getNodeFromTarget(e.target);setTimeout(function(e,t){if(0<t.innerText.length){var n=this.options.autocomplete.getOptions(t.innerText,e.getPath(),l,e.editor);null===n?this.autocomplete.hideDropDown():"function"==typeof n.then?n.then(function(e){null===e?this.autocomplete.hideDropDown():e.options?this.autocomplete.show(t,e.startFrom,e.options):this.autocomplete.show(t,0,e)}.bind(this)):n.options?this.autocomplete.show(t,n.startFrom,n.options):this.autocomplete.show(t,0,n)}else this.autocomplete.hideDropDown()}.bind(this,c,e.target),50)}a&&(e.preventDefault(),e.stopPropagation())},_createTable:function(){var e,t=document.createElement("div");t.className="jsoneditor-outer",this.options.navigationBar&&p.addClassName(t,"has-nav-bar"),this.contentOuter=t,this.scrollableContent=document.createElement("div"),this.scrollableContent.className="jsoneditor-tree",t.appendChild(this.scrollableContent),this.content=document.createElement("div"),this.content.className="jsoneditor-tree-inner",this.scrollableContent.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-tree",this.content.appendChild(this.table),this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&((e=document.createElement("col")).width="24px",this.colgroupContent.appendChild(e)),(e=document.createElement("col")).width="24px",this.colgroupContent.appendChild(e),e=document.createElement("col"),this.colgroupContent.appendChild(e),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(t)},showContextMenu:function(e,t){var n=[],i=this;n.push({text:g("duplicateText"),title:g("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){u.onDuplicate(i.multiselection.nodes)}}),n.push({text:g("remove"),title:g("removeTitle"),className:"jsoneditor-remove",click:function(){u.onRemove(i.multiselection.nodes)}}),new r(n,{close:t}).show(e,this.content)},getSelection:function(){var e={start:null,end:null};if(this.multiselection.nodes&&this.multiselection.nodes.length&&this.multiselection.nodes.length){var t=this.multiselection.nodes[0],n=this.multiselection.nodes[this.multiselection.nodes.length-1];"down"===this.multiselection.direction?(e.start=t.serialize(),e.end=n.serialize()):(e.start=n.serialize(),e.end=t.serialize())}return e},onSelectionChange:function(e){"function"==typeof e&&(this._selectionChangedHandler=p.debounce(e,this.DEBOUNCE_INTERVAL))},setSelection:function(e,t){e&&e.dom&&e.range&&(console.warn("setSelection/getSelection usage for text selection is depracated and should not be used, see documantaion for supported selection options"),this.setDomSelection(e));var n=this._getNodeInstancesByRange(e,t);n.forEach(function(e){e.expandTo()}),this.select(n)},_getNodeInstancesByRange:function(e,t){var n,i;e&&e.path&&(n=this.node.findNodeByPath(e.path),t&&t.path&&(i=this.node.findNodeByPath(t.path)));var o=[];if(n instanceof u)if(i instanceof u&&i!==n)if(n.parent===i.parent){t=n.getIndex()<i.getIndex()?(e=n,i):(e=i,n);var r=e;for(o.push(r);r=r.nextSibling(),o.push(r),r&&r!==t;);}else o=this._findTopLevelNodes(n,i);else o.push(n);return o},getNodesByRange:function(e,t){var n=this._getNodeInstancesByRange(e,t),i=[];return n.forEach(function(e){i.push(e.serialize())}),i}};e.exports=[{mode:"tree",mixin:b,data:"json"},{mode:"view",mixin:b,data:"json"},{mode:"form",mixin:b,data:"json"}]},function(e,t){"use strict";function n(){this.locked=!1}n.prototype.highlight=function(e){this.locked||(this.node!=e&&(this.node&&this.node.setHighlight(!1),this.node=e,this.node.setHighlight(!0)),this._cancelUnhighlight())},n.prototype.unhighlight=function(){if(!this.locked){var e=this;this.node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout(function(){e.node.setHighlight(!1),e.node=void 0,e.unhighlightTimer=void 0},0))}},n.prototype._cancelUnhighlight=function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0)},n.prototype.lock=function(){this.locked=!0},n.prototype.unlock=function(){this.locked=!1},e.exports=n},function(e,t){"use strict";function n(t){function r(e){return t.node.findNodeByInternalPath(e)}this.editor=t,this.history=[],this.index=-1,this.clear(),this.actions={editField:{undo:function(e){r(e.parentPath).childs[e.index].updateField(e.oldValue)},redo:function(e){r(e.parentPath).childs[e.index].updateField(e.newValue)}},editValue:{undo:function(e){r(e.path).updateValue(e.oldValue)},redo:function(e){r(e.path).updateValue(e.newValue)}},changeType:{undo:function(e){r(e.path).changeType(e.oldType)},redo:function(e){r(e.path).changeType(e.newType)}},appendNodes:{undo:function(e){var t=r(e.parentPath);e.paths.map(r).forEach(function(e){t.removeChild(e)})},redo:function(e){var t=r(e.parentPath);e.nodes.forEach(function(e){t.appendChild(e)})}},insertBeforeNodes:{undo:function(e){var t=r(e.parentPath);e.paths.map(r).forEach(function(e){t.removeChild(e)})},redo:function(e){var t=r(e.parentPath),n=r(e.beforePath);e.nodes.forEach(function(e){t.insertBefore(e,n)})}},insertAfterNodes:{undo:function(e){var t=r(e.parentPath);e.paths.map(r).forEach(function(e){t.removeChild(e)})},redo:function(e){var t=r(e.parentPath),n=r(e.afterPath);e.nodes.forEach(function(e){t.insertAfter(e,n),n=e})}},removeNodes:{undo:function(e){var t=r(e.parentPath),n=t.childs[e.index]||t.append;e.nodes.forEach(function(e){t.insertBefore(e,n)})},redo:function(e){var t=r(e.parentPath);e.paths.map(r).forEach(function(e){t.removeChild(e)})}},duplicateNodes:{undo:function(e){var t=r(e.parentPath);e.clonePaths.map(r).forEach(function(e){t.removeChild(e)})},redo:function(e){var n=r(e.parentPath),i=r(e.afterPath);e.paths.map(r).forEach(function(e){var t=e.clone();n.insertAfter(t,i),i=t})}},moveNodes:{undo:function(n){var i=r(n.oldParentPath),e=r(n.newParentPath),o=i.childs[n.oldIndex]||i.append;e.childs.slice(n.newIndex,n.newIndex+n.count).forEach(function(e,t){e.field=n.fieldNames[t],i.moveBefore(e,o)}),null===n.newParentPathRedo&&(n.newParentPathRedo=e.getInternalPath())},redo:function(n){var e=r(n.oldParentPathRedo),i=r(n.newParentPathRedo),o=i.childs[n.newIndexRedo]||i.append;e.childs.slice(n.oldIndexRedo,n.oldIndexRedo+n.count).forEach(function(e,t){e.field=n.fieldNames[t],i.moveBefore(e,o)})}},sort:{undo:function(e){var t=r(e.path);t.hideChilds(),t.childs=e.oldChilds,t.updateDom({updateIndexes:!0}),t.showChilds()},redo:function(e){var t=r(e.path);t.hideChilds(),t.childs=e.newChilds,t.updateDom({updateIndexes:!0}),t.showChilds()}},transform:{undo:function(e){r(e.path).setInternalValue(e.oldValue)},redo:function(e){r(e.path).setInternalValue(e.newValue)}}}}n.prototype.onChange=function(){},n.prototype.add=function(e,t){this.index++,this.history[this.index]={action:e,params:t,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()},n.prototype.clear=function(){this.history=[],this.index=-1,this.onChange()},n.prototype.canUndo=function(){return 0<=this.index},n.prototype.canRedo=function(){return this.index<this.history.length-1},n.prototype.undo=function(){if(this.canUndo()){var e=this.history[this.index];if(e){var t=this.actions[e.action];if(t&&t.undo){if(t.undo(e.params),e.params.oldSelection)try{this.editor.setDomSelection(e.params.oldSelection)}catch(e){console.error(e)}}else console.error(new Error('unknown action "'+e.action+'"'))}this.index--,this.onChange()}},n.prototype.redo=function(){if(this.canRedo()){this.index++;var e=this.history[this.index];if(e){var t=this.actions[e.action];if(t&&t.redo){if(t.redo(e.params),e.params.newSelection)try{this.editor.setDomSelection(e.params.newSelection)}catch(e){console.error(e)}}else console.error(new Error('unknown action "'+e.action+'"'))}this.onChange()}},n.prototype.destroy=function(){this.editor=null,this.history=[],this.index=-1},e.exports=n},function(e,t){"use strict";function n(e,t){var n=this;this.editor=e,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.dom={},this.dom.container=t;var i=document.createElement("table");(this.dom.table=i).className="jsoneditor-search",t.appendChild(i);var o=document.createElement("tbody");this.dom.tbody=o,i.appendChild(o);var r=document.createElement("tr");o.appendChild(r);var a=document.createElement("td");r.appendChild(a);var s=document.createElement("div");(this.dom.results=s).className="jsoneditor-results",a.appendChild(s),a=document.createElement("td"),r.appendChild(a);var l=document.createElement("div");(this.dom.input=l).className="jsoneditor-frame",l.title="Search fields and values",a.appendChild(l);var c=document.createElement("table");l.appendChild(c);var d=document.createElement("tbody");c.appendChild(d),r=document.createElement("tr"),d.appendChild(r);var u=document.createElement("button");u.type="button",u.className="jsoneditor-refresh",(a=document.createElement("td")).appendChild(u),r.appendChild(a);var h=document.createElement("input");(this.dom.search=h).oninput=function(e){n._onDelayedSearch(e)},h.onchange=function(e){n._onSearch()},h.onkeydown=function(e){n._onKeyDown(e)},h.onkeyup=function(e){n._onKeyUp(e)},u.onclick=function(e){h.select()},(a=document.createElement("td")).appendChild(h),r.appendChild(a);var p=document.createElement("button");p.type="button",p.title="Next result (Enter)",p.className="jsoneditor-next",p.onclick=function(){n.next()},(a=document.createElement("td")).appendChild(p),r.appendChild(a);var f=document.createElement("button");f.type="button",f.title="Previous result (Shift+Enter)",f.className="jsoneditor-previous",f.onclick=function(){n.previous()},(a=document.createElement("td")).appendChild(f),r.appendChild(a)}n.prototype.next=function(e){if(null!=this.results){var t=null!=this.resultIndex?this.resultIndex+1:0;t>this.results.length-1&&(t=0),this._setActiveResult(t,e)}},n.prototype.previous=function(e){if(null!=this.results){var t=this.results.length-1,n=null!=this.resultIndex?this.resultIndex-1:t;n<0&&(n=t),this._setActiveResult(n,e)}},n.prototype._setActiveResult=function(e,t){if(this.activeResult){var n=this.activeResult.node;"field"==this.activeResult.elem?delete n.searchFieldActive:delete n.searchValueActive,n.updateDom()}if(!this.results||!this.results[e])return this.resultIndex=void 0,void(this.activeResult=void 0);this.resultIndex=e;var i=this.results[this.resultIndex].node,o=this.results[this.resultIndex].elem;"field"==o?i.searchFieldActive=!0:i.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],i.updateDom(),i.scrollTo(function(){t&&i.focus(o)})},n.prototype._clearDelay=function(){null!=this.timeout&&(clearTimeout(this.timeout),delete this.timeout)},n.prototype._onDelayedSearch=function(e){this._clearDelay();var t=this;this.timeout=setTimeout(function(e){t._onSearch()},this.delay)},n.prototype._onSearch=function(e){this._clearDelay();var t=this.dom.search.value,n=0<t.length?t:void 0;if(n!==this.lastText||e){this.lastText=n,this.results=this.editor.search(n);var i=this.results[0]?this.results[0].node.MAX_SEARCH_RESULTS:1/0,o=0;if(this.activeResult)for(var r=0;r<this.results.length;r++)if(this.results[r].node===this.activeResult.node){o=r;break}if(this._setActiveResult(o,!1),void 0!==n){var a=this.results.length;this.dom.results.innerHTML=0===a?"no&nbsp;results":1===a?"1&nbsp;result":i<a?i+"+&nbsp;results":a+"&nbsp;results"}else this.dom.results.innerHTML=""}},n.prototype._onKeyDown=function(e){var t=e.which;27==t?(this.dom.search.value="",this._onSearch(),e.preventDefault(),e.stopPropagation()):13==t&&(e.ctrlKey?this._onSearch(!0):e.shiftKey?this.previous():this.next(),e.preventDefault(),e.stopPropagation())},n.prototype._onKeyUp=function(e){var t=e.keyCode;27!=t&&13!=t&&this._onDelayedSearch(e)},n.prototype.clear=function(){this.dom.search.value="",this._onSearch()},n.prototype.forceSearch=function(){this._onSearch(!0)},n.prototype.isEmpty=function(){return""===this.dom.search.value},n.prototype.destroy=function(){this.editor=null,this.dom.container.removeChild(this.dom.table),this.dom=null,this.results=null,this.activeResult=null,this._clearDelay()},e.exports=n},function(e,t,n){"use strict";function p(n,e){this.dom={};var m=this,t=this.dom;this.anchor=void 0,this.items=n,this.eventListeners={},this.selection=void 0,this.onClose=e?e.close:void 0;var i=document.createElement("div");i.className="jsoneditor-contextmenu-root",t.root=i;var o=document.createElement("div");o.className="jsoneditor-contextmenu",t.menu=o,i.appendChild(o);var r=document.createElement("ul");r.className="jsoneditor-menu",o.appendChild(r),t.list=r,t.items=[];var a=document.createElement("button");a.type="button",t.focusButton=a;var s=document.createElement("li");s.style.overflow="hidden",s.style.height="0",s.appendChild(a),r.appendChild(s),function h(p,f,e){e.forEach(function(t){if("separator"==t.type){var e=document.createElement("div");e.className="jsoneditor-separator",(i=document.createElement("li")).appendChild(e),p.appendChild(i)}else{var n={},i=document.createElement("li");p.appendChild(i);var o=document.createElement("button");if(o.type="button",o.className=t.className,n.button=o,t.title&&(o.title=t.title),t.click&&(o.onclick=function(e){e.preventDefault(),m.hide(),t.click()}),i.appendChild(o),t.submenu){var r=document.createElement("div");r.className="jsoneditor-icon",o.appendChild(r);var a,s=document.createElement("div");if(s.className="jsoneditor-text"+(t.click?"":" jsoneditor-right-margin"),s.appendChild(document.createTextNode(t.text)),o.appendChild(s),t.click){o.className+=" jsoneditor-default";var l=document.createElement("button");l.type="button",(n.buttonExpand=l).className="jsoneditor-expand",l.innerHTML='<div class="jsoneditor-expand"></div>',i.appendChild(l),t.submenuTitle&&(l.title=t.submenuTitle),a=l}else{var c=document.createElement("div");c.className="jsoneditor-expand",o.appendChild(c),a=o}a.onclick=function(e){e.preventDefault(),m._onExpandItem(n),a.focus()};var d=[];n.subItems=d;var u=document.createElement("ul");(n.ul=u).className="jsoneditor-menu",u.style.height="0",i.appendChild(u),h(u,d,t.submenu)}else o.innerHTML='<div class="jsoneditor-icon"></div><div class="jsoneditor-text">'+g(t.text)+"</div>";f.push(n)}})}(r,this.dom.items,n),this.maxHeight=0,n.forEach(function(e){var t=24*(n.length+(e.submenu?e.submenu.length:0));m.maxHeight=Math.max(m.maxHeight,t)})}var f=n(6),g=n(8).translate;p.prototype._getVisibleButtons=function(){var t=[],n=this;return this.dom.items.forEach(function(e){t.push(e.button),e.buttonExpand&&t.push(e.buttonExpand),e.subItems&&e==n.expandedItem&&e.subItems.forEach(function(e){t.push(e.button),e.buttonExpand&&t.push(e.buttonExpand)})}),t},p.visibleMenu=void 0,p.prototype.show=function(e,t){this.hide();var n=!0,i=e.parentNode,o=e.getBoundingClientRect(),r=i.getBoundingClientRect();if(t){var a=t.getBoundingClientRect();o.bottom+this.maxHeight<a.bottom||o.top-this.maxHeight>a.top&&(n=!1)}var s,l=o.left-r.left,c=o.top-r.top;if(n){var d=e.offsetHeight;this.dom.menu.style.left=l+"px",this.dom.menu.style.top=c+d+"px",this.dom.menu.style.bottom=""}else this.dom.menu.style.left=l+"px",this.dom.menu.style.top=c+"px",this.dom.menu.style.bottom="0px";this.rootNode=(s=e).getRootNode&&s.getRootNode()||window,i.insertBefore(this.dom.root,i.firstChild);var u=this,h=this.dom.list;this.eventListeners.mousedown=f.addEventListener(this.rootNode,"mousedown",function(e){var t=e.target;t==h||u._isChildOf(t,h)||(u.hide(),e.stopPropagation(),e.preventDefault())}),this.eventListeners.keydown=f.addEventListener(this.rootNode,"keydown",function(e){u._onKeyDown(e)}),this.selection=f.getSelection(),this.anchor=e,setTimeout(function(){u.dom.focusButton.focus()},0),p.visibleMenu&&p.visibleMenu.hide(),p.visibleMenu=this},p.prototype.hide=function(){for(var e in this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose&&this.onClose()),this.eventListeners)if(this.eventListeners.hasOwnProperty(e)){var t=this.eventListeners[e];t&&f.removeEventListener(this.rootNode,e,t),delete this.eventListeners[e]}p.visibleMenu==this&&(p.visibleMenu=void 0)},p.prototype._onExpandItem=function(n){var i=this,e=n==this.expandedItem,t=this.expandedItem;if(t&&(t.ul.style.height="0",t.ul.style.padding="",setTimeout(function(){i.expandedItem!=t&&(t.ul.style.display="",f.removeClassName(t.ul.parentNode,"jsoneditor-selected"))},300),this.expandedItem=void 0),!e){var o=n.ul;o.style.display="block",o.clientHeight,setTimeout(function(){if(i.expandedItem==n){for(var e=0,t=0;t<o.childNodes.length;t++)e+=o.childNodes[t].clientHeight;o.style.height=e+"px",o.style.padding="5px 10px"}},0),f.addClassName(o.parentNode,"jsoneditor-selected"),this.expandedItem=n}},p.prototype._onKeyDown=function(e){var t,n,i,o,r=e.target,a=e.which,s=!1;27==a?(this.selection&&f.setSelection(this.selection),this.anchor&&this.anchor.focus(),this.hide(),s=!0):9==a?e.shiftKey?0==(n=(t=this._getVisibleButtons()).indexOf(r))&&(t[t.length-1].focus(),s=!0):(n=(t=this._getVisibleButtons()).indexOf(r))==t.length-1&&(t[0].focus(),s=!0):37==a?("jsoneditor-expand"==r.className&&(n=(t=this._getVisibleButtons()).indexOf(r),(i=t[n-1])&&i.focus()),s=!0):38==a?(n=(t=this._getVisibleButtons()).indexOf(r),(i=t[n-1])&&"jsoneditor-expand"==i.className&&(i=t[n-2]),(i=i||t[t.length-1])&&i.focus(),s=!0):39==a?(n=(t=this._getVisibleButtons()).indexOf(r),(o=t[n+1])&&"jsoneditor-expand"==o.className&&o.focus(),s=!0):40==a&&(n=(t=this._getVisibleButtons()).indexOf(r),(o=t[n+1])&&"jsoneditor-expand"==o.className&&(o=t[n+2]),(o=o||t[0])&&(o.focus(),s=!0),s=!0),s&&(e.stopPropagation(),e.preventDefault())},p.prototype._isChildOf=function(e,t){for(var n=e.parentNode;n;){if(n==t)return!0;n=n.parentNode}return!1},e.exports=p},function(e,c,t){"use strict";var n=t(7);c.parse=function(t){try{return JSON.parse(t)}catch(e){throw c.validate(t),e}},c.sanitize=function(n){function i(){return n.charAt(r)}function e(){return n.charAt(r+1)}function t(e){o.push('"'),r++;for(var t=i();r<n.length&&t!==e;)'"'===t&&"\\"!==n.charAt(r-1)?o.push('\\"'):s.hasOwnProperty(t)?o.push(s[t]):("\\"===t&&(r++,"'"!==(t=i())&&o.push("\\")),o.push(t)),r++,t=i();t===e&&(o.push('"'),r++)}var o=[],r=0,a=n.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/);a&&(n=a[3]);for(var s={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};r<n.length;){var l=i();"/"===l&&"*"===e()?function(){for(r+=2;r<n.length&&("*"!==i()||"/"!==e());)r++;r+=2}():"/"===l&&"/"===e()?function(){for(r+=2;r<n.length&&"\n"!==i();)r++}():" "===l||" "<=l&&l<=" "||" "===l||" "===l||"　"===l?(o.push(" "),r++):"'"===l?t("'"):'"'===l?t('"'):"`"===l?t("´"):"‘"===l?t("’"):"“"===l?t("”"):/[a-zA-Z_$]/.test(l)&&-1!==["{",","].indexOf(function(){for(var e=o.length-1;0<=e;){var t=o[e];if(" "!==t&&"\n"!==t&&"\r"!==t&&"\t"!==t)return t;e--}return""}())?function(){for(var e="",t=i(),n=/[a-zA-Z_$\d]/;n.test(t);)e+=t,r++,t=i();-1===["null","true","false"].indexOf(e)?o.push('"'+e+'"'):o.push(e)}():(o.push(l),r++)}return o.join("")},c.escapeUnicodeChars=function(e){return e.replace(/[\u007F-\uFFFF]/g,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})},c.validate=function(e){void 0!==n?n.parse(e):JSON.parse(e)},c.extend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},c.clear=function(e){for(var t in e)e.hasOwnProperty(t)&&delete e[t];return e},c.type=function(e){return null===e?"null":void 0===e?"undefined":e instanceof Number||"number"==typeof e?"number":e instanceof String||"string"==typeof e?"string":e instanceof Boolean||"boolean"==typeof e?"boolean":e instanceof RegExp||"regexp"==typeof e?"regexp":c.isArray(e)?"array":"object"};var i=/^https?:\/\/\S+$/;c.isUrl=function(e){return("string"==typeof e||e instanceof String)&&i.test(e)},c.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},c.getAbsoluteLeft=function(e){return e.getBoundingClientRect().left+window.pageXOffset||document.scrollLeft||0},c.getAbsoluteTop=function(e){return e.getBoundingClientRect().top+window.pageYOffset||document.scrollTop||0},c.addClassName=function(e,t){var n=e.className.split(" ");-1==n.indexOf(t)&&(n.push(t),e.className=n.join(" "))},c.removeClassName=function(e,t){var n=e.className.split(" "),i=n.indexOf(t);-1!=i&&(n.splice(i,1),e.className=n.join(" "))},c.stripFormatting=function(e){for(var t=e.childNodes,n=0,i=t.length;n<i;n++){var o=t[n];o.style&&o.removeAttribute("style");var r=o.attributes;if(r)for(var a=r.length-1;0<=a;a--){var s=r[a];!0===s.specified&&o.removeAttribute(s.name)}c.stripFormatting(o)}},c.setEndOfContentEditable=function(e){var t,n;document.createRange&&((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t))},c.selectContentEditable=function(e){var t,n;e&&"DIV"==e.nodeName&&window.getSelection&&document.createRange&&((n=document.createRange()).selectNodeContents(e),(t=window.getSelection()).removeAllRanges(),t.addRange(n))},c.getSelection=function(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}return null},c.setSelection=function(e){if(e&&window.getSelection){var t=window.getSelection();t.removeAllRanges(),t.addRange(e)}},c.getSelectionOffset=function(){var e=c.getSelection();return e&&"startOffset"in e&&"endOffset"in e&&e.startContainer&&e.startContainer==e.endContainer?{startOffset:e.startOffset,endOffset:e.endOffset,container:e.startContainer.parentNode}:null},c.setSelectionOffset=function(e){if(document.createRange&&window.getSelection&&window.getSelection()){var t=document.createRange();e.container.firstChild||e.container.appendChild(document.createTextNode("")),t.setStart(e.container.firstChild,e.startOffset),t.setEnd(e.container.firstChild,e.endOffset),c.setSelection(t)}},c.getInnerText=function(e,t){if(null==t&&(t={text:"",flush:function(){var e=this.text;return this.text="",e},set:function(e){this.text=e}}),e.nodeValue)return t.flush()+e.nodeValue;if(e.hasChildNodes()){for(var n=e.childNodes,i="",o=0,r=n.length;o<r;o++){var a=n[o];if("DIV"==a.nodeName||"P"==a.nodeName){var s=n[o-1],l=s?s.nodeName:void 0;l&&"DIV"!=l&&"P"!=l&&"BR"!=l&&(i+="\n",t.flush()),i+=c.getInnerText(a,t),t.set("\n")}else"BR"==a.nodeName?(i+=t.flush(),t.set("\n")):i+=c.getInnerText(a,t)}return i}return"P"==e.nodeName&&-1!=c.getInternetExplorerVersion()?t.flush():""},c.getInternetExplorerVersion=function(){if(-1==o){var e=-1;if("undefined"!=typeof navigator&&"Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}o=e}return o},c.isFirefox=function(){return"undefined"!=typeof navigator&&-1!==navigator.userAgent.indexOf("Firefox")};var o=-1;function r(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!=this.parentNode&&this.parentNode.removeChild(this)}})}c.addEventListener=function(e,t,n,i){if(e.addEventListener)return void 0===i&&(i=!1),"mousewheel"===t&&c.isFirefox()&&(t="DOMMouseScroll"),e.addEventListener(t,n,i),n;if(e.attachEvent){var o=function(){return n.call(e,window.event)};return e.attachEvent("on"+t,o),o}},c.removeEventListener=function(e,t,n,i){e.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===t&&c.isFirefox()&&(t="DOMMouseScroll"),e.removeEventListener(t,n,i)):e.detachEvent&&e.detachEvent("on"+t,n)},c.parsePath=function e(t){var n,i;if(0===t.length)return[];var o=t.match(/^\.(\w+)/);if(o)n=o[1],i=t.substr(n.length+1);else{if("["!==t[0])throw new SyntaxError("Failed to parse path");var r=t.indexOf("]");if(-1===r)throw new SyntaxError("Character ] expected in path");if(1===r)throw new SyntaxError("Index expected after [");var a=t.substring(1,r);"'"===a[0]&&(a='"'+a.substring(1,a.length-1)+'"'),n="*"===a?a:JSON.parse(a),i=t.substr(r+1)}return[n].concat(e(i))},c.improveSchemaError=function(e){if("enum"===e.keyword&&Array.isArray(e.schema)){var t=e.schema;if(t){if(5<(t=t.map(function(e){return JSON.stringify(e)})).length){var n=["("+(t.length-5)+" more...)"];(t=t.slice(0,5)).push(n)}e.message="should be equal to one of: "+t.join(", ")}}return"additionalProperties"===e.keyword&&(e.message="should NOT have additional property: "+e.params.additionalProperty),e},c.insideRect=function(e,t,n){var i=void 0!==n?n:0;return t.left-i>=e.left&&t.right+i<=e.right&&t.top-i>=e.top&&t.bottom+i<=e.bottom},c.debounce=function(i,o,r){var a;return function(){var e=this,t=arguments,n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||i.apply(e,t)},o),n&&i.apply(e,t)}},c.textDiff=function(e,t){for(var n=t.length,i=0,o=e.length,r=t.length;t.charAt(i)===e.charAt(i)&&i<n;)i++;for(;t.charAt(r-1)===e.charAt(o-1)&&i<r&&0<o;)r--,o--;return{start:i,end:r}},c.getInputSelection=function(n){function e(e){var t=n.value.substring(0,e);return{row:(t.match(/\n/g)||[]).length+1,column:t.length-t.lastIndexOf("\n")}}var t,i,o,r,a,s=0,l=0;return"number"==typeof n.selectionStart&&"number"==typeof n.selectionEnd?(s=n.selectionStart,l=n.selectionEnd):(i=document.selection.createRange())&&i.parentElement()==n&&(r=n.value.length,t=n.value.replace(/\r\n/g,"\n"),(o=n.createTextRange()).moveToBookmark(i.getBookmark()),(a=n.createTextRange()).collapse(!1),-1<o.compareEndPoints("StartToEnd",a)?s=l=r:(s=-o.moveStart("character",-r),s+=t.slice(0,s).split("\n").length-1,-1<o.compareEndPoints("EndToEnd",a)?l=r:(l=-o.moveEnd("character",-r),l+=t.slice(0,l).split("\n").length-1))),{startIndex:s,endIndex:l,start:e(s),end:e(l)}},c.getIndexForPosition=function(e,t,n){var i=e.value||"";if(0<t&&0<n){var o=i.split("\n",t);t=Math.min(o.length,t),n=Math.min(o[t-1].length,n-1);var r=1==t?n:n+1;return o.slice(0,t-1).join("\n").length+r}return-1},"undefined"!=typeof Element&&("undefined"!=typeof Element&&r(Element.prototype),"undefined"!=typeof CharacterData&&r(CharacterData.prototype),"undefined"!=typeof DocumentType&&r(DocumentType.prototype)),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),Array.prototype.find||(Array.prototype.find=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(e.call(this,n,t,this))return n}})},function(e,t,n){var i,o=((i={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,i,o,r,a){var s=r.length-1;switch(o){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=r[s-1];case 13:this.$={};break;case 14:this.$=r[s-1];break;case 15:this.$=[r[s-2],r[s]];break;case 16:this.$={},this.$[r[s][0]]=r[s][1];break;case 17:this.$=r[s-2],r[s-2][r[s][0]]=r[s][1];break;case 18:this.$=[];break;case 19:this.$=r[s-1];break;case 20:this.$=[r[s]];break;case 21:this.$=r[s-2],r[s-2].push(r[s])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return"number"!=typeof(e=n.lexer.lex()||1)&&(e=n.symbols_[e]||e),e}var n=this,i=[0],o=[null],r=[],a=this.table,s="",l=0,c=0,d=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var u=this.lexer.yylloc;r.push(u),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,p,f,m,g,v,b,y,x,w={};;){if(f=i[i.length-1],void 0===(m=this.defaultActions[f]?this.defaultActions[f]:(null==h&&(h=t()),a[f]&&a[f][h]))||!m.length||!m[0]){if(!d){for(v in x=[],a[f])this.terminals_[v]&&2<v&&x.push("'"+this.terminals_[v]+"'");var C="";C=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+this.terminals_[h]+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(C,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:u,expected:x})}if(3==d){if(1==h)throw new Error(C||"Parsing halted.");c=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,h=t()}for(;!(2..toString()in a[f]);){if(0==f)throw new Error(C||"Parsing halted.");i.length=i.length-2,o.length=o.length-1,r.length=r.length-1,f=i[i.length-1]}p=h,h=2,m=a[f=i[i.length-1]]&&a[f][2],d=3}if(m[0]instanceof Array&&1<m.length)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+h);switch(m[0]){case 1:i.push(h),o.push(this.lexer.yytext),r.push(this.lexer.yylloc),i.push(m[1]),h=null,p?(h=p,p=null):(c=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,u=this.lexer.yylloc,0<d&&d--);break;case 2:if(b=this.productions_[m[1]][1],w.$=o[o.length-b],w._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},void 0!==(g=this.performAction.call(w,s,c,l,this.yy,m[1],o,r)))return g;b&&(i=i.slice(0,-1*b*2),o=o.slice(0,-1*b),r=r.slice(0,-1*b)),i.push(this.productions_[m[1]][0]),o.push(w.$),r.push(w._$),y=a[i[i.length-2]][i[i.length-1]],i.push(y);break;case 3:return!0}}return!0}}).lexer={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,i,o;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),a=0;a<r.length&&(!(n=this._input.match(this.rules[r[a]]))||t&&!(n[0].length>t[0].length)||(t=n,i=a,this.options.flex));a++);return t?((o=t[0].match(/\n.*/g))&&(this.yylineno+=o.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:o?o[o.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,r[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,i){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt\/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}},i);t.parser=o,t.parse=o.parse.bind(o)},function(e,t){"use strict";var o,n=["en","pt-BR"],r={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",collapseAll:"Collapse all fields",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Field type "object". An object contains an unordered set of key/value pairs.',arrayType:'Field type "array". An array contains an ordered collection of values.',stringType:'Field type "string". Field type is not determined from the value, but always returned as string.'},"pt-BR":{array:"Lista",auto:"Automatico",appendText:"Adicionar",appendTitle:"Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)",appendSubmenuTitle:"Selecione o tipo do campo a ser adicionado",appendTitleAuto:"Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendente",ascendingTitle:"Organizar filhor do tipo ${type} em crescente",actionsMenu:"Clique para abrir o menu de ações (Ctrl+M)",collapseAll:"Fechar todos campos",descending:"Descendente",descendingTitle:"Organizar o filhos do tipo ${type} em decrescente",duplicateKey:"chave duplicada",drag:"Arraste para mover este campo (Alt+Shift+Arrows)",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos selecionados (Ctrl+D)",duplicateField:"Duplicar este campo (Ctrl+D)",empty:"vazio",expandAll:"Expandir todos campos",expandTitle:"Clique para expandir/encolher este campo (Ctrl+E). \nCtrl+Click para expandir/encolher incluindo todos os filhos.",insert:"Inserir",insertTitle:"Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)",insertSub:"Selecionar o tipo de campo a ser inserido",object:"Objeto",ok:"Ok",redo:"Refazer (Ctrl+Shift+Z)",removeText:"Remover",removeTitle:"Remover campos selecionados (Ctrl+Del)",removeField:"Remover este campo (Ctrl+Del)",selectNode:"Select a node...",showAll:"mostre tudo",showMore:"mostre mais",showMoreStatus:"exibindo ${visibleChilds} de ${totalChilds} itens.",sort:"Organizar",sortTitle:"Organizar os filhos deste ${type}",sortTitleShort:"Organizar os filhos",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"Texto",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Tipo",typeTitle:"Mudar o tipo deste campo",openUrl:"Ctrl+Click ou Ctrl+Enter para abrir link em nova janela",undo:"Desfazer último ação (Ctrl+Z)",validationCannotMove:"Não pode mover um campo como filho dele mesmo",autoType:'Campo do tipo "auto". O tipo do campo é determinao automaticamente a partir do seu valor e pode ser texto, número, verdade/falso ou nulo.',objectType:'Campo do tipo "objeto". Um objeto contém uma lista de pares com chave e valor.',arrayType:'Campo do tipo "lista". Uma lista contem uma coleção de valores ordenados.',stringType:'Campo do tipo "string". Campo do tipo nao é determinado através do seu valor, mas sempre retornara um texto.'}},i="undefined"!=typeof navigator?navigator.language||navigator.userLanguage:void 0;o=(o=n.find(function(e){return e===i}))||"en",e.exports={_locales:n,_defs:r,_lang:o,setLanguage:function(t){if(t){var e=n.find(function(e){return e===t});e?o=e:console.error("Language not found")}},setLanguages:function(e){if(e)for(var t in e){n.find(function(e){return e===t})||n.push(t),r[t]=Object.assign({},r.en,r[t],e[t])}},translate:function(e,t,n){var i=r[n=n||o][e];if(t)for(e in t)i=i.replace("${"+e+"}",t[e]);return i||e}}},function(e,t,n){"use strict";function i(e){e&&(this.path=document.createElement("div"),this.path.className="jsoneditor-treepath",e.appendChild(this.path),this.reset())}var s=n(5),o=n(8).translate;i.prototype.reset=function(){this.path.innerHTML=o("selectNode")},i.prototype.setPath=function(r){var a=this;this.path.innerHTML="",r&&r.length&&r.forEach(function(n,i){var e,t=document.createElement("span");if(t.className="jsoneditor-treepath-element",t.innerText=n.name,t.onclick=function(e){this.selectionCallback&&this.selectionCallback(e)}.bind(a,n),a.path.appendChild(t),n.children.length&&((e=document.createElement("span")).className="jsoneditor-treepath-seperator",e.innerHTML="&#9658;",e.onclick=function(){var t=[];n.children.forEach(function(e){t.push({text:e.name,className:"jsoneditor-type-modes"+(r[i+1]+1&&r[i+1].name===e.name?" jsoneditor-selected":""),click:function(e,t){this.contextMenuCallback&&this.contextMenuCallback(e,t)}.bind(a,n,e.name)})}),new s(t).show(e)},a.path.appendChild(e,a.container)),i===r.length-1){var o=(e||t).getBoundingClientRect().left;a.path.offsetWidth<o&&(a.path.scrollLeft=o)}})},i.prototype.onSectionSelected=function(e){"function"==typeof e&&(this.selectionCallback=e)},i.prototype.onContextMenuItemSelected=function(e){"function"==typeof e&&(this.contextMenuCallback=e)},e.exports=i},function(e,t,n){"use strict";function I(e,t){this.editor=e,this.dom={},this.expanded=!1,t&&t instanceof Object?(this.setField(t.field,t.fieldEditable),"value"in t&&this.setValue(t.value,t.type),"internalValue"in t&&this.setInternalValue(t.internalValue)):(this.setField(""),this.setValue(null)),this._debouncedOnChangeValue=R.debounce(this._onChangeValue.bind(this),I.prototype.DEBOUNCE_INTERVAL),this._debouncedOnChangeField=R.debounce(this._onChangeField.bind(this),I.prototype.DEBOUNCE_INTERVAL)}function l(e){return e.getInternalPath()}function N(e){return e.getField()}var i=n(11),c=n(12),d=n(5),o=n(13),r=n(14),u=n(15),h=n(17),R=n(6),p=n(8).translate,f=document.body;I.prototype.DEBOUNCE_INTERVAL=150,I.prototype.MAX_SEARCH_RESULTS=999,I.prototype.visibleChilds=I.prototype.MAX_VISIBLE_CHILDS=100,I.prototype._updateEditability=function(){if(this.editable={field:!0,value:!0},this.editor&&(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,("tree"===this.editor.options.mode||"form"===this.editor.options.mode)&&"function"==typeof this.editor.options.onEditable)){var e=this.editor.options.onEditable({field:this.field,value:this.value,path:this.getPath()});"boolean"==typeof e?(this.editable.field=e,this.editable.value=e):("boolean"==typeof e.field&&(this.editable.field=e.field),"boolean"==typeof e.value&&(this.editable.value=e.value))}},I.prototype.getPath=function(){for(var e=this,t=[];e;){var n=e.getName();void 0!==n&&t.unshift(n),e=e.parent}return t},I.prototype.getInternalPath=function(){for(var e=this,t=[];e;)e.parent&&t.unshift(e.getIndex()),e=e.parent;return t},I.prototype.getName=function(){return this.parent?"array"!=this.parent.type?this.field:this.index:void 0},I.prototype.findNodeByPath=function(e){if(e){if(0==e.length)return this;if(e.length&&this.childs&&this.childs.length)for(var t=0;t<this.childs.length;++t)if(""+e[0]==""+this.childs[t].getName())return this.childs[t].findNodeByPath(e.slice(1))}},I.prototype.findNodeByInternalPath=function(e){if(e){for(var t=this,n=0;n<e.length&&t;n++){var i=e[n];t=t.childs[i]}return t}},I.prototype.serialize=function(){return{value:this.getValue(),path:this.getPath()}},I.prototype.findNode=function(e){for(var t=R.parsePath(e),n=this;n&&0<t.length;){var i=t.shift();if("number"==typeof i){if("array"!==n.type)throw new Error("Cannot get child node at index "+i+": node is no array");n=n.childs[i]}else{if("object"!==n.type)throw new Error("Cannot get child node "+i+": node is no object");n=n.childs.filter(function(e){return e.field===i})[0]}}return n},I.prototype.findParents=function(){for(var e=[],t=this.parent;t;)e.unshift(t),t=t.parent;return e},I.prototype.setError=function(e,t){this.error=e,this.errorChild=t,this.dom&&this.dom.tr&&this.updateError()},I.prototype.updateError=function(){var e=this.error,t=this.dom.tdError;if(e&&this.dom&&this.dom.tr){t||(t=document.createElement("td"),this.dom.tdError=t,this.dom.tdValue.parentNode.appendChild(t));var r=document.createElement("div");r.className="jsoneditor-popover jsoneditor-right",r.appendChild(document.createTextNode(e.message));var n=document.createElement("button");n.type="button",n.className="jsoneditor-schema-error",n.appendChild(r),n.onmouseover=n.onfocus=function(){for(var e=["right","above","below","left"],t=0;t<e.length;t++){var n=e[t];r.className="jsoneditor-popover jsoneditor-"+n;var i=this.editor.content.getBoundingClientRect(),o=r.getBoundingClientRect();if(R.insideRect(i,o,20))break}}.bind(this);var i=this.errorChild;for(i&&(n.onclick=function(){i.findParents().forEach(function(e){e.expand(!1)}),i.scrollTo(function(){i.focus()})});t.firstChild;)t.removeChild(t.firstChild);t.appendChild(n)}else t&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError)},I.prototype.getIndex=function(){if(this.parent){var e=this.parent.childs.indexOf(this);return-1!==e?e:null}return-1},I.prototype.setParent=function(e){this.parent=e},I.prototype.setField=function(e,t){this.field=e,this.previousField=e,this.fieldEditable=!0===t},I.prototype.getField=function(){return void 0===this.field&&this._getDomField(),this.field},I.prototype.setValue=function(e,t){var n,i,o,r,a,s=this.childs;if(this.type=this._getType(e),t&&t!==this.type){if("string"!==t||"auto"!==this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+t+'"');this.type=t}if("array"===this.type){for(this.childs||(this.childs=[]),r=0;r<e.length;r++)void 0===(n=e[r])||n instanceof Function||(r<this.childs.length?((i=this.childs[r]).fieldEditable=!1,i.index=r,i.setValue(n)):(i=new I(this.editor,{value:n}),o=r<this.MAX_VISIBLE_CHILDS,this.appendChild(i,o,!1)));for(a=this.childs.length;a>=e.length;a--)this.removeChild(this.childs[a],!1)}else if("object"===this.type){for(this.childs||(this.childs=[]),a=this.childs.length-1;0<=a;a--)e.hasOwnProperty(this.childs[a].field)||this.removeChild(this.childs[a],!1);for(var l in r=0,e)e.hasOwnProperty(l)&&(void 0===(n=e[l])||n instanceof Function||((i=this.findChildByProperty(l))?(i.setField(l,!0),i.setValue(n)):(i=new I(this.editor,{field:l,value:n}),o=r<this.MAX_VISIBLE_CHILDS,this.appendChild(i,o,!1))),r++);!(this.value="")===this.editor.options.sortObjectKeys&&this.sort([],"asc")}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=e;Array.isArray(s)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value},I.prototype.setInternalValue=function(e){var t,n,i,o,r,a=this.childs;if(this.type=e.type,"array"===e.type){for(this.childs||(this.childs=[]),o=0;o<e.childs.length;o++)void 0===(t=e.childs[o])||t instanceof Function||(o<this.childs.length?((n=this.childs[o]).fieldEditable=!1,n.index=o,n.setInternalValue(t)):(n=new I(this.editor,{internalValue:t}),i=o<this.MAX_VISIBLE_CHILDS,this.appendChild(n,i,!1)));for(r=this.childs.length;r>=e.childs.length;r--)this.removeChild(this.childs[r],!1)}else if("object"===e.type){for(this.childs||(this.childs=[]),o=0;o<e.childs.length;o++)void 0===(t=e.childs[o])||t instanceof Function||(o<this.childs.length?(delete(n=this.childs[o]).index,n.setField(t.field,!0),n.setInternalValue(t.value)):(n=new I(this.editor,{field:t.field,internalValue:t.value}),i=o<this.MAX_VISIBLE_CHILDS,this.appendChild(n,i,!1)));for(r=this.childs.length;r>=e.childs.length;r--)this.removeChild(this.childs[r],!1)}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=e.value;Array.isArray(a)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value},I.prototype.recreateDom=function(){if(this.dom&&this.dom.tr&&this.dom.tr.parentNode){var e=this._detachFromDom();this.clearDom(),this._attachToDom(e)}},I.prototype.getValue=function(){if("array"==this.type){var t=[];return this.childs.forEach(function(e){t.push(e.getValue())}),t}if("object"!=this.type)return void 0===this.value&&this._getDomValue(),this.value;var n={};return this.childs.forEach(function(e){n[e.getField()]=e.getValue()}),n},I.prototype.getInternalValue=function(){return"array"===this.type?{type:this.type,childs:this.childs.map(function(e){return e.getInternalValue()})}:"object"===this.type?{type:this.type,childs:this.childs.map(function(e){return{field:e.getField(),value:e.getInternalValue()}})}:(void 0===this.value&&this._getDomValue(),{type:this.type,value:this.value})},I.prototype.getLevel=function(){return this.parent?this.parent.getLevel()+1:0},I.prototype.getNodePath=function(){var e=this.parent?this.parent.getNodePath():[];return e.push(this),e},I.prototype.clone=function(){var n=new I(this.editor);if(n.type=this.type,n.field=this.field,n.fieldInnerText=this.fieldInnerText,n.fieldEditable=this.fieldEditable,n.previousField=this.previousField,n.value=this.value,n.valueInnerText=this.valueInnerText,n.previousValue=this.previousValue,n.expanded=this.expanded,n.visibleChilds=this.visibleChilds,this.childs){var i=[];this.childs.forEach(function(e){var t=e.clone();t.setParent(n),i.push(t)}),n.childs=i}else n.childs=void 0;return n},I.prototype.expand=function(t){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-expanded"),this.showChilds(),!1!==t&&this.childs.forEach(function(e){e.expand(t)}))},I.prototype.collapse=function(t){this.childs&&(this.hideChilds(),!1!==t&&this.childs.forEach(function(e){e.collapse(t)}),this.dom.expand&&(this.dom.expand.className="jsoneditor-collapsed"),this.expanded=!1)},I.prototype.showChilds=function(){if(this.childs&&this.expanded){var e=this.dom.tr,t=e?e.parentNode:void 0;if(t){var n=this.getAppendDom();if(!n.parentNode)(o=e.nextSibling)?t.insertBefore(n,o):t.appendChild(n);for(var i=Math.min(this.childs.length,this.visibleChilds),o=this._getNextTr(),r=0;r<i;r++){var a=this.childs[r];a.getDom().parentNode||t.insertBefore(a.getDom(),o),a.showChilds()}var s=this.getShowMoreDom();o=this._getNextTr();s.parentNode||t.insertBefore(s,o),this.showMore.updateDom()}}},I.prototype._getNextTr=function(){return this.showMore&&this.showMore.getDom().parentNode?this.showMore.getDom():this.append&&this.append.getDom().parentNode?this.append.getDom():void 0},I.prototype.hide=function(e){var t=this.dom.tr,n=t?t.parentNode:void 0;n&&n.removeChild(t),this.hideChilds(e)},I.prototype.hideChilds=function(e){if(this.childs&&this.expanded){var t=this.getAppendDom();t.parentNode&&t.parentNode.removeChild(t),this.childs.forEach(function(e){e.hide()});var n=this.getShowMoreDom();n.parentNode&&n.parentNode.removeChild(n),e&&!e.resetVisibleChilds||delete this.visibleChilds}},I.prototype.expandTo=function(){for(var e=this.parent;e;)e.expanded||e.expand(),e=e.parent},I.prototype.appendChild=function(e,t,n){if(this._hasChilds()){if(e.setParent(this),e.fieldEditable="object"==this.type,"array"==this.type&&(e.index=this.childs.length),"object"===this.type&&null==e.field&&e.setField(""),this.childs.push(e),this.expanded&&!1!==t){var i=e.getDom(),o=this._getNextTr(),r=o?o.parentNode:void 0;o&&r&&r.insertBefore(i,o),e.showChilds(),this.visibleChilds++}!1!==n&&(this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0}))}},I.prototype.moveBefore=function(e,t){if(this._hasChilds()){var n=this.dom.tr?this.dom.tr.parentNode:void 0;if(n){var i=document.createElement("tr");i.style.height=n.clientHeight+"px",n.appendChild(i)}if(e.parent&&e.parent.removeChild(e),t instanceof L||!t)if(this.childs.length+1>this.visibleChilds){var o=this.childs[this.visibleChilds-1];this.insertBefore(e,o)}else this.appendChild(e);else this.insertBefore(e,t);n&&n.removeChild(i)}},I.prototype.insertBefore=function(e,t){if(this._hasChilds()){if(this.visibleChilds++,"object"===this.type&&null==e.field&&e.setField(""),t===this.append)e.setParent(this),e.fieldEditable="object"==this.type,this.childs.push(e);else{var n=this.childs.indexOf(t);if(-1==n)throw new Error("Node not found");e.setParent(this),e.fieldEditable="object"==this.type,this.childs.splice(n,0,e)}if(this.expanded){var i=e.getDom(),o=t.getDom(),r=o?o.parentNode:void 0;o&&r&&r.insertBefore(i,o),e.showChilds(),this.showChilds()}this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0})}},I.prototype.insertAfter=function(e,t){if(this._hasChilds()){var n=this.childs.indexOf(t),i=this.childs[n+1];i?this.insertBefore(e,i):this.appendChild(e)}},I.prototype.search=function(t,n){Array.isArray(n)||(n=[]);var e=t?t.toLowerCase():void 0;if(delete this.searchField,delete this.searchValue,void 0!==this.field&&n.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.field).toLowerCase().indexOf(e)&&(this.searchField=!0,n.push({node:this,elem:"field"})),this._updateDomField()),this._hasChilds())this.childs&&this.childs.forEach(function(e){e.search(t,n)});else if(void 0!==this.value&&n.length<=this.MAX_SEARCH_RESULTS){-1!==String(this.value).toLowerCase().indexOf(e)&&(this.searchValue=!0,n.push({node:this,elem:"value"})),this._updateDomValue()}return n},I.prototype.scrollTo=function(e){this.expandPathToNode(),this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,e)},I.prototype.expandPathToNode=function(){for(var e=this;e&&e.parent;){for(var t="array"===e.parent.type?e.index:e.parent.childs.indexOf(e);e.parent.visibleChilds<t+1;)e.parent.visibleChilds+=I.prototype.MAX_VISIBLE_CHILDS;e.parent.expand(!1),e=e.parent}},I.focusElement=void 0,I.prototype.focus=function(e){if(I.focusElement=e,this.dom.tr&&this.dom.tr.parentNode){var t=this.dom;switch(e){case"drag":t.drag?t.drag.focus():t.menu.focus();break;case"menu":t.menu.focus();break;case"expand":this._hasChilds()?t.expand.focus():t.field&&this.fieldEditable?(t.field.focus(),R.selectContentEditable(t.field)):t.value&&!this._hasChilds()?(t.value.focus(),R.selectContentEditable(t.value)):t.menu.focus();break;case"field":t.field&&this.fieldEditable?(t.field.focus(),R.selectContentEditable(t.field)):t.value&&!this._hasChilds()?(t.value.focus(),R.selectContentEditable(t.value)):this._hasChilds()?t.expand.focus():t.menu.focus();break;case"value":default:t.select?t.select.focus():t.value&&!this._hasChilds()?(t.value.focus(),R.selectContentEditable(t.value)):t.field&&this.fieldEditable?(t.field.focus(),R.selectContentEditable(t.field)):this._hasChilds()?t.expand.focus():t.menu.focus()}}},I.select=function(e){setTimeout(function(){R.selectContentEditable(e)},0)},I.prototype.blur=function(){this._getDomValue(!1),this._getDomField(!1)},I.prototype.containsNode=function(e){if(this==e)return!0;var t=this.childs;if(t)for(var n=0,i=t.length;n<i;n++)if(t[n].containsNode(e))return!0;return!1},I.prototype.removeChild=function(e,t){if(this.childs){var n=this.childs.indexOf(e);if(-1!==n){n<this.visibleChilds&&this.expanded&&this.visibleChilds--,e.hide(),delete e.searchField,delete e.searchValue;var i=this.childs.splice(n,1)[0];return i.parent=null,!1!==t&&this.updateDom({updateIndexes:!0}),i}}},I.prototype._remove=function(e){this.removeChild(e)},I.prototype.changeType=function(e){var t=this.type;if(t!=e){if("string"!=e&&"auto"!=e||"string"!=t&&"auto"!=t){var n=this._detachFromDom();this.clearDom(),"object"==(this.type=e)?(this.childs||(this.childs=[]),this.childs.forEach(function(e,t){e.clearDom(),delete e.index,e.fieldEditable=!0,null==e.field&&(e.field="")}),"string"!=t&&"auto"!=t||(this.expanded=!0)):"array"==e?(this.childs||(this.childs=[]),this.childs.forEach(function(e,t){e.clearDom(),e.fieldEditable=!1,e.index=t}),"string"!=t&&"auto"!=t||(this.expanded=!0)):this.expanded=!1,this._attachToDom(n)}else this.type=e;"auto"!=e&&"string"!=e||(this.value="string"==e?String(this.value):this._stringCast(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0})}},I.prototype.deepEqual=function(e){var t;if("array"===this.type){if(!Array.isArray(e))return!1;if(this.childs.length!==e.length)return!1;for(t=0;t<this.childs.length;t++)if(!this.childs[t].deepEqual(e[t]))return!1}else if("object"===this.type){if("object"!=typeof e)return!1;var n={},i=0;for(t=0;t<this.childs.length;t++){var o=this.childs[t];if(!n[o.field]){if(n[o.field]=!0,i++,!(o.field in e))return!1;if(!o.deepEqual(e[o.field]))return!1}}if(i!==Object.keys(e).length)return!1}else if(this.value!==e)return!1;return!0},I.prototype._getDomValue=function(e){if(this.dom.value&&"array"!=this.type&&"object"!=this.type&&(this.valueInnerText=R.getInnerText(this.dom.value)),null!=this.valueInnerText)try{var t;if("string"==this.type)t=this._unescapeHTML(this.valueInnerText);else{var n=this._unescapeHTML(this.valueInnerText);t=this._stringCast(n)}t!==this.value&&(this.value=t,this._debouncedOnChangeValue())}catch(t){if(!(this.value=void 0)!==e)throw t}},I.prototype._onChangeValue=function(){var e=this.editor.getDomSelection();if(e.range){var t=R.textDiff(String(this.value),String(this.previousValue));e.range.startOffset=t.start,e.range.endOffset=t.end}var n=this.editor.getDomSelection();if(n.range){var i=R.textDiff(String(this.previousValue),String(this.value));n.range.startOffset=i.start,n.range.endOffset=i.end}this.editor._onAction("editValue",{path:this.getInternalPath(),oldValue:this.previousValue,newValue:this.value,oldSelection:e,newSelection:n}),this.previousValue=this.value},I.prototype._onChangeField=function(){var e=this.editor.getDomSelection(),t=this.previousField||"";if(e.range){var n=R.textDiff(this.field,t);e.range.startOffset=n.start,e.range.endOffset=n.end}var i=this.editor.getDomSelection();if(i.range){var o=R.textDiff(t,this.field);i.range.startOffset=o.start,i.range.endOffset=o.end}this.editor._onAction("editField",{parentPath:this.parent.getInternalPath(),index:this.getIndex(),oldValue:this.previousField,newValue:this.field,oldSelection:e,newSelection:i}),this.previousField=this.field},I.prototype._updateDomValue=function(){var e=this.dom.value;if(e){var t=["jsoneditor-value"],n=this.value,i="auto"==this.type?R.type(n):this.type,o="string"==i&&R.isUrl(n);if(t.push("jsoneditor-"+i),o&&t.push("jsoneditor-url"),""==String(this.value)&&"array"!=this.type&&"object"!=this.type&&t.push("jsoneditor-empty"),this.searchValueActive&&t.push("jsoneditor-highlight-active"),this.searchValue&&t.push("jsoneditor-highlight"),e.className=t.join(" "),"array"==i||"object"==i){var r=this.childs?this.childs.length:0;e.title=this.type+" containing "+r+" items"}else o&&this.editable.value?e.title=p("openUrl"):e.title="";if("boolean"===i&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this.enum&&this.editable.value){if(!this.dom.select){this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,this.dom.select.option=document.createElement("option"),this.dom.select.option.value="",this.dom.select.option.innerHTML="--",this.dom.select.appendChild(this.dom.select.option);for(var a=0;a<this.enum.length;a++)this.dom.select.option=document.createElement("option"),this.dom.select.option.value=this.enum[a],this.dom.select.option.innerHTML=this.enum[a],this.dom.select.option.value==this.value&&(this.dom.select.option.selected=!0),this.dom.select.appendChild(this.dom.select.option);this.dom.tdSelect=document.createElement("td"),this.dom.tdSelect.className="jsoneditor-tree",this.dom.tdSelect.appendChild(this.dom.select),this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)}!this.schema||this.schema.hasOwnProperty("oneOf")||this.schema.hasOwnProperty("anyOf")||this.schema.hasOwnProperty("allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.innerHTML="")}else this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML);R.stripFormatting(e)}},I.prototype._updateDomField=function(){var e=this.dom.field;e&&(""==String(this.field)&&"array"!=this.parent.type?R.addClassName(e,"jsoneditor-empty"):R.removeClassName(e,"jsoneditor-empty"),this.searchFieldActive?R.addClassName(e,"jsoneditor-highlight-active"):R.removeClassName(e,"jsoneditor-highlight-active"),this.searchField?R.addClassName(e,"jsoneditor-highlight"):R.removeClassName(e,"jsoneditor-highlight"),R.stripFormatting(e))},I.prototype._getDomField=function(e){if(this.dom.field&&this.fieldEditable&&(this.fieldInnerText=R.getInnerText(this.dom.field)),null!=this.fieldInnerText)try{var t=this._unescapeHTML(this.fieldInnerText);t!==this.field&&(this.field=t,this._debouncedOnChangeField())}catch(t){if(!(this.field=void 0)!==e)throw t}},I.prototype.validate=function(){var e=[];if("object"===this.type){for(var t={},n=[],i=0;i<this.childs.length;i++){var o=this.childs[i];t.hasOwnProperty(o.field)&&n.push(o.field),t[o.field]=!0}0<n.length&&(e=this.childs.filter(function(e){return-1!==n.indexOf(e.field)}).map(function(e){return{node:e,error:{message:p("duplicateKey")+' "'+e.field+'"'}}}))}if(this.childs)for(i=0;i<this.childs.length;i++){var r=this.childs[i].validate();0<r.length&&(e=e.concat(r))}return e},I.prototype.clearDom=function(){this.dom={}},I.prototype.getDom=function(){var e=this.dom;if(e.tr)return e.tr;if(this._updateEditability(),e.tr=document.createElement("tr"),"tree"===(e.tr.node=this).editor.options.mode){var t=document.createElement("td");if(this.editable.field&&this.parent){var n=document.createElement("button");n.type="button",(e.drag=n).className="jsoneditor-dragarea",n.title=p("drag"),t.appendChild(n)}e.tr.appendChild(t);var i=document.createElement("td"),o=document.createElement("button");o.type="button",(e.menu=o).className="jsoneditor-contextmenu",o.title=p("actionsMenu"),i.appendChild(e.menu),e.tr.appendChild(i)}var r=document.createElement("td");return e.tr.appendChild(r),e.tree=this._createDomTree(),r.appendChild(e.tree),this.updateDom({updateIndexes:!0}),e.tr},I.prototype.isVisible=function(){return this.dom&&this.dom.tr&&this.dom.tr.parentNode||!1},I.onDragStart=function(t,e){if(!Array.isArray(t))return I.onDragStart([t],e);if(0!==t.length){var n=t[0],i=t[t.length-1],o=n.parent,r=I.getNodeFromTarget(e.target),a=n.editor,s=R.getAbsoluteTop(r.dom.tr)-R.getAbsoluteTop(n.dom.tr);a.mousemove||(a.mousemove=R.addEventListener(window,"mousemove",function(e){I.onDrag(t,e)})),a.mouseup||(a.mouseup=R.addEventListener(window,"mouseup",function(e){I.onDragEnd(t,e)})),a.highlighter.lock(),a.drag={oldCursor:document.body.style.cursor,oldSelection:a.getDomSelection(),oldPaths:t.map(l),oldParent:o,oldNextNode:o.childs[i.getIndex()+1]||o.append,oldParentPathRedo:o.getInternalPath(),oldIndexRedo:n.getIndex(),mouseX:e.pageX,offsetY:s,level:n.getLevel()},document.body.style.cursor="move",e.preventDefault()}},I.onDrag=function(e,t){if(!Array.isArray(e))return I.onDrag([e],t);if(0!==e.length){var n,i,o,r,a,s,l,c,d,u,h,p,f,m,g=e[0].editor,v=t.pageY-g.drag.offsetY,b=t.pageX,y=!1,x=e[0];if(n=x.dom.tr,d=R.getAbsoluteTop(n),p=n.offsetHeight,v<d){for(i=n;i=i.previousSibling,l=I.getNodeFromTarget(i),u=i?R.getAbsoluteTop(i):0,i&&v<u;);l&&!l.parent&&(l=void 0),l||(i=(s=n.parentNode.firstChild)?s.nextSibling:void 0,(l=I.getNodeFromTarget(i))==x&&(l=void 0)),l&&l.isVisible()&&((u=(i=l.dom.tr)?R.getAbsoluteTop(i):0)+p<v&&(l=void 0)),l&&(e.forEach(function(e){l.parent.moveBefore(e,l)}),y=!0)}else{var w=e[e.length-1];if(r=(a=w.expanded&&w.append?w.append.getDom():w.dom.tr)?a.nextSibling:void 0){for(h=R.getAbsoluteTop(r),o=r;c=I.getNodeFromTarget(o),o&&(f=o.nextSibling?R.getAbsoluteTop(o.nextSibling):0,m=o?f-h:0,c&&c.parent.childs.length==e.length&&c.parent.childs[e.length-1]==w&&(d+=27),o=o.nextSibling),o&&d+m<v;);if(c&&c.parent){var C=b-g.drag.mouseX,k=Math.round(C/24/2),S=g.drag.level+k,T=c.getLevel();for(i=c.dom.tr&&c.dom.tr.previousSibling;T<S&&i;){if(l=I.getNodeFromTarget(i),!e.some(function(e){return e===l||l.isDescendantOf(e)})){if(!(l instanceof L))break;var E=l.parent.childs;if(E.length==e.length&&E[e.length-1]==w)break;T=(c=I.getNodeFromTarget(i)).getLevel()}i=i.previousSibling}c instanceof L&&!c.isVisible()&&c.parent.showMore.isVisible()&&(c=c._nextNode()),c&&c.dom.tr&&a.nextSibling!=c.dom.tr&&(e.forEach(function(e){c.parent.moveBefore(e,c)}),y=!0)}}}y&&(g.drag.mouseX=b,g.drag.level=x.getLevel()),g.startAutoScroll(v),t.preventDefault()}},I.onDragEnd=function(e,t){if(!Array.isArray(e))return I.onDrag([e],t);if(0!==e.length){var n=e[0],i=n.editor;e[0]&&e[0].dom.menu.focus();var o=i.drag.oldParent.getInternalPath(),r=n.parent.getInternalPath(),a=i.drag.oldParent===n.parent,s=i.drag.oldNextNode.getIndex(),l=n.getIndex(),c=i.drag.oldParentPathRedo,d=i.drag.oldIndexRedo,u=a&&d<l?l+e.length:l;a&&d===l||i._onAction("moveNodes",{count:e.length,fieldNames:e.map(N),oldParentPath:o,newParentPath:r,oldIndex:s,newIndex:l,oldIndexRedo:d,newIndexRedo:u,oldParentPathRedo:c,newParentPathRedo:null,oldSelection:i.drag.oldSelection,newSelection:i.getDomSelection()}),document.body.style.cursor=i.drag.oldCursor,i.highlighter.unlock(),e.forEach(function(e){t.target!==e.dom.drag&&t.target!==e.dom.menu&&i.highlighter.unhighlight()}),delete i.drag,i.mousemove&&(R.removeEventListener(window,"mousemove",i.mousemove),delete i.mousemove),i.mouseup&&(R.removeEventListener(window,"mouseup",i.mouseup),delete i.mouseup),i.stopAutoScroll(),t.preventDefault()}},I.prototype.isDescendantOf=function(e){for(var t=this.parent;t;){if(t==e)return!0;t=t.parent}return!1},I.prototype._createDomField=function(){return document.createElement("div")},I.prototype.setHighlight=function(t){this.dom.tr&&(t?R.addClassName(this.dom.tr,"jsoneditor-highlight"):R.removeClassName(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(t),this.childs&&this.childs.forEach(function(e){e.setHighlight(t)}))},I.prototype.setSelected=function(t,e){this.selected=t,this.dom.tr&&(t?R.addClassName(this.dom.tr,"jsoneditor-selected"):R.removeClassName(this.dom.tr,"jsoneditor-selected"),e?R.addClassName(this.dom.tr,"jsoneditor-first"):R.removeClassName(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(t),this.showMore&&this.showMore.setSelected(t),this.childs&&this.childs.forEach(function(e){e.setSelected(t)}))},I.prototype.updateValue=function(e){this.value=e,this.previousValue=e,this.updateDom()},I.prototype.updateField=function(e){this.field=e,this.previousField=e,this.updateDom()},I.prototype.updateDom=function(t){var e=this.dom.tree;e&&(e.style.marginLeft=24*this.getLevel()+"px");var n,i=this.dom.field;i&&(this.fieldEditable?(i.contentEditable=this.editable.field,i.spellcheck=!1,i.className="jsoneditor-field"):i.className="jsoneditor-readonly",n=null!=this.index?this.index:null!=this.field?this.field:this._hasChilds()?this.type:"",i.innerHTML=this._escapeHTML(n),this._updateSchema());var o=this.dom.value;if(o){var r=this.childs?this.childs.length:0;"array"==this.type?(o.innerHTML="["+r+"]",R.addClassName(this.dom.tr,"jsoneditor-expandable")):"object"==this.type?(o.innerHTML="{"+r+"}",R.addClassName(this.dom.tr,"jsoneditor-expandable")):(o.innerHTML=this._escapeHTML(this.value),R.removeClassName(this.dom.tr,"jsoneditor-expandable"))}this._updateDomField(),this._updateDomValue(),t&&!0===t.updateIndexes&&this._updateDomIndexes(),t&&!0===t.recurse&&this.childs&&this.childs.forEach(function(e){e.updateDom(t)}),this.error&&this.updateError(),this.append&&this.append.updateDom(),this.showMore&&this.showMore.updateDom()},I.prototype._updateSchema=function(){this.editor&&this.editor.options&&(this.schema=this.editor.options.schema?I._findSchema(this.editor.options.schema,this.getPath()):null,this.schema?this.enum=I._findEnum(this.schema):delete this.enum)},I._findEnum=function(e){if(e.enum)return e.enum;var t=e.oneOf||e.anyOf||e.allOf;if(t){var n=t.filter(function(e){return e.enum});if(0<n.length)return n[0].enum}return null},I._findSchema=function(e,t){var n=e,i=n,o=e.oneOf||e.anyOf||e.allOf;o=o||[e];for(var r=0;r<o.length;r++){n=o[r];for(var a=0;a<t.length&&n;a++){var s=t[a];if("string"==typeof s&&n.patternProperties&&a==t.length-1)for(var l in n.patternProperties)i=I._findSchema(n.patternProperties[l],t.slice(a,t.length));else n.items&&n.items.properties?(n=n.items.properties[s])&&(i=I._findSchema(n,t.slice(a,t.length))):"string"==typeof s&&n.properties?(n=n.properties[s]||null)&&(i=I._findSchema(n,t.slice(a,t.length))):"number"==typeof s&&n.items&&(n=n.items)&&(i=I._findSchema(n,t.slice(a,t.length)))}}return i},I.prototype._updateDomIndexes=function(){var e=this.dom.value,t=this.childs;e&&t&&("array"==this.type?t.forEach(function(e,t){e.index=t;var n=e.dom.field;n&&(n.innerHTML=t)}):"object"==this.type&&t.forEach(function(e){null!=e.index&&(delete e.index,null==e.field&&(e.field=""))}))},I.prototype._createDomValue=function(){var e;return"array"==this.type?(e=document.createElement("div")).innerHTML="[...]":"object"==this.type?(e=document.createElement("div")).innerHTML="{...}":(!this.editable.value&&R.isUrl(this.value)?(e=document.createElement("a")).href=this.value:((e=document.createElement("div")).contentEditable=this.editable.value,e.spellcheck=!1),e.innerHTML=this._escapeHTML(this.value)),e},I.prototype._createDomExpandButton=function(){var e=document.createElement("button");return e.type="button",this._hasChilds()?(e.className=this.expanded?"jsoneditor-expanded":"jsoneditor-collapsed",e.title=p("expandTitle")):(e.className="jsoneditor-invisible",e.title=""),e},I.prototype._createDomTree=function(){var e=this.dom,t=document.createElement("table"),n=document.createElement("tbody");t.style.borderCollapse="collapse",t.className="jsoneditor-values",t.appendChild(n);var i=document.createElement("tr");n.appendChild(i);var o=document.createElement("td");o.className="jsoneditor-tree",i.appendChild(o),e.expand=this._createDomExpandButton(),o.appendChild(e.expand),e.tdExpand=o;var r=document.createElement("td");r.className="jsoneditor-tree",i.appendChild(r),e.field=this._createDomField(),r.appendChild(e.field),e.tdField=r;var a=document.createElement("td");a.className="jsoneditor-tree",i.appendChild(a),"object"!=this.type&&"array"!=this.type&&(a.appendChild(document.createTextNode(":")),a.className="jsoneditor-separator"),e.tdSeparator=a;var s=document.createElement("td");return s.className="jsoneditor-tree",i.appendChild(s),e.value=this._createDomValue(),s.appendChild(e.value),e.tdValue=s,t},I.prototype.onEvent=function(e){var t=e.type,n=e.target||e.srcElement,i=this.dom,o=this,r=this._hasChilds();if(n!=i.drag&&n!=i.menu||("mouseover"==t?this.editor.highlighter.highlight(this):"mouseout"==t&&this.editor.highlighter.unhighlight()),"click"==t&&n==i.menu){var a=o.editor.highlighter;a.highlight(o),a.lock(),R.addClassName(i.menu,"jsoneditor-selected"),this.showContextMenu(i.menu,function(){R.removeClassName(i.menu,"jsoneditor-selected"),a.unlock(),a.unhighlight()})}if("click"==t&&(n==i.expand||("view"===o.editor.options.mode||"form"===o.editor.options.mode)&&"DIV"===n.nodeName)&&r){var s=e.ctrlKey;this._onExpand(s)}"change"==t&&n==i.checkbox&&(this.dom.value.innerHTML=!this.value,this._getDomValue()),"change"==t&&n==i.select&&(this.dom.value.innerHTML=i.select.value,this._getDomValue(),this._updateDomValue());var l=i.value;if(n==l)switch(t){case"blur":case"change":this._getDomValue(!0),this._updateDomValue(),this.value&&(l.innerHTML=this._escapeHTML(this.value));break;case"input":this._getDomValue(!0),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"click":e.ctrlKey&&this.editable.value&&R.isUrl(this.value)&&(e.preventDefault(),window.open(this.value,"_blank"));break;case"keyup":this._getDomValue(!0),this._updateDomValue();break;case"cut":case"paste":setTimeout(function(){o._getDomValue(!0),o._updateDomValue()},1)}var c=i.field;if(n==c)switch(t){case"blur":case"change":this._getDomField(!0),this._updateDomField(),this.field&&(c.innerHTML=this._escapeHTML(this.field));break;case"input":this._getDomField(!0),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"keyup":this._getDomField(!0),this._updateDomField();break;case"cut":case"paste":setTimeout(function(){o._getDomField(!0),o._updateDomField()},1)}var d=i.tree;d&&n==d.parentNode&&"click"==t&&!e.hasMoved&&((null!=e.offsetX?e.offsetX<24*(this.getLevel()+1):e.pageX<R.getAbsoluteLeft(i.tdSeparator))||r?c&&(R.setEndOfContentEditable(c),c.focus()):l&&!this.enum&&(R.setEndOfContentEditable(l),l.focus())),(n!=i.tdExpand||r)&&n!=i.tdField&&n!=i.tdSeparator||"click"!=t||e.hasMoved||c&&(R.setEndOfContentEditable(c),c.focus()),"keydown"==t&&this.onKeyDown(e)},I.prototype.onKeyDown=function(e){var t,n,i,o,r,a,s,l,c,d,u,h,p,f=e.which||e.keyCode,m=e.target||e.srcElement,g=e.ctrlKey,v=e.shiftKey,b=e.altKey,y=!1,x="tree"===this.editor.options.mode,w=0<this.editor.multiselection.nodes.length?this.editor.multiselection.nodes:[this],C=w[0],k=w[w.length-1];if(13==f){if(m==this.dom.value)this.editable.value&&!e.ctrlKey||R.isUrl(this.value)&&(window.open(this.value,"_blank"),y=!0);else if(m==this.dom.expand){if(this._hasChilds()){var S=e.ctrlKey;this._onExpand(S),m.focus(),y=!0}}}else if(68==f)g&&x&&(I.onDuplicate(w),y=!0);else if(69==f)g&&(this._onExpand(v),m.focus(),y=!0);else if(77==f&&x)g&&(this.showContextMenu(m),y=!0);else if(46==f&&x)g&&(I.onRemove(w),y=!0);else if(45==f&&x)g&&!v?(this._onInsertBefore(),y=!0):g&&v&&(this._onInsertAfter(),y=!0);else if(35==f){if(b){var T=this._lastNode();T&&T.focus(I.focusElement||this._getElementName(m)),y=!0}}else if(36==f){if(b){var E=this._firstNode();E&&E.focus(I.focusElement||this._getElementName(m)),y=!0}}else if(37==f){if(b&&!v){var _=this._previousElement(m);_&&this.focus(this._getElementName(_)),y=!0}else if(b&&v&&x){if(k.expanded){var A=k.getAppendDom();i=A?A.nextSibling:void 0}else{var j=k.getDom();i=j.nextSibling}i&&(n=I.getNodeFromTarget(i),o=i.nextSibling,D=I.getNodeFromTarget(o),n&&n instanceof L&&1!=k.parent.childs.length&&D&&D.parent&&(r=this.editor.getDomSelection(),a=(s=C.parent).childs[k.getIndex()+1]||s.append,l=C.getIndex(),c=D.getIndex(),d=s.getInternalPath(),u=D.parent.getInternalPath(),w.forEach(function(e){D.parent.moveBefore(e,D)}),this.focus(I.focusElement||this._getElementName(m)),this.editor._onAction("moveNodes",{count:w.length,fieldNames:w.map(N),oldParentPath:s.getInternalPath(),newParentPath:C.parent.getInternalPath(),oldIndex:a.getIndex(),newIndex:C.getIndex(),oldIndexRedo:l,newIndexRedo:c,oldParentPathRedo:d,newParentPathRedo:u,oldSelection:r,newSelection:this.editor.getDomSelection()})))}}else if(38==f)b&&!v?((t=this._previousNode())&&(this.editor.deselect(!0),t.focus(I.focusElement||this._getElementName(m))),y=!0):!b&&g&&v&&x?((t=this._previousNode())&&((p=this.editor.multiselection).start=p.start||this,p.end=t,h=this.editor._findTopLevelNodes(p.start,p.end),this.editor.select(h),t.focus("field")),y=!0):b&&v&&x&&((t=C._previousNode())&&t.parent&&(r=this.editor.getDomSelection(),a=(s=C.parent).childs[k.getIndex()+1]||s.append,l=C.getIndex(),c=t.getIndex(),d=s.getInternalPath(),u=t.parent.getInternalPath(),w.forEach(function(e){t.parent.moveBefore(e,t)}),this.focus(I.focusElement||this._getElementName(m)),this.editor._onAction("moveNodes",{count:w.length,fieldNames:w.map(N),oldParentPath:s.getInternalPath(),newParentPath:C.parent.getInternalPath(),oldIndex:a.getIndex(),newIndex:C.getIndex(),oldIndexRedo:l,newIndexRedo:c,oldParentPathRedo:d,newParentPathRedo:u,oldSelection:r,newSelection:this.editor.getDomSelection()})),y=!0);else if(39==f){if(b&&!v){var P=this._nextElement(m);P&&this.focus(this._getElementName(P)),y=!0}else if(b&&v&&x){var O=(j=C.getDom()).previousSibling;O&&(t=I.getNodeFromTarget(O))&&t.parent&&!t.isVisible()&&(r=this.editor.getDomSelection(),a=(s=C.parent).childs[k.getIndex()+1]||s.append,l=C.getIndex(),c=t.getIndex(),d=s.getInternalPath(),u=t.parent.getInternalPath(),w.forEach(function(e){t.parent.moveBefore(e,t)}),this.focus(I.focusElement||this._getElementName(m)),this.editor._onAction("moveNodes",{count:w.length,fieldNames:w.map(N),oldParentPath:s.getInternalPath(),newParentPath:C.parent.getInternalPath(),oldIndex:a.getIndex(),newIndex:C.getIndex(),oldIndexRedo:l,newIndexRedo:c,oldParentPathRedo:d,newParentPathRedo:u,oldSelection:r,newSelection:this.editor.getDomSelection()}))}}else if(40==f)if(b&&!v)(n=this._nextNode())&&(this.editor.deselect(!0),n.focus(I.focusElement||this._getElementName(m))),y=!0;else if(!b&&g&&v&&x)(n=this._nextNode())&&((p=this.editor.multiselection).start=p.start||this,p.end=n,h=this.editor._findTopLevelNodes(p.start,p.end),this.editor.select(h),n.focus("field")),y=!0;else if(b&&v&&x){(n=k.expanded?k.append?k.append._nextNode():void 0:k._nextNode())&&!n.isVisible()&&(n=n.parent.showMore),n&&n instanceof L&&(n=k);var D=n&&(n._nextNode()||n.parent.append);D&&D.parent&&(r=this.editor.getDomSelection(),a=(s=C.parent).childs[k.getIndex()+1]||s.append,l=C.getIndex(),c=D.getIndex(),d=s.getInternalPath(),u=D.parent.getInternalPath(),w.forEach(function(e){D.parent.moveBefore(e,D)}),this.focus(I.focusElement||this._getElementName(m)),this.editor._onAction("moveNodes",{count:w.length,fieldNames:w.map(N),oldParentPath:s.getInternalPath(),newParentPath:C.parent.getInternalPath(),oldParentPathRedo:d,newParentPathRedo:u,oldIndexRedo:l,newIndexRedo:c,oldIndex:a.getIndex(),newIndex:C.getIndex(),oldSelection:r,newSelection:this.editor.getDomSelection()})),y=!0}y&&(e.preventDefault(),e.stopPropagation())},I.prototype._onExpand=function(e){if(e){var t=this.dom.tr.parentNode,n=t.parentNode,i=n.scrollTop;n.removeChild(t)}this.expanded?this.collapse(e):this.expand(e),e&&(n.appendChild(t),n.scrollTop=i)},I.onRemove=function(e){if(!Array.isArray(e))return I.onRemove([e]);if(e&&0<e.length){var t=e[0],n=t.parent,i=t.editor,o=t.getIndex();i.highlighter.unhighlight();var r=i.getDomSelection();I.blurNodes(e);var a=i.getDomSelection(),s=e.map(l);e.forEach(function(e){e.parent._remove(e)}),i._onAction("removeNodes",{nodes:e,paths:s,parentPath:n.getInternalPath(),index:o,oldSelection:r,newSelection:a})}},I.onDuplicate=function(e){if(!Array.isArray(e))return I.onDuplicate([e]);if(e&&0<e.length){var t=e[e.length-1],n=t.parent,i=t.editor;i.deselect(i.multiselection.nodes);var o=i.getDomSelection(),r=t,a=e.map(function(e){var t=e.clone();return n.insertAfter(t,r),r=t});1===e.length?a[0].focus():i.select(a);var s=i.getDomSelection();i._onAction("duplicateNodes",{paths:e.map(l),clonePaths:a.map(l),afterPath:t.getInternalPath(),parentPath:n.getInternalPath(),oldSelection:o,newSelection:s})}},I.prototype._onInsertBefore=function(e,t,n){var i=this.editor.getDomSelection(),o=new I(this.editor,{field:null!=e?e:"",value:null!=t?t:"",type:n});o.expand(!0);var r=this.getInternalPath();this.parent.insertBefore(o,this),this.editor.highlighter.unhighlight(),o.focus("field");var a=this.editor.getDomSelection();this.editor._onAction("insertBeforeNodes",{nodes:[o],paths:[o.getInternalPath()],beforePath:r,parentPath:this.parent.getInternalPath(),oldSelection:i,newSelection:a})},I.prototype._onInsertAfter=function(e,t,n){var i=this.editor.getDomSelection(),o=new I(this.editor,{field:null!=e?e:"",value:null!=t?t:"",type:n});o.expand(!0),this.parent.insertAfter(o,this),this.editor.highlighter.unhighlight(),o.focus("field");var r=this.editor.getDomSelection();this.editor._onAction("insertAfterNodes",{nodes:[o],paths:[o.getInternalPath()],afterPath:this.getInternalPath(),parentPath:this.parent.getInternalPath(),oldSelection:i,newSelection:r})},I.prototype._onAppend=function(e,t,n){var i=this.editor.getDomSelection(),o=new I(this.editor,{field:null!=e?e:"",value:null!=t?t:"",type:n});o.expand(!0),this.parent.appendChild(o),this.editor.highlighter.unhighlight(),o.focus("field");var r=this.editor.getDomSelection();this.editor._onAction("appendNodes",{nodes:[o],paths:[o.getInternalPath()],parentPath:this.parent.getInternalPath(),oldSelection:i,newSelection:r})},I.prototype._onChangeType=function(e){var t=this.type;if(e!=t){var n=this.editor.getDomSelection();this.changeType(e);var i=this.editor.getDomSelection();this.editor._onAction("changeType",{path:this.getInternalPath(),oldType:t,newType:e,oldSelection:n,newSelection:i})}},I.prototype.sort=function(a,e){if(this._hasChilds()){this.hideChilds();var t=this.childs;this.childs=this.childs.concat();var s="desc"===e?-1:1;"object"===this.type?this.childs.sort(function(e,t){return s*c(e.field,t.field)}):this.childs.sort(function(e,t){var n=e.getNestedChild(a),i=t.getNestedChild(a);if(!n)return s;if(!i)return-s;var o=n.value,r=i.value;return"string"!=typeof o&&"string"!=typeof r?r<o?s:o<r?-s:0:s*c(o,r)}),this._updateDomIndexes(),this.editor._onAction("sort",{path:this.getInternalPath(),oldChilds:t,newChilds:this.childs}),this.showChilds()}},I.prototype.update=function(e){var t=this.getInternalValue();this.setValue(e),this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:t,newValue:this.getInternalValue()})},I.prototype._detachFromDom=function(){var e,t=this.dom.tr?this.dom.tr.parentNode:void 0,n=(e=this.expanded?this.getAppendDom():this.getDom())&&e.parentNode?e.nextSibling:void 0;return this.hide({resetVisibleChilds:!1}),{table:t,nextTr:n}},I.prototype._attachToDom=function(e){e.table&&(e.nextTr?e.table.insertBefore(this.getDom(),e.nextTr):e.table.appendChild(this.getDom())),this.expanded&&this.showChilds()},I.prototype.transform=function(e){if(this._hasChilds()){this.hideChilds();try{var t=this.getInternalValue(),n=i.search(t,e);this.setValue(n),this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:t,newValue:this.getInternalValue()}),this.showChilds()}catch(e){this.showChilds(),this.editor._onError(e)}}},I.prototype.getNestedChild=function(e){for(var t=0,n=this;n&&t<e.length;)n=n.findChildByProperty(e[t]),t++;return n},I.prototype.findChildByProperty=function(t){if("object"===this.type)return this.childs.find(function(e){return e.field===t})},I.prototype.getChildPaths=function(t){var n={};return this._getChildPaths(n,"",t),"array"===this.type&&this.childs.forEach(function(e){e._getChildPaths(n,"",t)}),Object.keys(n).sort()},I.prototype._getChildPaths=function(t,n,i){"auto"!==this.type&&"string"!==this.type&&!i||(t[n||"."]=!0),"object"===this.type&&this.childs.forEach(function(e){e._getChildPaths(t,n+"."+e.field,i)})},I.prototype.getAppendDom=function(){return this.append||(this.append=new L(this.editor),this.append.setParent(this)),this.append.getDom()},I.prototype.getShowMoreDom=function(){return this.showMore||(this.showMore=new a(this.editor,this)),this.showMore.getDom()},I.getNodeFromTarget=function(e){for(;e;){if(e.node)return e.node;e=e.parentNode}},I.blurNodes=function(e){if(Array.isArray(e)){var t=e[0],n=t.parent,i=t.getIndex();n.childs[i+e.length]?n.childs[i+e.length].focus():n.childs[i-1]?n.childs[i-1].focus():n.focus()}else I.blurNodes([e])},I.prototype.nextSibling=function(){var e=this.parent.childs.indexOf(this);return this.parent.childs[e+1]||this.parent.append},I.prototype._previousNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode)for(var n=t;n=n.previousSibling,e=I.getNodeFromTarget(n),n&&e&&e instanceof L&&!e.isVisible(););return e},I.prototype._nextNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode)for(var n=t;n=n.nextSibling,e=I.getNodeFromTarget(n),n&&e&&e instanceof L&&!e.isVisible(););return e},I.prototype._firstNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode){var n=t.parentNode.firstChild;e=I.getNodeFromTarget(n)}return e},I.prototype._lastNode=function(){var e=null,t=this.getDom();if(t&&t.parentNode){var n=t.parentNode.lastChild;for(e=I.getNodeFromTarget(n);n&&e&&!e.isVisible();)n=n.previousSibling,e=I.getNodeFromTarget(n)}return e},I.prototype._previousElement=function(e){var t=this.dom;switch(e){case t.value:if(this.fieldEditable)return t.field;case t.field:if(this._hasChilds())return t.expand;case t.expand:return t.menu;case t.menu:if(t.drag)return t.drag;default:return null}},I.prototype._nextElement=function(e){var t=this.dom;switch(e){case t.drag:return t.menu;case t.menu:if(this._hasChilds())return t.expand;case t.expand:if(this.fieldEditable)return t.field;case t.field:if(!this._hasChilds())return t.value;default:return null}},I.prototype._getElementName=function(e){var t=this.dom;for(var n in t)if(t.hasOwnProperty(n)&&t[n]==e)return n;return null},I.prototype._hasChilds=function(){return"array"==this.type||"object"==this.type},I.TYPE_TITLES={auto:p("autoType"),object:p("objectType"),array:p("arrayType"),string:p("stringType")},I.prototype.addTemplates=function(t,n){var i=this,e=i.editor.options.templates;if(null!=e){e.length&&t.push({type:"separator"});e.forEach(function(e){t.push({text:e.text,className:e.className||"jsoneditor-type-object",title:e.title,click:n?function(e,t){i._onAppend(e,t)}.bind(this,e.field,e.value):function(e,t){i._onInsertBefore(e,t)}.bind(this,e.field,e.value)})})}},I.prototype.showContextMenu=function(e,t){var n=this,i=I.TYPE_TITLES,o=[];if(this.editable.value&&o.push({text:p("type"),title:p("typeTitle"),className:"jsoneditor-type-"+this.type,submenu:[{text:p("auto"),className:"jsoneditor-type-auto"+("auto"==this.type?" jsoneditor-selected":""),title:i.auto,click:function(){n._onChangeType("auto")}},{text:p("array"),className:"jsoneditor-type-array"+("array"==this.type?" jsoneditor-selected":""),title:i.array,click:function(){n._onChangeType("array")}},{text:p("object"),className:"jsoneditor-type-object"+("object"==this.type?" jsoneditor-selected":""),title:i.object,click:function(){n._onChangeType("object")}},{text:p("string"),className:"jsoneditor-type-string"+("string"==this.type?" jsoneditor-selected":""),title:i.string,click:function(){n._onChangeType("string")}}]}),this._hasChilds()&&(o.push({text:p("sort"),title:p("sortTitle",{type:this.type}),className:"jsoneditor-sort-asc",click:function(){var e=n.editor.options.modalAnchor||f;u(n,e)}}),o.push({text:p("transform"),title:p("transformTitle",{type:this.type}),className:"jsoneditor-transform",click:function(){var e=n.editor.options.modalAnchor||f;h(n,e)}})),this.parent&&this.parent._hasChilds()){o.length&&o.push({type:"separator"});var r=n.parent.childs;if(n==r[r.length-1]){var a=[{text:p("auto"),className:"jsoneditor-type-auto",title:i.auto,click:function(){n._onAppend("","","auto")}},{text:p("array"),className:"jsoneditor-type-array",title:i.array,click:function(){n._onAppend("",[])}},{text:p("object"),className:"jsoneditor-type-object",title:i.object,click:function(){n._onAppend("",{})}},{text:p("string"),className:"jsoneditor-type-string",title:i.string,click:function(){n._onAppend("","","string")}}];n.addTemplates(a,!0),o.push({text:p("appendText"),title:p("appendTitle"),submenuTitle:p("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){n._onAppend("","","auto")},submenu:a})}var s=[{text:p("auto"),className:"jsoneditor-type-auto",title:i.auto,click:function(){n._onInsertBefore("","","auto")}},{text:p("array"),className:"jsoneditor-type-array",title:i.array,click:function(){n._onInsertBefore("",[])}},{text:p("object"),className:"jsoneditor-type-object",title:i.object,click:function(){n._onInsertBefore("",{})}},{text:p("string"),className:"jsoneditor-type-string",title:i.string,click:function(){n._onInsertBefore("","","string")}}];n.addTemplates(s,!1),o.push({text:p("insert"),title:p("insertTitle"),submenuTitle:p("insertSub"),className:"jsoneditor-insert",click:function(){n._onInsertBefore("","","auto")},submenu:s}),this.editable.field&&(o.push({text:p("duplicateText"),title:p("duplicateField"),className:"jsoneditor-duplicate",click:function(){I.onDuplicate(n)}}),o.push({text:p("removeText"),title:p("removeField"),className:"jsoneditor-remove",click:function(){I.onRemove(n)}}))}new d(o,{close:t}).show(e,this.editor.content)},I.prototype._getType=function(e){return e instanceof Array?"array":e instanceof Object?"object":"string"==typeof e&&"string"!=typeof this._stringCast(e)?"string":"auto"},I.prototype._stringCast=function(e){var t=e.toLowerCase(),n=Number(e),i=parseFloat(e);return""==e?"":"null"==t?null:"true"==t||"false"!=t&&(isNaN(n)||isNaN(i)?e:n)},I.prototype._escapeHTML=function(e){if("string"!=typeof e)return String(e);var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/  /g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),n=JSON.stringify(t),i=n.substring(1,n.length-1);return!0===this.editor.options.escapeUnicode&&(i=R.escapeUnicodeChars(i)),i},I.prototype._unescapeHTML=function(e){var t='"'+this._escapeJSON(e)+'"';return R.parse(t).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")},I.prototype._escapeJSON=function(e){for(var t="",n=0;n<e.length;){var i=e.charAt(n);"\n"==i?t+="\\n":"\\"==i?(t+=i,n++,""!==(i=e.charAt(n))&&-1!='"\\/bfnrtu'.indexOf(i)||(t+="\\"),t+=i):t+='"'==i?'\\"':i,n++}return t};var L=o(I),a=r(I);e.exports=I},function(e,t,n){!function(e){"use strict";function _(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function A(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function j(e,t){if(e===t)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(t))return!1;if(!0===_(e)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!1===j(e[n],t[n]))return!1;return!0}if(!0!==A(e))return!1;var i={};for(var o in e)if(hasOwnProperty.call(e,o)){if(!1===j(e[o],t[o]))return!1;i[o]=!0}for(var r in t)if(hasOwnProperty.call(t,r)&&!0!==i[r])return!1;return!0}function P(e){if(""===e||!1===e||null===e)return!0;if(_(e)&&0===e.length)return!0;if(A(e)){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}return!1}function l(e){return"0"<=e&&e<="9"||"-"===e}function n(){}function a(){}function s(e){this.runtime=e}function c(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[u]}]},avg:{_func:this._functionAvg,_signature:[{types:[f]}]},ceil:{_func:this._functionCeil,_signature:[{types:[u]}]},contains:{_func:this._functionContains,_signature:[{types:[h,p]},{types:[r]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[h]},{types:[h]}]},floor:{_func:this._functionFloor,_signature:[{types:[u]}]},length:{_func:this._functionLength,_signature:[{types:[h,p,t]}]},map:{_func:this._functionMap,_signature:[{types:[i]},{types:[p]}]},max:{_func:this._functionMax,_signature:[{types:[f,m]}]},merge:{_func:this._functionMerge,_signature:[{types:[t],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[p]},{types:[i]}]},sum:{_func:this._functionSum,_signature:[{types:[f]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[h]},{types:[h]}]},min:{_func:this._functionMin,_signature:[{types:[f,m]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[p]},{types:[i]}]},type:{_func:this._functionType,_signature:[{types:[r]}]},keys:{_func:this._functionKeys,_signature:[{types:[t]}]},values:{_func:this._functionValues,_signature:[{types:[t]}]},sort:{_func:this._functionSort,_signature:[{types:[m,f]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[p]},{types:[i]}]},join:{_func:this._functionJoin,_signature:[{types:[h]},{types:[m]}]},reverse:{_func:this._functionReverse,_signature:[{types:[h,p]}]},to_array:{_func:this._functionToArray,_signature:[{types:[r]}]},to_string:{_func:this._functionToString,_signature:[{types:[r]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[r]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[r],variadic:!0}]}}}var d;d="function"==typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]};var u=0,r=1,h=2,p=3,t=4,i=6,f=8,m=9,g={".":"Dot","*":"Star",",":"Comma",":":"Colon","{":"Lbrace","}":"Rbrace","]":"Rbracket","(":"Lparen",")":"Rparen","@":"Current"},v={"<":!0,">":!0,"=":!0,"!":!0},b={" ":!0,"\t":!0,"\n":!0};n.prototype={tokenize:function(e){var t,n,i,o,r=[];for(this._current=0;this._current<e.length;)if("a"<=(o=e[this._current])&&o<="z"||"A"<=o&&o<="Z"||"_"===o)t=this._current,n=this._consumeUnquotedIdentifier(e),r.push({type:"UnquotedIdentifier",value:n,start:t});else if(void 0!==g[e[this._current]])r.push({type:g[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(l(e[this._current]))i=this._consumeNumber(e),r.push(i);else if("["===e[this._current])i=this._consumeLBracket(e),r.push(i);else if('"'===e[this._current])t=this._current,n=this._consumeQuotedIdentifier(e),r.push({type:"QuotedIdentifier",value:n,start:t});else if("'"===e[this._current])t=this._current,n=this._consumeRawStringLiteral(e),r.push({type:"Literal",value:n,start:t});else if("`"===e[this._current]){t=this._current;var a=this._consumeLiteral(e);r.push({type:"Literal",value:a,start:t})}else if(void 0!==v[e[this._current]])r.push(this._consumeOperator(e));else if(void 0!==b[e[this._current]])this._current++;else if("&"===e[this._current])t=this._current,this._current++,"&"===e[this._current]?(this._current++,r.push({type:"And",value:"&&",start:t})):r.push({type:"Expref",value:"&",start:t});else{if("|"!==e[this._current]){var s=new Error("Unknown character:"+e[this._current]);throw s.name="LexerError",s}t=this._current,this._current++,"|"===e[this._current]?(this._current++,r.push({type:"Or",value:"||",start:t})):r.push({type:"Pipe",value:"|",start:t})}return r},_consumeUnquotedIdentifier:function(e){var t,n=this._current;for(this._current++;this._current<e.length&&("a"<=(t=e[this._current])&&t<="z"||"A"<=t&&t<="Z"||"0"<=t&&t<="9"||"_"===t);)this._current++;return e.slice(n,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;for(var n=e.length;'"'!==e[this._current]&&this._current<n;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&'"'!==e[i+1]?i++:i+=2,this._current=i}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;for(var n=e.length;"'"!==e[this._current]&&this._current<n;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&"'"!==e[i+1]?i++:i+=2,this._current=i}return this._current++,e.slice(t+1,this._current-1).replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;for(var n=e.length;l(e[this._current])&&this._current<n;)this._current++;return{type:"Number",value:parseInt(e.slice(t,this._current)),start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:"Filter",value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:"Flatten",value:"[]",start:t}):{type:"Lbracket",value:"[",start:t}},_consumeOperator:function(e){var t=this._current,n=e[t];return this._current++,"!"===n?"="===e[this._current]?(this._current++,{type:"NE",value:"!=",start:t}):{type:"Not",value:"!",start:t}:"<"===n?"="===e[this._current]?(this._current++,{type:"LTE",value:"<=",start:t}):{type:"LT",value:"<",start:t}:">"===n?"="===e[this._current]?(this._current++,{type:"GTE",value:">=",start:t}):{type:"GT",value:">",start:t}:"="===n&&"="===e[this._current]?(this._current++,{type:"EQ",value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;for(var t,n=this._current,i=e.length;"`"!==e[this._current]&&this._current<i;){var o=this._current;"\\"!==e[o]||"\\"!==e[o+1]&&"`"!==e[o+1]?o++:o+=2,this._current=o}var r=d(e.slice(n,this._current));return r=r.replace("\\`","`"),t=this._looksLikeJSON(r)?JSON.parse(r):JSON.parse('"'+r+'"'),this._current++,t},_looksLikeJSON:function(e){if(""===e)return!1;if(0<='[{"'.indexOf(e[0]))return!0;if(0<=["true","false","null"].indexOf(e))return!0;if(!(0<="-0123456789".indexOf(e[0])))return!1;try{return JSON.parse(e),!0}catch(e){return!1}}};var y={EOF:0,UnquotedIdentifier:0,QuotedIdentifier:0,Rbracket:0,Rparen:0,Comma:0,Rbrace:0,Number:0,Current:0,Expref:0,Pipe:1,Or:2,And:3,EQ:5,GT:5,LT:5,GTE:5,LTE:5,NE:5,Flatten:9,Star:20,Filter:21,Dot:40,Not:45,Lbrace:50,Lbracket:55,Lparen:60};a.prototype={parse:function(e){this._loadTokens(e),this.index=0;var t=this.expression(0);if("EOF"===this._lookahead(0))return t;var n=this._lookaheadToken(0),i=new Error("Unexpected token type: "+n.type+", value: "+n.value);throw i.name="ParserError",i},_loadTokens:function(e){var t=(new n).tokenize(e);t.push({type:"EOF",value:"",start:e.length}),this.tokens=t},expression:function(e){var t=this._lookaheadToken(0);this._advance();for(var n=this.nud(t),i=this._lookahead(0);e<y[i];)this._advance(),n=this.led(i,n),i=this._lookahead(0);return n},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++},nud:function(e){var t,n;switch(e.type){case"Literal":return{type:"Literal",value:e.value};case"UnquotedIdentifier":return{type:"Field",name:e.value};case"QuotedIdentifier":var i={type:"Field",name:e.value};if("Lparen"===this._lookahead(0))throw new Error("Quoted identifier not allowed for function names.");return i;case"Not":return{type:"NotExpression",children:[t=this.expression(y.Not)]};case"Star":return t=null,{type:"ValueProjection",children:[{type:"Identity"},t="Rbracket"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(y.Star)]};case"Filter":return this.led(e.type,{type:"Identity"});case"Lbrace":return this._parseMultiselectHash();case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[{type:"Identity"}]},t=this._parseProjectionRHS(y.Flatten)]};case"Lbracket":return"Number"===this._lookahead(0)||"Colon"===this._lookahead(0)?(t=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},t)):"Star"===this._lookahead(0)&&"Rbracket"===this._lookahead(1)?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},t=this._parseProjectionRHS(y.Star)]}):this._parseMultiselectList();case"Current":return{type:"Current"};case"Expref":return{type:"ExpressionReference",children:[n=this.expression(y.Expref)]};case"Lparen":for(var o=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(n={type:"Current"},this._advance()):n=this.expression(0),o.push(n);return this._match("Rparen"),o[0];default:this._errorToken(e)}},led:function(e,t){var n;switch(e){case"Dot":var i=y.Dot;return"Star"!==this._lookahead(0)?{type:"Subexpression",children:[t,n=this._parseDotRHS(i)]}:(this._advance(),{type:"ValueProjection",children:[t,n=this._parseProjectionRHS(i)]});case"Pipe":return{type:"Pipe",children:[t,n=this.expression(y.Pipe)]};case"Or":return{type:"OrExpression",children:[t,n=this.expression(y.Or)]};case"And":return{type:"AndExpression",children:[t,n=this.expression(y.And)]};case"Lparen":for(var o,r=t.name,a=[];"Rparen"!==this._lookahead(0);)"Current"===this._lookahead(0)?(o={type:"Current"},this._advance()):o=this.expression(0),"Comma"===this._lookahead(0)&&this._match("Comma"),a.push(o);return this._match("Rparen"),{type:"Function",name:r,children:a};case"Filter":var s=this.expression(0);return this._match("Rbracket"),{type:"FilterProjection",children:[t,n="Flatten"===this._lookahead(0)?{type:"Identity"}:this._parseProjectionRHS(y.Filter),s]};case"Flatten":return{type:"Projection",children:[{type:"Flatten",children:[t]},this._parseProjectionRHS(y.Flatten)]};case"EQ":case"NE":case"GT":case"GTE":case"LT":case"LTE":return this._parseComparator(t,e);case"Lbracket":var l=this._lookaheadToken(0);return"Number"===l.type||"Colon"===l.type?(n=this._parseIndexExpression(),this._projectIfSlice(t,n)):(this._match("Star"),this._match("Rbracket"),{type:"Projection",children:[t,n=this._parseProjectionRHS(y.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),n=new Error("Expected "+e+", got: "+t.type);throw n.name="ParserError",n}this._advance()},_errorToken:function(e){var t=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw t.name="ParserError",t},_parseIndexExpression:function(){if("Colon"===this._lookahead(0)||"Colon"===this._lookahead(1))return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match("Rbracket"),e},_projectIfSlice:function(e,t){var n={type:"IndexExpression",children:[e,t]};return"Slice"===t.type?{type:"Projection",children:[n,this._parseProjectionRHS(y.Star)]}:n},_parseSliceExpression:function(){for(var e=[null,null,null],t=0,n=this._lookahead(0);"Rbracket"!==n&&t<3;){if("Colon"===n)t++,this._advance();else{if("Number"!==n){var i=this._lookahead(0),o=new Error("Syntax error, unexpected token: "+i.value+"("+i.type+")");throw o.name="Parsererror",o}e[t]=this._lookaheadToken(0).value,this._advance()}n=this._lookahead(0)}return this._match("Rbracket"),{type:"Slice",children:e}},_parseComparator:function(e,t){return{type:"Comparator",name:t,children:[e,this.expression(y[t])]}},_parseDotRHS:function(e){var t=this._lookahead(0);return 0<=["UnquotedIdentifier","QuotedIdentifier","Star"].indexOf(t)?this.expression(e):"Lbracket"===t?(this._match("Lbracket"),this._parseMultiselectList()):"Lbrace"===t?(this._match("Lbrace"),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(y[this._lookahead(0)]<10)t={type:"Identity"};else if("Lbracket"===this._lookahead(0))t=this.expression(e);else if("Filter"===this._lookahead(0))t=this.expression(e);else{if("Dot"!==this._lookahead(0)){var n=this._lookaheadToken(0),i=new Error("Sytanx error, unexpected token: "+n.value+"("+n.type+")");throw i.name="ParserError",i}this._match("Dot"),t=this._parseDotRHS(e)}return t},_parseMultiselectList:function(){for(var e=[];"Rbracket"!==this._lookahead(0);){var t=this.expression(0);if(e.push(t),"Comma"===this._lookahead(0)&&(this._match("Comma"),"Rbracket"===this._lookahead(0)))throw new Error("Unexpected token Rbracket")}return this._match("Rbracket"),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,n,i=[],o=["UnquotedIdentifier","QuotedIdentifier"];;){if(e=this._lookaheadToken(0),o.indexOf(e.type)<0)throw new Error("Expecting an identifier token, got: "+e.type);if(t=e.value,this._advance(),this._match("Colon"),n={type:"KeyValuePair",name:t,value:this.expression(0)},i.push(n),"Comma"===this._lookahead(0))this._match("Comma");else if("Rbrace"===this._lookahead(0)){this._match("Rbrace");break}}return{type:"MultiSelectHash",children:i}}},s.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,t){var n,i,o,r,a,s,l,c,d;switch(e.type){case"Field":return null!==t&&A(t)?void 0===(s=t[e.name])?null:s:null;case"Subexpression":for(o=this.visit(e.children[0],t),d=1;d<e.children.length;d++)if(null===(o=this.visit(e.children[1],o)))return null;return o;case"IndexExpression":return l=this.visit(e.children[0],t),this.visit(e.children[1],l);case"Index":if(!_(t))return null;var u=e.value;return u<0&&(u=t.length+u),void 0===(o=t[u])&&(o=null),o;case"Slice":if(!_(t))return null;var h=e.children.slice(0),p=this.computeSliceParams(t.length,h),f=p[0],m=p[1],g=p[2];if(o=[],0<g)for(d=f;d<m;d+=g)o.push(t[d]);else for(d=f;m<d;d+=g)o.push(t[d]);return o;case"Projection":var v=this.visit(e.children[0],t);if(!_(v))return null;for(c=[],d=0;d<v.length;d++)null!==(i=this.visit(e.children[1],v[d]))&&c.push(i);return c;case"ValueProjection":if(!A(v=this.visit(e.children[0],t)))return null;c=[];var b=function(e){for(var t=Object.keys(e),n=[],i=0;i<t.length;i++)n.push(e[t[i]]);return n}(v);for(d=0;d<b.length;d++)null!==(i=this.visit(e.children[1],b[d]))&&c.push(i);return c;case"FilterProjection":if(!_(v=this.visit(e.children[0],t)))return null;var y=[],x=[];for(d=0;d<v.length;d++)P(n=this.visit(e.children[2],v[d]))||y.push(v[d]);for(var w=0;w<y.length;w++)null!==(i=this.visit(e.children[1],y[w]))&&x.push(i);return x;case"Comparator":switch(r=this.visit(e.children[0],t),a=this.visit(e.children[1],t),e.name){case"EQ":o=j(r,a);break;case"NE":o=!j(r,a);break;case"GT":o=a<r;break;case"GTE":o=a<=r;break;case"LT":o=r<a;break;case"LTE":o=r<=a;break;default:throw new Error("Unknown comparator: "+e.name)}return o;case"Flatten":var C=this.visit(e.children[0],t);if(!_(C))return null;var k=[];for(d=0;d<C.length;d++)_(i=C[d])?k.push.apply(k,i):k.push(i);return k;case"Identity":return t;case"MultiSelectList":if(null===t)return null;for(c=[],d=0;d<e.children.length;d++)c.push(this.visit(e.children[d],t));return c;case"MultiSelectHash":if(null===t)return null;var S;for(c={},d=0;d<e.children.length;d++)c[(S=e.children[d]).name]=this.visit(S.value,t);return c;case"OrExpression":return P(n=this.visit(e.children[0],t))&&(n=this.visit(e.children[1],t)),n;case"AndExpression":return!0===P(r=this.visit(e.children[0],t))?r:this.visit(e.children[1],t);case"NotExpression":return P(r=this.visit(e.children[0],t));case"Literal":return e.value;case"Pipe":return l=this.visit(e.children[0],t),this.visit(e.children[1],l);case"Current":return t;case"Function":var T=[];for(d=0;d<e.children.length;d++)T.push(this.visit(e.children[d],t));return this.runtime.callFunction(e.name,T);case"ExpressionReference":var E=e.children[0];return E.jmespathType="Expref",E;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var n=t[0],i=t[1],o=t[2],r=[null,null,null];if(null===o)o=1;else if(0===o){var a=new Error("Invalid slice, step cannot be 0");throw a.name="RuntimeError",a}var s=o<0;return n=null===n?s?e-1:0:this.capSliceRange(e,n,o),i=null===i?s?-1:e:this.capSliceRange(e,i,o),r[0]=n,r[1]=i,r[2]=o,r},capSliceRange:function(e,t,n){return t<0?(t+=e)<0&&(t=n<0?-1:0):e<=t&&(t=n<0?e-1:e),t}},c.prototype={callFunction:function(e,t){var n=this.functionTable[e];if(void 0===n)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,n._signature),n._func.call(this,t)},_validateArgs:function(e,t,n){var i;if(n[n.length-1].variadic){if(t.length<n.length)throw i=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+n.length+i+" but received "+t.length)}else if(t.length!==n.length)throw i=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+n.length+i+" but received "+t.length);for(var o,r,a,s=0;s<n.length;s++){a=!1,o=n[s].types,r=this._getTypeName(t[s]);for(var l=0;l<o.length;l++)if(this._typeMatches(r,o[l],t[s])){a=!0;break}if(!a)throw new Error("TypeError: "+e+"() expected argument "+(s+1)+" to be type "+o+" but received type "+r+" instead.")}},_typeMatches:function(e,t,n){if(t===r)return!0;if(t!==m&&t!==f&&t!==p)return e===t;if(t===p)return e===p;if(e===p){var i;t===f?i=u:t===m&&(i=h);for(var o=0;o<n.length;o++)if(!this._typeMatches(this._getTypeName(n[o]),i,n[o]))return!1;return!0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return h;case"[object Number]":return u;case"[object Array]":return p;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return"Expref"===e.jmespathType?i:t}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],n=e[1];return-1!==t.indexOf(n,t.length-n.length)},_functionReverse:function(e){if(this._getTypeName(e[0])===h){for(var t=e[0],n="",i=t.length-1;0<=i;i--)n+=t[i];return n}var o=e[0].slice(0);return o.reverse(),o},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,n=e[0],i=0;i<n.length;i++)t+=n[i];return t/n.length},_functionContains:function(e){return 0<=e[0].indexOf(e[1])},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return A(e[0])?Object.keys(e[0]).length:e[0].length},_functionMap:function(e){for(var t=[],n=this._interpreter,i=e[0],o=e[1],r=0;r<o.length;r++)t.push(n.visit(i,o[r]));return t},_functionMerge:function(e){for(var t={},n=0;n<e.length;n++){var i=e[n];for(var o in i)t[o]=i[o]}return t},_functionMax:function(e){if(0<e[0].length){if(this._getTypeName(e[0][0])===u)return Math.max.apply(Math,e[0]);for(var t=e[0],n=t[0],i=1;i<t.length;i++)n.localeCompare(t[i])<0&&(n=t[i]);return n}return null},_functionMin:function(e){if(0<e[0].length){if(this._getTypeName(e[0][0])===u)return Math.min.apply(Math,e[0]);for(var t=e[0],n=t[0],i=1;i<t.length;i++)t[i].localeCompare(n)<0&&(n=t[i]);return n}return null},_functionSum:function(e){for(var t=0,n=e[0],i=0;i<n.length;i++)t+=n[i];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case u:return"number";case h:return"string";case p:return"array";case t:return"object";case 5:return"boolean";case i:return"expref";case 7:return"null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],n=Object.keys(t),i=[],o=0;o<n.length;o++)i.push(t[n[o]]);return i},_functionJoin:function(e){var t=e[0];return e[1].join(t)},_functionToArray:function(e){return this._getTypeName(e[0])===p?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===h?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,n=this._getTypeName(e[0]);return n===u?e[0]:n!==h||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(7!==this._getTypeName(e[t]))return e[t];return null},_functionSort:function(e){var t=e[0].slice(0);return t.sort(),t},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var o=this._interpreter,r=e[1],a=this._getTypeName(o.visit(r,t[0]));if([u,h].indexOf(a)<0)throw new Error("TypeError");for(var s=this,n=[],i=0;i<t.length;i++)n.push([i,t[i]]);n.sort(function(e,t){var n=o.visit(r,e[1]),i=o.visit(r,t[1]);if(s._getTypeName(n)!==a)throw new Error("TypeError: expected "+a+", received "+s._getTypeName(n));if(s._getTypeName(i)!==a)throw new Error("TypeError: expected "+a+", received "+s._getTypeName(i));return i<n?1:n<i?-1:e[0]-t[0]});for(var l=0;l<n.length;l++)t[l]=n[l][1];return t},_functionMaxBy:function(e){for(var t,n,i=e[1],o=e[0],r=this.createKeyFunction(i,[u,h]),a=-1/0,s=0;s<o.length;s++)(n=r(o[s]))>a&&(a=n,t=o[s]);return t},_functionMinBy:function(e){for(var t,n,i=e[1],o=e[0],r=this.createKeyFunction(i,[u,h]),a=1/0,s=0;s<o.length;s++)(n=r(o[s]))<a&&(a=n,t=o[s]);return t},createKeyFunction:function(i,o){var r=this,a=this._interpreter;return function(e){var t=a.visit(i,e);if(o.indexOf(r._getTypeName(t))<0){var n="TypeError: expected one of "+o+", received "+r._getTypeName(t);throw new Error(n)}return t}}},e.tokenize=function(e){return(new n).tokenize(e)},e.compile=function(e){return(new a).parse(e)},e.search=function(e,t){var n=new a,i=new c,o=new s(i);i._interpreter=o;var r=n.parse(t);return o.search(r,e)},e.strictDeepEqual=j}(t)},function(e,t){e.exports=function t(e,n){"use strict";function i(e){return t.insensitive&&(""+e).toLowerCase()||""+e}var o,r,a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,s=/(^[ ]*|[ ]*$)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,d=i(e).replace(s,"")||"",u=i(n).replace(s,"")||"",h=d.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=u.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=parseInt(d.match(c),16)||1!==h.length&&d.match(l)&&Date.parse(d),m=parseInt(u.match(c),16)||f&&u.match(l)&&Date.parse(u)||null;if(m){if(f<m)return-1;if(m<f)return 1}for(var g=0,v=Math.max(h.length,p.length);g<v;g++){if(o=!(h[g]||"").match(/^0/)&&parseFloat(h[g])||h[g]||0,r=!(p[g]||"").match(/^0/)&&parseFloat(p[g])||p[g]||0,isNaN(o)!==isNaN(r))return isNaN(o)?1:-1;if(typeof o!=typeof r&&(o+="",r+=""),o<r)return-1;if(r<o)return 1}return 0}},function(e,t,n){"use strict";var r=n(6),s=n(5),l=n(8).translate;e.exports=function(a){function e(e){this.editor=e,this.dom={}}return(e.prototype=new a).getDom=function(){var e=this.dom;if(e.tr)return e.tr;this._updateEditability();var t=document.createElement("tr");if(t.className="jsoneditor-append",t.node=this,e.tr=t,"tree"===this.editor.options.mode){e.tdDrag=document.createElement("td");var n=document.createElement("td");e.tdMenu=n;var i=document.createElement("button");i.type="button",i.className="jsoneditor-contextmenu",i.title="Click to open the actions menu (Ctrl+M)",e.menu=i,n.appendChild(e.menu)}var o=document.createElement("td"),r=document.createElement("div");return r.innerHTML="("+l("empty")+")",r.className="jsoneditor-readonly",o.appendChild(r),e.td=o,e.text=r,this.updateDom(),t},e.prototype.getPath=function(){return null},e.prototype.getIndex=function(){return null},e.prototype.updateDom=function(e){var t=this.dom,n=t.td;n&&(n.style.paddingLeft=24*this.getLevel()+26+"px");var i=t.text;i&&(i.innerHTML="("+l("empty")+" "+this.parent.type+")");var o=t.tr;this.isVisible()?t.tr.firstChild||(t.tdDrag&&o.appendChild(t.tdDrag),t.tdMenu&&o.appendChild(t.tdMenu),o.appendChild(n)):t.tr.firstChild&&(t.tdDrag&&o.removeChild(t.tdDrag),t.tdMenu&&o.removeChild(t.tdMenu),o.removeChild(n))},e.prototype.isVisible=function(){return 0==this.parent.childs.length},e.prototype.showContextMenu=function(e,t){var n=this,i=a.TYPE_TITLES,o=[{text:l("auto"),className:"jsoneditor-type-auto",title:i.auto,click:function(){n._onAppend("","","auto")}},{text:l("array"),className:"jsoneditor-type-array",title:i.array,click:function(){n._onAppend("",[])}},{text:l("object"),className:"jsoneditor-type-object",title:i.object,click:function(){n._onAppend("",{})}},{text:l("string"),className:"jsoneditor-type-string",title:i.string,click:function(){n._onAppend("","","string")}}];n.addTemplates(o,!0);var r=[{text:l("appendText"),title:l("appendTitleAuto"),submenuTitle:l("appendSubmenuTitle"),className:"jsoneditor-insert",click:function(){n._onAppend("","","auto")},submenu:o}];new s(r,{close:t}).show(e,this.editor.content)},e.prototype.onEvent=function(e){var t=e.type,n=e.target||e.srcElement,i=this.dom;if(n==i.menu&&("mouseover"==t?this.editor.highlighter.highlight(this.parent):"mouseout"==t&&this.editor.highlighter.unhighlight()),"click"==t&&n==i.menu){var o=this.editor.highlighter;o.highlight(this.parent),o.lock(),r.addClassName(i.menu,"jsoneditor-selected"),this.showContextMenu(i.menu,function(){r.removeClassName(i.menu,"jsoneditor-selected"),o.unlock(),o.unhighlight()})}"keydown"==t&&this.onKeyDown(e)},e}},function(e,t,n){"use strict";var l=n(8).translate;e.exports=function(e){function t(e,t){this.editor=e,this.parent=t,this.dom={}}return(t.prototype=new e).getDom=function(){if(this.dom.tr)return this.dom.tr;if(this._updateEditability(),!this.dom.tr){var t=this,n=this.parent,e=document.createElement("a");e.appendChild(document.createTextNode(l("showMore"))),e.href="#",e.onclick=function(e){return n.visibleChilds=Math.floor(n.visibleChilds/n.MAX_VISIBLE_CHILDS+1)*n.MAX_VISIBLE_CHILDS,t.updateDom(),n.showChilds(),e.preventDefault(),!1};var i=document.createElement("a");i.appendChild(document.createTextNode(l("showAll"))),i.href="#",i.onclick=function(e){return n.visibleChilds=1/0,t.updateDom(),n.showChilds(),e.preventDefault(),!1};var o=document.createElement("div"),r=document.createTextNode(this._getShowMoreText());o.className="jsoneditor-show-more",o.appendChild(r),o.appendChild(e),o.appendChild(document.createTextNode(". ")),o.appendChild(i),o.appendChild(document.createTextNode(". "));var a=document.createElement("td");a.appendChild(o);var s=document.createElement("tr");s.appendChild(document.createElement("td")),s.appendChild(document.createElement("td")),s.appendChild(a),s.className="jsoneditor-show-more",this.dom.tr=s,this.dom.moreContents=o,this.dom.moreText=r}return this.updateDom(),this.dom.tr},t.prototype.updateDom=function(e){if(this.isVisible()){if(this.dom.tr.node=this.parent.childs[this.parent.visibleChilds],!this.dom.tr.parentNode){var t=this.parent._getNextTr();t&&t.parentNode.insertBefore(this.dom.tr,t)}this.dom.moreText.nodeValue=this._getShowMoreText(),this.dom.moreContents.style.marginLeft=24*(this.getLevel()+1)+"px"}else this.dom.tr&&this.dom.tr.parentNode&&this.dom.tr.parentNode.removeChild(this.dom.tr)},t.prototype._getShowMoreText=function(){return l("showMoreStatus",{visibleChilds:this.parent.visibleChilds,totalChilds:this.parent.childs.length})+" "},t.prototype.isVisible=function(){return this.parent.expanded&&this.parent.childs.length>this.parent.visibleChilds},t.prototype.onEvent=function(e){"keydown"===e.type&&this.onKeyDown(e)},t}},function(e,t,n){var i=n(16),o=n(8).translate;e.exports=function(s,e){var t='<div class="pico-modal-contents"><div class="pico-modal-header">'+o("sort")+"</div><form><table><tbody><tr>  <td>"+o("sortFieldLabel")+' </td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="'+o("sortFieldTitle")+'">    </select>  </div>  </td></tr><tr>  <td>'+o("sortDirectionLabel")+' </td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="'+o("sortAscending")+'" title="'+o("sortAscendingTitle")+'" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="'+o("sortDescending")+'" title="'+o("sortDescendingTitle")+'" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  </div>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+o("ok")+'" /></td></tr></tbody></table></form></div>';i({parent:e,content:t,overlayClass:"jsoneditor-modal-overlay",modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate(function(i){function t(e){r.value=e,r.className="jsoneditor-button-group jsoneditor-button-group-value-"+r.value}var e=i.modalElem().querySelector("form"),n=i.modalElem().querySelector("#ok"),o=i.modalElem().querySelector("#field"),r=i.modalElem().querySelector("#direction"),a="array"===s.type?s.getChildPaths():["."];a.forEach(function(e){var t=document.createElement("option");t.text=e,t.value=e,o.appendChild(t)}),o.value=s.sortedBy?s.sortedBy.path:a[0],t(s.sortedBy?s.sortedBy.direction:"asc"),r.onclick=function(e){t(e.target.getAttribute("data-value"))},n.onclick=function(e){e.preventDefault(),e.stopPropagation(),i.close();var t=o.value,n="."===t?[]:t.split(".").slice(1);s.sortedBy={path:t,direction:r.value},s.sort(n,r.value)},e&&(e.onsubmit=n.onclick)}).afterClose(function(e){e.destroy()}).show()}},function(e,t,n){var i,o,r;!function(){"use strict";o=[],void 0!==(r="function"==typeof(i=function(){"use strict";function g(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType}function v(e){return"string"==typeof e}function b(){var r=[];return{watch:r.push.bind(r),trigger:function(e,t){for(var n=!0,i={detail:t,preventDefault:function(){n=!1}},o=0;o<r.length;o++)r[o](e,i);return n}}}function n(e){return"none"===window.getComputedStyle(e).display}function o(e){this.elem=e}function y(e,t){return o.make(e("parent")).clazz("pico-overlay").clazz(e("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(e("overlayStyles",{opacity:.5,background:"#000"})).onClick(function(){e("overlayClose",!0)&&t()})}function x(e,t){var n=e("width","auto");"number"==typeof n&&(n+="px");var i=e("modalId","pico-"+r++);return o.make(e("parent")).clazz("pico-content").clazz(e("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:n,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(e("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(e("content")).attr("id",i).attr("role","dialog").attr("aria-labelledby",e("ariaLabelledBy")).attr("aria-describedby",e("ariaDescribedBy",i)).onClick(function(e){new o(e.target).anyAncestor(function(e){return/\bpico-close\b/.test(e.elem.className)})&&t()})}function w(e,t){if(t("closeButton",!0))return e.child("button").html(t("closeHtml","&#xD7;")).clazz("pico-close").clazz(t("closeClass","")).stylize(t("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",t("close-label","Close"))}function C(e){return function(){return e().elem}}function k(i,o){function t(e,t){return(e.msMatchesSelector||e.webkitMatchesSelector||e.matches).call(e,t)}function r(e){return!(n(e)||t(e,":disabled")||e.hasAttribute("contenteditable"))&&(e.hasAttribute("tabindex")||t(e,"input,select,textarea,button,a[href],area[href],iframe"))}function a(e){for(var t=e.getElementsByTagName("*"),n=0;n<t.length;n++)if(r(t[n]))return t[n]}function s(e){for(var t=e.getElementsByTagName("*"),n=t.length;n--;)if(r(t[n]))return t[n]}var e;i.beforeShow(function(){e=document.activeElement}),i.afterShow(function(){if(o()){var e=a(i.modalElem());e&&e.focus()}}),i.afterClose(function(){o()&&e&&e.focus(),e=null}),l.watch(function(e){if(o()&&i.isVisible()){var t=a(i.modalElem()),n=s(i.modalElem());(e.shiftKey?t:n)===document.activeElement&&((e.shiftKey?n:t).focus(),e.preventDefault())}})}function S(e,t){var n,i=new o(document.body);e.beforeShow(function(){n=i.elem.style.overflow,t()&&i.stylize({overflow:"hidden"})}),e.afterClose(function(){i.stylize({overflow:n})})}o.make=function(e,t){"string"==typeof e&&(e=document.querySelector(e));var n=document.createElement(t||"div");return(e||document.body).appendChild(n),new o(n)},o.prototype={child:function(e){return o.make(this.elem,e)},stylize:function(e){e=e||{},void 0!==e.opacity&&(e.filter="alpha(opacity="+100*e.opacity+")");for(var t in e)e.hasOwnProperty(t)&&(this.elem.style[t]=e[t]);return this},clazz:function(e){return this.elem.className+=" "+e,this},html:function(e){return g(e)?this.elem.appendChild(e):this.elem.innerHTML=e,this},onClick:function(e){return this.elem.addEventListener("click",e),this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(e,t){return void 0!==t&&this.elem.setAttribute(e,t),this},anyAncestor:function(e){for(var t=this.elem;t;){if(e(new o(t)))return!0;t=t.parentNode}return!1},isVisible:function(){return!n(this.elem)}};var r=1,T=b(),l=b();return document.documentElement.addEventListener("keydown",function(e){var t=e.which||e.keyCode;27===t?T.trigger():9===t&&l.trigger(e)}),function(i){function o(e,t){var n=i[e];return"function"==typeof n&&(n=n(t)),void 0===n?t:n}function t(e){f().hide(),p().hide(),h.trigger(a,e)}function r(e){u.trigger(a,e)&&t(e)}function e(e){return function(){return e.apply(this,arguments),a}}function n(e,t){if(!s){var n=x(o,r);s={modal:n,overlay:y(o,r),close:w(n,o)},l.trigger(a,t)}return s[e]}(v(i)||g(i))&&(i={content:i});var a,s,l=b(),c=b(),d=b(),u=b(),h=b(),p=n.bind(window,"modal"),f=n.bind(window,"overlay"),m=n.bind(window,"close");return a={modalElem:C(p),closeElem:C(m),overlayElem:C(f),buildDom:e(n.bind(null,null)),isVisible:function(){return!!(s&&p&&p().isVisible())},show:function(e){return c.trigger(a,e)&&(f().show(),m(),p().show(),d.trigger(a,e)),this},close:e(r),forceClose:e(t),destroy:function(){p().destroy(),f().destroy(),f=p=m=void 0},options:function(t){Object.keys(t).map(function(e){i[e]=t[e]})},afterCreate:e(l.watch),beforeShow:e(c.watch),afterShow:e(d.watch),beforeClose:e(u.watch),afterClose:e(h.watch)},k(a,o.bind(null,"focus",!0)),S(a,o.bind(null,"bodyOverflow",!0)),T.watch(function(){o("escCloses",!0)&&a.isVisible()&&a.close()}),a}})?i.apply(t,o):i)&&(e.exports=r)}()},function(e,t,n){var k=n(11),i=n(16),S=n(18),o=n(8).translate,T=n(6).debounce;e.exports=function(w,e){var C=w.getValue(),t='<label class="pico-modal-contents"><div class="pico-modal-header">'+o("transform")+'</div><p>Enter a <a href="http://jmespath.org" target="_blank">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial</a>.</p><table><tbody><tr>  <th>'+o("transformWizardLabel")+' </th>  <td>  <div id="wizard" class="jsoneditor-jmespath-wizard">  <div>    <div class="jsoneditor-jmespath-wizard-label">'+o("transformWizardFilter")+'</div>    <div class="jsoneditor-jmespath-filter">      <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >        <select id="filterField">        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >        <select id="filterRelation">          <option value="==">==</option>          <option value="!=">!=</option>          <option value="<">&lt;</option>          <option value="<=">&lt;=</option>          <option value=">">&gt;</option>          <option value=">=">&gt;=</option>        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >        <input placeholder="value..." id="filterValue" />      </div>    </div>  </div>  <div>    <div class="jsoneditor-jmespath-wizard-label">'+o("transformWizardSortBy")+'</div>    <div class="jsoneditor-jmespath-filter">      <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">        <select id="sortField">        </select>      </div>      <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >        <select id="sortOrder">          <option value="asc">Ascending</option>          <option value="desc">Descending</option>        </select>      </div>    </div>  </div>  <div id="selectFieldsPart">    <div class="jsoneditor-jmespath-wizard-label">'+o("transformWizardSelectFields")+'</div>    <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple>    </select>  </div>  </div>  </td></tr><tr>  <th>'+o("transformQueryLabel")+' </th>  <td class="jsoneditor-modal-input">    <textarea id="query"               rows="4"               autocomplete="off"               autocorrect="off"               autocapitalize="off"               spellcheck="false"              title="'+o("transformQueryTitle")+'">[*]</textarea>  </td></tr><tr>  <th>'+o("transformPreviewLabel")+' </th>  <td class="jsoneditor-modal-input">    <textarea id="preview"         class="jsoneditor-transform-preview"        readonly> </textarea>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+o("ok")+'" autofocus /></td></tr></tbody></table></div>';i({parent:e,content:t,overlayClass:"jsoneditor-modal-overlay",modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:!1}).afterCreate(function(t){function o(e){return"."===e[0]?"."===e?"@":e.slice(1):e}function e(){if(a.value&&s.value&&l.value){var e=a.value,t=JSON.stringify(w._stringCast(l.value));h.value="[? "+e+" "+s.value+" `"+t+"`]"}else h.value="[*]";if(c.value&&d.value){var n=c.value;"desc"===d.value?h.value+=" | reverse(sort_by(@, &"+n+"))":h.value+=" | sort_by(@, &"+n+")"}if(u.value){for(var i=[],o=0;o<u.options.length;o++)if(u.options[o].selected){var r=u.options[o].value;i.push(r)}"]"!==h.value[h.value.length-1]&&(h.value+=" | [*]"),1===i.length?h.value+="."+r:1<i.length&&(h.value+=".{"+i.map(function(e){var t=e.split(".");return t[t.length-1]+": "+e}).join(", ")+"}")}x()}var n=t.modalElem(),i=n.querySelector("#wizard"),r=n.querySelector("#ok"),a=n.querySelector("#filterField"),s=n.querySelector("#filterRelation"),l=n.querySelector("#filterValue"),c=n.querySelector("#sortField"),d=n.querySelector("#sortOrder"),u=n.querySelector("#selectFields"),h=n.querySelector("#query"),p=n.querySelector("#preview");Array.isArray(C)||(i.style.display="none",i.parentNode.style.fontStyle="italic",i.parentNode.appendChild(document.createTextNode("(wizard not available for objects, only for arrays)"))),w.getChildPaths().forEach(function(e){var t=o(e),n=document.createElement("option");n.text=t,n.value=t,a.appendChild(n);var i=document.createElement("option");i.text=t,i.value=t,c.appendChild(i)});var f=w.getChildPaths(!0).filter(function(e){return"."!==e});0<f.length?f.forEach(function(e){var t=o(e),n=document.createElement("option");n.text=t,n.value=t,u.appendChild(n)}):n.querySelector("#selectFieldsPart").style.display="none";var m=new S(a,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),g=new S(s,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"compare..."}),v=new S(c,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),b=new S(d,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"order..."}),y=new S(u,{multiple:!0,clearable:!0,defaultSelected:!1});m.on("selectr.change",e),g.on("selectr.change",e),l.oninput=e,v.on("selectr.change",e),b.on("selectr.change",e),y.on("selectr.change",e),n.querySelector(".pico-modal-contents").onclick=function(e){e.preventDefault()},h.value=Array.isArray(C)?"[*]":"@";var x=T(function(){try{var e=k.search(C,h.value),t=JSON.stringify(e,null,2).split("\n");100<t.length&&(t=t.slice(0,100).concat(["..."])),p.className="jsoneditor-transform-preview",p.value=t.join("\n"),r.disabled=!1}catch(e){p.className="jsoneditor-transform-preview jsoneditor-error",p.value=e.toString(),r.disabled=!0}},300);(h.oninput=x)(),r.onclick=function(e){e.preventDefault(),e.stopPropagation(),t.close(),w.transform(h.value)},setTimeout(function(){h.select(),h.focus(),h.selectionStart=3,h.selectionEnd=3})}).afterClose(function(e){e.destroy()}).show()}},function(e,t){"use strict";function l(e,t){return e.hasOwnProperty(t)&&(!0===e[t]||e[t].length)}function s(e,t,n){e.parentNode?e.parentNode.parentNode||t.appendChild(e.parentNode):t.appendChild(e),u.removeClass(e,"excluded"),n||(e.innerHTML=e.textContent)}function i(){}var n={defaultSelected:!0,width:"auto",disabled:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag..."};i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){this._events=this._events||{},e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)},emit:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","emit"],n=0;n<t.length;n++)"function"==typeof e?e.prototype[t[n]]=i.prototype[t[n]]:e[t[n]]=i.prototype[t[n]];return e};function o(){if(this.items.length){var n=document.createDocumentFragment();if(this.config.pagination){var e=this.pages.slice(0,this.pageIndex);u.each(e,function(e,t){u.each(t,function(e,t){s(t,n,this.customOption)},this)},this)}else u.each(this.items,function(e,t){s(t,n,this.customOption)},this);n.childElementCount&&(u.removeClass(this.items[this.navIndex],"active"),this.navIndex=n.querySelector(".selectr-option").idx,u.addClass(this.items[this.navIndex],"active")),this.tree.appendChild(n)}}function c(e,t){t=t||e;var n=this.customOption?this.config.renderOption(t):e.textContent,i=u.createElement("li",{class:"selectr-option",html:n,role:"treeitem","aria-selected":!1});return i.idx=e.idx,this.items.push(i),e.defaultSelected&&this.defaultSelected.push(e.idx),e.disabled&&(i.disabled=!0,u.addClass(i,"disabled")),i}function r(){(this.config.searchable||this.config.taggable)&&(this.input.value=null,this.searching=!1,this.config.searchable&&u.removeClass(this.inputContainer,"active"),u.hasClass(this.container,"notice")&&(u.removeClass(this.container,"notice"),u.addClass(this.container,"open"),this.input.focus()),u.each(this.items,function(e,t){u.removeClass(t,"excluded"),this.customOption||(t.innerHTML=t.textContent)},this))}function a(e,t){if(t=t||{},!e)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if("string"==typeof(this.el=e)&&(this.el=document.querySelector(e)),null===this.el)throw new Error("The element you passed to Selectr can not be found.");if("select"!==this.el.nodeName.toLowerCase())throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(t)}var u={extend:function(e,t){var n;for(n in t=t||{},e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=e[n]));return t},each:function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(n,i,e[i],e);else for(var o=0,r=e.length;o<r;o++)t.call(n,o,e[o],e)},createElement:function(e,t){var n,i=document,o=i.createElement(e);if(t&&"[object Object]"===Object.prototype.toString.call(t))for(n in t)if(n in o)o[n]=t[n];else if("html"===n)o.innerHTML=t[n];else if("text"===n){var r=i.createTextNode(t[n]);o.appendChild(r)}else o.setAttribute(n,t[n]);return o},hasClass:function(e,t){if(e)return e.classList?e.classList.contains(t):!!e.className&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){u.hasClass(e,t)||(e.classList?e.classList.add(t):e.className=e.className.trim()+" "+t)},removeClass:function(e,t){u.hasClass(e,t)&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(e,t){return e&&e!==document.body&&(t(e)?e:u.closest(e.parentNode,t))},isInt:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},debounce:function(i,o,r){var a;return function(){var e=this,t=arguments,n=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||i.apply(e,t)},o),n&&i.apply(e,t)}},rect:function(e,t){var n=window,i=e.getBoundingClientRect(),o=t?n.pageXOffset:0,r=t?n.pageYOffset:0;return{bottom:i.bottom+r,height:i.height,left:i.left+o,right:i.right+o,top:i.top+r,width:i.width}},includes:function(e,t){return-1<e.indexOf(t)},truncate:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},d=function(){var e=this.tree;if(e.scrollTop>=e.scrollHeight-e.offsetHeight&&this.pageIndex<this.pages.length){var n=document.createDocumentFragment();u.each(this.pages[this.pageIndex],function(e,t){s(t,n,this.customOption)},this),e.appendChild(n),this.pageIndex++,this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length})}};a.prototype.render=function(e){if(!this.rendered){this.config=u.extend(n,e),this.originalType=this.el.type,this.originalIndex=this.el.tabIndex,this.defaultSelected=[],this.originalOptionCount=this.el.options.length,(this.config.multiple||this.config.taggable)&&(this.el.multiple=!0),this.disabled=l(this.config,"disabled"),this.opened=!1,this.config.taggable&&(this.config.searchable=!1),this.navigating=!1,this.mobileDevice=!1,/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&(this.mobileDevice=!0),this.customOption=this.config.hasOwnProperty("renderOption")&&"function"==typeof this.config.renderOption,this.customSelected=this.config.hasOwnProperty("renderSelection")&&"function"==typeof this.config.renderSelection,i.mixin(this),function(){this.requiresPagination=this.config.pagination&&0<this.config.pagination,l(this.config,"width")&&(u.isInt(this.config.width)?this.width=this.config.width+"px":"auto"===this.config.width?this.width="100%":u.includes(this.config.width,"%")&&(this.width=this.config.width)),this.container=u.createElement("div",{class:"selectr-container"}),this.config.customClass&&u.addClass(this.container,this.config.customClass),this.mobileDevice?u.addClass(this.container,"selectr-mobile"):u.addClass(this.container,"selectr-desktop"),this.el.tabIndex=-1,this.config.nativeDropdown||this.mobileDevice?u.addClass(this.el,"selectr-visible"):u.addClass(this.el,"selectr-hidden"),this.selected=u.createElement("div",{class:"selectr-selected",disabled:this.disabled,tabIndex:1,"aria-expanded":!1}),this.label=u.createElement(this.el.multiple?"ul":"span",{class:"selectr-label"});var e=u.createElement("div",{class:"selectr-options-container"});if(this.tree=u.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),this.notice=u.createElement("div",{class:"selectr-notice"}),this.el.setAttribute("aria-hidden",!0),this.disabled&&(this.el.disabled=!0),this.el.multiple&&(u.addClass(this.label,"selectr-tags"),u.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=this.getSelectedProperties("value"),this.selectedIndexes=this.getSelectedProperties("idx")),this.selected.appendChild(this.label),this.config.clearable&&(this.selectClear=u.createElement("button",{class:"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),u.addClass(this.container,"clearable")),this.config.taggable){var t=u.createElement("li",{class:"input-tag"});this.input=u.createElement("input",{class:"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),t.appendChild(this.input),this.label.appendChild(t),u.addClass(this.container,"taggable"),this.tagSeperators=[","],this.config.tagSeperators&&(this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators))}this.config.searchable&&(this.input=u.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),this.inputClear=u.createElement("button",{class:"selectr-input-clear",type:"button"}),this.inputContainer=u.createElement("div",{class:"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),e.appendChild(this.inputContainer)),e.appendChild(this.notice),e.appendChild(this.tree),this.items=[],this.options=[],this.el.options.length&&(this.options=[].slice.call(this.el.options));var n,i=!1,o=0;if(this.el.children.length&&u.each(this.el.children,function(e,t){"OPTGROUP"===t.nodeName?(i=u.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+t.label+"</li>"}),u.each(t.children,function(e,t){t.idx=o,i.appendChild(c.call(this,t,i)),o++},this)):(t.idx=o,c.call(this,t),o++)},this),this.config.data&&Array.isArray(this.config.data)){var r,a=!(this.data=[]);i=!1,o=0,u.each(this.config.data,function(e,t){l(t,"children")?(a=u.createElement("optgroup",{label:t.text}),i=u.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+t.text+"</li>"}),u.each(t.children,function(e,t){(r=new Option(t.text,t.value,!1,t.hasOwnProperty("selected")&&!0===t.selected)).disabled=l(t,"disabled"),this.options.push(r),a.appendChild(r),r.idx=o,i.appendChild(c.call(this,r,t)),this.data[o]=t,o++},this)):((r=new Option(t.text,t.value,!1,t.hasOwnProperty("selected")&&!0===t.selected)).disabled=l(t,"disabled"),this.options.push(r),r.idx=o,c.call(this,r,t),this.data[o]=t,o++)},this)}this.setSelected(!0);for(var s=this.navIndex=0;s<this.items.length;s++)if(n=this.items[s],!u.hasClass(n,"disabled")){u.addClass(n,"active"),this.navIndex=s;break}this.requiresPagination&&(this.pageIndex=1,this.paginate()),this.container.appendChild(this.selected),this.container.appendChild(e),this.placeEl=u.createElement("div",{class:"selectr-placeholder"}),this.setPlaceholder(),this.selected.appendChild(this.placeEl),this.disabled&&this.disable(),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el)}.call(this),this.bindEvents(),this.update(),this.optsRect=u.rect(this.tree),this.rendered=!0,this.el.multiple||(this.el.selectedIndex=this.selectedIndex);var t=this;setTimeout(function(){t.emit("selectr.init")},20)}},a.prototype.getSelected=function(){return this.el.querySelectorAll("option:checked")},a.prototype.getSelectedProperties=function(t){var e=this.getSelected();return[].slice.call(e).map(function(e){return e[t]}).filter(function(e){return null!=e})},a.prototype.bindEvents=function(){var i=this;if(this.events={},this.events.dismiss=function(e){var t=e.target;this.container.contains(t)||!this.opened&&!u.hasClass(this.container,"notice")||this.close()}.bind(this),this.events.navigate=function(e){if(e=e||window.event,this.items.length&&this.opened&&u.includes([13,38,40],e.which)){if(e.preventDefault(),13===e.which)return!(this.config.taggable&&0<this.input.value.length)&&this.change(this.navIndex);var t,n=this.items[this.navIndex];switch(e.which){case 38:(t=0)<this.navIndex&&this.navIndex--;break;case 40:t=1,this.navIndex<this.items.length-1&&this.navIndex++}for(this.navigating=!0;u.hasClass(this.items[this.navIndex],"disabled")||u.hasClass(this.items[this.navIndex],"excluded");)if(t?this.navIndex++:this.navIndex--,this.searching){if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}}var i=u.rect(this.items[this.navIndex]);t?(0===this.navIndex?this.tree.scrollTop=0:i.top+i.height>this.optsRect.top+this.optsRect.height&&(this.tree.scrollTop=this.tree.scrollTop+(i.top+i.height-(this.optsRect.top+this.optsRect.height))),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&d.call(this)):0===this.navIndex?this.tree.scrollTop=0:i.top-this.optsRect.top<0&&(this.tree.scrollTop=this.tree.scrollTop+(i.top-this.optsRect.top)),n&&u.removeClass(n,"active"),u.addClass(this.items[this.navIndex],"active")}else this.navigating=!1}.bind(this),this.events.reset=this.reset.bind(this),this.config.nativeDropdown||this.mobileDevice){this.container.addEventListener("touchstart",function(e){e.changedTouches[0].target===i.el&&i.toggle()}),(this.config.nativeDropdown||this.mobileDevice)&&this.container.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),e.target===i.el&&i.toggle()});this.el.addEventListener("change",function(e){if(i.el.multiple){var t=i.getSelectedProperties("idx"),n=function(e,t){for(var n,i=[],o=e.slice(0),r=0;r<t.length;r++)-1<(n=o.indexOf(t[r]))?o.splice(n,1):i.push(t[r]);return[i,o]}(i.selectedIndexes,t);u.each(n[0],function(e,t){i.select(t)},i),u.each(n[1],function(e,t){i.deselect(t)},i)}else-1<i.el.selectedIndex&&i.select(i.el.selectedIndex)})}this.config.nativeDropdown&&this.container.addEventListener("keydown",function(e){"Enter"===e.key&&i.selected===document.activeElement&&(i.toggle(),setTimeout(function(){i.el.focus()},200))}),this.selected.addEventListener("click",function(e){i.disabled||i.toggle(),e.preventDefault(),e.stopPropagation()}),this.label.addEventListener("click",function(e){u.hasClass(e.target,"selectr-tag-remove")&&i.deselect(e.target.parentNode.idx)}),this.selectClear&&this.selectClear.addEventListener("click",this.clear.bind(this)),this.tree.addEventListener("mousedown",function(e){e.preventDefault()}),this.tree.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var t=u.closest(e.target,function(e){return e&&u.hasClass(e,"selectr-option")});t&&(u.hasClass(t,"disabled")||(u.hasClass(t,"selected")?(i.el.multiple||!i.el.multiple&&i.config.allowDeselect)&&i.deselect(t.idx):i.select(t.idx),i.opened&&!i.el.multiple&&i.close()))}),this.tree.addEventListener("mouseover",function(e){u.hasClass(e.target,"selectr-option")&&(u.hasClass(e.target,"disabled")||(u.removeClass(i.items[i.navIndex],"active"),u.addClass(e.target,"active"),i.navIndex=[].slice.call(i.items).indexOf(e.target)))}),this.config.searchable&&(this.input.addEventListener("focus",function(e){i.searching=!0}),this.input.addEventListener("blur",function(e){i.searching=!1}),this.input.addEventListener("keyup",function(e){i.search(),i.config.taggable||(this.value.length?u.addClass(this.parentNode,"active"):u.removeClass(this.parentNode,"active"))}),this.inputClear.addEventListener("click",function(e){i.input.value=null,r.call(i),i.tree.childElementCount||o.call(i)})),this.config.taggable&&this.input.addEventListener("keyup",function(e){if(i.search(),i.config.taggable&&this.value.length){var n=this.value.trim();13!==e.which&&!u.includes(i.tagSeperators,e.key)||(u.each(i.tagSeperators,function(e,t){n=n.replace(t,"")}),i.add({value:n,text:n,selected:!0},!0)?(i.close(),r.call(i)):(this.value="",i.setMessage("That tag is already in use.")))}}),this.update=u.debounce(function(){i.opened&&i.config.closeOnScroll&&i.close(),i.width&&(i.container.style.width=i.width),i.invert()},50),this.requiresPagination&&(this.paginateItems=u.debounce(function(){d.call(this)},50),this.tree.addEventListener("scroll",this.paginateItems.bind(this))),document.addEventListener("click",this.events.dismiss),window.addEventListener("keydown",this.events.navigate),window.addEventListener("resize",this.update),window.addEventListener("scroll",this.update),this.el.form&&this.el.form.addEventListener("reset",this.events.reset)},a.prototype.setSelected=function(e){if(this.config.data||this.el.multiple||!this.el.options.length||(0===this.el.selectedIndex&&(this.el.options[0].defaultSelected||this.config.defaultSelected||(this.el.selectedIndex=-1)),this.selectedIndex=this.el.selectedIndex,-1<this.selectedIndex&&this.select(this.selectedIndex)),this.config.multiple&&"select-one"===this.originalType&&!this.config.data&&this.el.options[0].selected&&!this.el.options[0].defaultSelected&&(this.el.options[0].selected=!1),u.each(this.options,function(e,t){t.selected&&t.defaultSelected&&this.select(t.idx)},this),this.config.selectedValue&&this.setValue(this.config.selectedValue),this.config.data){!this.el.multiple&&this.config.defaultSelected&&this.el.selectedIndex<0&&this.select(0);var n=0;u.each(this.config.data,function(e,t){l(t,"children")?u.each(t.children,function(e,t){t.hasOwnProperty("selected")&&!0===t.selected&&this.select(n),n++},this):(t.hasOwnProperty("selected")&&!0===t.selected&&this.select(n),n++)},this)}},a.prototype.destroy=function(){this.rendered&&(this.emit("selectr.destroy"),"select-one"===this.originalType&&(this.el.multiple=!1),this.config.data&&(this.el.innerHTML=""),u.removeClass(this.el,"selectr-hidden"),this.el.form&&u.off(this.el.form,"reset",this.events.reset),u.off(document,"click",this.events.dismiss),u.off(document,"keydown",this.events.navigate),u.off(window,"resize",this.update),u.off(window,"scroll",this.update),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1)},a.prototype.change=function(e){var t=this.items[e],n=this.options[e];n.disabled||(n.selected&&u.hasClass(t,"selected")?this.deselect(e):this.select(e),this.opened&&!this.el.multiple&&this.close())},a.prototype.select=function(i){var e=this.items[i],t=[].slice.call(this.el.options),n=this.options[i];if(this.el.multiple){if(u.includes(this.selectedIndexes,i))return!1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage("A maximum of "+this.config.maxSelections+" items can be selected.",!0),!1;this.selectedValues.push(n.value),this.selectedIndexes.push(i),function(e){var c,d=this,n=document.createDocumentFragment(),t=this.options[e.idx],i=this.data?this.data[e.idx]:t,o=this.customSelected?this.config.renderSelection(i):t.textContent,r=u.createElement("li",{class:"selectr-tag",html:o}),a=u.createElement("button",{class:"selectr-tag-remove",type:"button"});if(r.appendChild(a),r.idx=e.idx,r.tag=t.value,this.tags.push(r),this.config.sortSelected){var s=this.tags.slice();c=function(e,i){e.replace(/(\d+)|(\D+)/g,function(e,t,n){i.push([t||1/0,n||""])})},s.sort(function(e,t){var n,i,o=[],r=[];for(!0===d.config.sortSelected?(n=e.tag,i=t.tag):"text"===d.config.sortSelected&&(n=e.textContent,i=t.textContent),c(n,o),c(i,r);o.length&&r.length;){var a=o.shift(),s=r.shift(),l=a[0]-s[0]||a[1].localeCompare(s[1]);if(l)return l}return o.length-r.length}),u.each(s,function(e,t){n.appendChild(t)}),this.label.innerHTML=""}else n.appendChild(r);this.config.taggable?this.label.insertBefore(n,this.input.parentNode):this.label.appendChild(n)}.call(this,e)}else{var o=this.data?this.data[i]:n;this.label.innerHTML=this.customSelected?this.config.renderSelection(o):n.textContent,this.selectedValue=n.value,this.selectedIndex=i,u.each(this.options,function(e,t){var n=this.items[e];e!==i&&(n&&u.removeClass(n,"selected"),t.selected=!1,t.removeAttribute("selected"))},this)}u.includes(t,n)||this.el.add(n),e.setAttribute("aria-selected",!0),u.addClass(e,"selected"),u.addClass(this.container,"has-selected"),n.selected=!0,n.setAttribute("selected",""),this.emit("selectr.change",n),this.emit("selectr.select",n)},a.prototype.deselect=function(e,t){var n=this.items[e],i=this.options[e];if(this.el.multiple){var o=this.selectedIndexes.indexOf(e);this.selectedIndexes.splice(o,1);var r=this.selectedValues.indexOf(i.value);this.selectedValues.splice(r,1),function(n){var i=!1;u.each(this.tags,function(e,t){t.idx===n.idx&&(i=t)},this),i&&(this.label.removeChild(i),this.tags.splice(this.tags.indexOf(i),1))}.call(this,n),this.tags.length||u.removeClass(this.container,"has-selected")}else{if(!t&&!this.config.clearable&&!this.config.allowDeselect)return!1;this.label.innerHTML="",this.selectedValue=null,this.el.selectedIndex=this.selectedIndex=-1,u.removeClass(this.container,"has-selected")}this.items[e].setAttribute("aria-selected",!1),u.removeClass(this.items[e],"selected"),i.selected=!1,i.removeAttribute("selected"),this.emit("selectr.change",null),this.emit("selectr.deselect",i)},a.prototype.setValue=function(n){var i=Array.isArray(n);if(i||(n=n.toString().trim()),!this.el.multiple&&i)return!1;u.each(this.options,function(e,t){(i&&u.includes(n.toString(),t.value)||t.value===n)&&this.change(t.idx)},this)},a.prototype.getValue=function(e,t){var i;if(this.el.multiple)e?this.selectedIndexes.length&&((i={}).values=[],u.each(this.selectedIndexes,function(e,t){var n=this.options[t];i.values[e]={value:n.value,text:n.textContent}},this)):i=this.selectedValues.slice();else if(e){var n=this.options[this.selectedIndex];i={value:n.value,text:n.textContent}}else i=this.selectedValue;return e&&t&&(i=JSON.stringify(i)),i},a.prototype.add=function(n,i){if(n){if(this.data=this.data||[],this.items=this.items||[],this.options=this.options||[],Array.isArray(n))u.each(n,function(e,t){this.add(t,i)},this);else if("[object Object]"===Object.prototype.toString.call(n)){if(i){var o=!1;if(u.each(this.options,function(e,t){t.value.toLowerCase()===n.value.toLowerCase()&&(o=!0)}),o)return!1}var e=u.createElement("option",n);return this.data.push(n),this.options.push(e),e.idx=0<this.options.length?this.options.length-1:0,c.call(this,e),n.selected&&this.select(e.idx),e}return this.setPlaceholder(),this.config.pagination&&this.paginate(),!0}},a.prototype.remove=function(n){var i,o=[];Array.isArray(n)?u.each(n,function(e,t){u.isInt(t)?o.push(this.getOptionByIndex(t)):"string"==typeof n&&o.push(this.getOptionByValue(t))},this):u.isInt(n)?o.push(this.getOptionByIndex(n)):"string"==typeof n&&o.push(this.getOptionByValue(n)),o.length&&(u.each(o,function(e,t){i=t.idx,this.el.remove(t),this.options.splice(i,1);var n=this.items[i].parentNode;n&&n.removeChild(this.items[i]),this.items.splice(i,1),u.each(this.options,function(e,t){t.idx=e,this.items[e].idx=e},this)},this),this.setPlaceholder(),this.config.pagination&&this.paginate())},a.prototype.removeAll=function(){this.clear(!0),u.each(this.el.options,function(e,t){this.el.remove(t)},this),u.truncate(this.tree),this.items=[],this.options=[],this.data=[],this.navIndex=0,this.requiresPagination&&(this.requiresPagination=!1,this.pageIndex=1,this.pages=[]),this.setPlaceholder()},a.prototype.search=function(r){if(!this.navigating){r=r||this.input.value;var a=document.createDocumentFragment();if(this.removeMessage(),u.truncate(this.tree),1<r.length)if(u.each(this.options,function(e,t){var n,i,o=this.items[t.idx];u.includes(t.textContent.toLowerCase(),r.toLowerCase())&&!t.disabled?(s(o,a,this.customOption),u.removeClass(o,"excluded"),this.customOption||(o.innerHTML=(n=t,!!(i=new RegExp(r,"i").exec(n.textContent))&&n.textContent.replace(i[0],"<span class='selectr-match'>"+i[0]+"</span>")))):u.addClass(o,"excluded")},this),a.childElementCount){var e=this.items[this.navIndex],t=a.firstElementChild;u.removeClass(e,"active"),this.navIndex=t.idx,u.addClass(t,"active")}else this.config.taggable||this.setMessage("no results.");else o.call(this);this.tree.appendChild(a)}},a.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open())},a.prototype.open=function(){var e=this;return!!this.options.length&&(this.opened||this.emit("selectr.open"),this.opened=!0,this.mobileDevice||this.config.nativeDropdown?(u.addClass(this.container,"native-open"),void(this.config.data&&u.each(this.options,function(e,t){this.el.add(t)},this))):(u.addClass(this.container,"open"),o.call(this),this.invert(),this.tree.scrollTop=0,u.removeClass(this.container,"notice"),this.selected.setAttribute("aria-expanded",!0),this.tree.setAttribute("aria-hidden",!1),this.tree.setAttribute("aria-expanded",!0),void(this.config.searchable&&!this.config.taggable&&setTimeout(function(){e.input.focus(),e.input.tabIndex=0},10))))},a.prototype.close=function(){if(this.opened&&this.emit("selectr.close"),this.opened=!1,this.mobileDevice||this.config.nativeDropdown)u.removeClass(this.container,"native-open");else{var e=u.hasClass(this.container,"notice");this.config.searchable&&!e&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1),e&&(u.removeClass(this.container,"notice"),this.notice.textContent=""),u.removeClass(this.container,"open"),u.removeClass(this.container,"native-open"),this.selected.setAttribute("aria-expanded",!1),this.tree.setAttribute("aria-hidden",!0),this.tree.setAttribute("aria-expanded",!1),u.truncate(this.tree),r.call(this)}},a.prototype.enable=function(){this.disabled=!1,this.el.disabled=!1,this.selected.tabIndex=this.originalIndex,this.el.multiple&&u.each(this.tags,function(e,t){t.lastElementChild.tabIndex=0}),u.removeClass(this.container,"selectr-disabled")},a.prototype.disable=function(e){e||(this.el.disabled=!0),this.selected.tabIndex=-1,this.el.multiple&&u.each(this.tags,function(e,t){t.lastElementChild.tabIndex=-1}),this.disabled=!0,u.addClass(this.container,"selectr-disabled")},a.prototype.reset=function(){this.disabled||(this.clear(),this.setSelected(!0),u.each(this.defaultSelected,function(e,t){this.select(t)},this),this.emit("selectr.reset"))},a.prototype.clear=function(e){if(this.el.multiple){if(this.selectedIndexes.length){var t=this.selectedIndexes.slice();u.each(t,function(e,t){this.deselect(t)},this)}}else-1<this.selectedIndex&&this.deselect(this.selectedIndex,e);this.emit("selectr.clear")},a.prototype.serialise=function(e){var i=[];return u.each(this.options,function(e,t){var n={value:t.value,text:t.textContent};t.selected&&(n.selected=!0),t.disabled&&(n.disabled=!0),i[e]=n}),e?JSON.stringify(i):i},a.prototype.serialize=function(e){return this.serialise(e)},a.prototype.setPlaceholder=function(e){e=e||this.config.placeholder||this.el.getAttribute("placeholder"),this.options.length||(e="No options available"),this.placeEl.innerHTML=e},a.prototype.paginate=function(){if(this.items.length){var n=this;return this.pages=this.items.map(function(e,t){return t%n.config.pagination==0?n.items.slice(t,t+n.config.pagination):null}).filter(function(e){return e}),this.pages}},a.prototype.setMessage=function(e,t){t&&this.close(),u.addClass(this.container,"notice"),this.notice.textContent=e},a.prototype.removeMessage=function(){u.removeClass(this.container,"notice"),this.notice.innerHTML=""},a.prototype.invert=function(){var e=u.rect(this.selected),t=this.tree.parentNode.offsetHeight,n=window.innerHeight;e.top+e.height+t>n?(u.addClass(this.container,"inverted"),this.isInverted=!0):(u.removeClass(this.container,"inverted"),this.isInverted=!1),this.optsRect=u.rect(this.tree)},a.prototype.getOptionByIndex=function(e){return this.options[e]},a.prototype.getOptionByValue=function(e){for(var t=!1,n=0,i=this.options.length;n<i;n++)if(this.options[n].value.trim()===e.toString().trim()){t=this.options[n];break}return t},e.exports=a},function(e,t,n){"use strict";function i(e,t,n,i){for(var o={code:{text:"Code",title:"Switch to code highlighter",click:function(){i("code")}},form:{text:"Form",title:"Switch to form editor",click:function(){i("form")}},text:{text:"Text",title:"Switch to plain text editor",click:function(){i("text")}},tree:{text:"Tree",title:"Switch to tree editor",click:function(){i("tree")}},view:{text:"View",title:"Switch to tree view",click:function(){i("view")}}},r=[],a=0;a<t.length;a++){var s=t[a],l=o[s];if(!l)throw new Error('Unknown mode "'+s+'"');l.className="jsoneditor-type-modes"+(n==s?" jsoneditor-selected":""),r.push(l)}var c=o[n];if(!c)throw new Error('Unknown mode "'+n+'"');var d=c.text,u=document.createElement("button");u.type="button",u.className="jsoneditor-modes jsoneditor-separator",u.innerHTML=d+" &#x25BE;",u.title="Switch editor mode",u.onclick=function(){new p(r).show(u)};var h=document.createElement("div");h.className="jsoneditor-modes",h.style.position="relative",h.appendChild(u),e.appendChild(h),this.dom={container:e,box:u,frame:h}}var p=n(5);i.prototype.focus=function(){this.dom.box.focus()},i.prototype.destroy=function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom=null},e.exports=i},function(e,t){"use strict";e.exports=function(l){function a(e){var t,n;document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select())}function s(e){return void 0===t&&((t=document.createElement("span")).style.visibility="hidden",t.style.position="fixed",t.style.outline="0",t.style.margin="0",t.style.padding="0",t.style.border="0",t.style.left="0",t.style.whiteSpace="pre",t.style.fontSize=i,t.style.fontFamily=o,t.style.fontWeight="normal",document.body.appendChild(t)),t.innerHTML=String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),t.getBoundingClientRect().right}(l=l||{}).confirmKeys=l.confirmKeys||[39,35,9],l.caseSensitive=l.caseSensitive||!1;var i="",o="",r=document.createElement("div");r.style.position="relative",r.style.outline="0",r.style.border="0",r.style.margin="0",r.style.padding="0";var c=document.createElement("div");c.className="autocomplete dropdown",c.style.position="absolute",c.style.visibility="hidden";var t,d,u,h,p,n,f,m={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:r,show:function(e,t,n){this.startFrom=t,this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null),""==i&&(i=window.getComputedStyle(e).getPropertyValue("font-size")),""==o&&(o=window.getComputedStyle(e).getPropertyValue("font-family")),e.getBoundingClientRect().right,e.getBoundingClientRect().left,c.style.marginLeft="0",c.style.marginTop=e.getBoundingClientRect().height+"px",this.options=n,this.element!=e&&(this.element=e,this.elementStyle={zIndex:this.element.style.zIndex,position:this.element.style.position,backgroundColor:this.element.style.backgroundColor,borderColor:this.element.style.borderColor}),this.element.style.zIndex=3,this.element.style.position="relative",this.element.style.backgroundColor="transparent",this.element.style.borderColor="transparent",this.elementHint=e.cloneNode(),this.elementHint.className="autocomplete hint",this.elementHint.style.zIndex=2,this.elementHint.style.position="absolute",this.elementHint.onfocus=function(){this.element.focus()}.bind(this),this.element.addEventListener&&(this.element.removeEventListener("keydown",v),this.element.addEventListener("keydown",v,!1),this.element.removeEventListener("blur",b),this.element.addEventListener("blur",b,!1)),r.appendChild(this.elementHint),r.appendChild(c),e.parentElement.appendChild(r),this.repaint(e)},setText:function(e){this.element.innerText=e},getText:function(){return this.element.innerText},hideDropDown:function(){this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null,g.hide(),this.element.style.zIndex=this.elementStyle.zIndex,this.element.style.position=this.elementStyle.position,this.element.style.backgroundColor=this.elementStyle.backgroundColor,this.element.style.borderColor=this.elementStyle.borderColor)},repaint:function(e){var t=e.innerText;t=t.replace("\n","");var n=(this.startFrom,this.options,this.options.length),i=t.substring(this.startFrom);d=t.substring(0,this.startFrom);for(var o=0;o<n;o++){var r=this.options[o];if(!l.caseSensitive&&0===r.toLowerCase().indexOf(i.toLowerCase())||l.caseSensitive&&0===r.indexOf(i)){this.elementHint.innerText=d+i+r.substring(i.length),this.elementHint.realInnerText=d+r;break}}c.style.left=s(d)+"px",g.refresh(i,this.options),this.elementHint.style.width=s(this.elementHint.innerText)+10+"px","hidden"==c.style.visibility||(this.elementHint.style.width=s(this.elementHint.innerText)+c.clientWidth+"px")}},g=(u=c,h=[],p=0,n=-1,f={rs:m,hide:function(){u.style.visibility="hidden"},refresh:function(e,t){u.style.visibility="hidden",p=0,u.innerHTML="";var n=window.innerHeight||document.documentElement.clientHeight,i=u.parentNode.getBoundingClientRect(),o=i.top-6,r=n-i.bottom-6;h=[];for(var a=0;a<t.length;a++)if(!(l.caseSensitive&&0!==t[a].indexOf(e)||!l.caseSensitive&&0!==t[a].toLowerCase().indexOf(e.toLowerCase()))){var s=document.createElement("div");s.className="item",s.onmouseover=y,s.onmouseout=x,s.onmousedown=w,s.__hint=t[a],s.innerHTML=t[a].substring(0,e.length)+"<b>"+t[a].substring(e.length)+"</b>",h.push(s),u.appendChild(s)}0!==h.length&&(1===h.length&&(e.toLowerCase()===h[0].__hint.toLowerCase()&&!l.caseSensitive||e===h[0].__hint&&l.caseSensitive)||h.length<2||(f.highlight(0),3*r<o?(u.style.maxHeight=o+"px",u.style.top="",u.style.bottom="100%"):(u.style.top="100%",u.style.bottom="",u.style.maxHeight=r+"px"),u.style.visibility="visible"))},highlight:function(e){-1!=n&&h[n]&&(h[n].className="item"),h[e].className="item hover",n=e},move:function(e){return"hidden"===u.style.visibility?"":(p+e===-1||p+e===h.length||(p+=e,f.highlight(p)),h[p].__hint)},onmouseselection:function(){}}),v=function(e){var t=(e=e||window.event).keyCode;if(null!=this.elementHint&&33!=t&&34!=t){if(27==t)return m.hideDropDown(),m.element.focus(),e.preventDefault(),void e.stopPropagation();var n=this.element.innerText;if(n=n.replace("\n",""),this.startFrom,0<=l.confirmKeys.indexOf(t))return 9==t&&0==this.elementHint.innerText.length&&m.onTab(),void(0<this.elementHint.innerText.length&&this.element.innerText!=this.elementHint.realInnerText&&(this.element.innerText=this.elementHint.realInnerText,m.hideDropDown(),a(this.element),9==t&&(m.element.focus(),e.preventDefault(),e.stopPropagation())));if(13!=t){if(40==t){var i=n.substring(this.startFrom);return""==(o=g.move(1))&&m.onArrowDown(),this.elementHint.innerText=d+i+o.substring(i.length),this.elementHint.realInnerText=d+o,e.preventDefault(),void e.stopPropagation()}if(38==t){var o;i=n.substring(this.startFrom);return""==(o=g.move(-1))&&m.onArrowUp(),this.elementHint.innerText=d+i+o.substring(i.length),this.elementHint.realInnerText=d+o,e.preventDefault(),void e.stopPropagation()}}else if(0==this.elementHint.innerText.length)m.onEnter();else{var r="hidden"==c.style.visibility;if(g.hide(),r)return m.hideDropDown(),m.element.focus(),void m.onEnter();this.element.innerText=this.elementHint.realInnerText,m.hideDropDown(),a(this.element),e.preventDefault(),e.stopPropagation()}}}.bind(m),b=function(e){m.hideDropDown()}.bind(m);function y(){this.style.outline="1px solid #ddd"}function x(){this.style.outline="0"}function w(){f.hide(),f.onmouseselection(this.__hint,f.rs)}return g.onmouseselection=function(e,t){t.element.innerText=t.elementHint.innerText=d+e,t.hideDropDown(),window.setTimeout(function(){t.element.focus(),a(t.element)},1)},m}},function(e,t,y){"use strict";function n(){try{this.format()}catch(e){}}var x=y(22),w=y(19),C=y(6),i={create:function(e,t){void 0===(t=t||{}).statusBar&&(t.statusBar=!0),(this.options=t).indentation?this.indentation=Number(t.indentation):this.indentation=2;var n=t.ace?t.ace:x;if(this.mode="code"==t.mode?"code":"text","code"==this.mode&&void 0===n&&(this.mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),this.theme=t.theme||"ace/theme/jsoneditor","ace/theme/jsoneditor"===this.theme&&n)try{y(26)}catch(e){console.error(e)}t.onTextSelectionChange&&this.onTextSelectionChange(t.onTextSelectionChange);var i=this;this.container=e,this.dom={},this.aceEditor=void 0,this.textarea=void 0,this.validateSchema=null,this._debouncedValidate=C.debounce(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=e.clientWidth,this.height=e.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(e){e.preventDefault()},this.frame.onkeydown=function(e){i._onKeyDown(e)},this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu);var o=document.createElement("button");o.type="button",o.className="jsoneditor-format",o.title="Format JSON data, with proper indentation and line feeds (Ctrl+\\)",this.menu.appendChild(o),o.onclick=function(){try{i.format(),i._onChange()}catch(e){i._onError(e)}};var r=document.createElement("button");r.type="button",r.className="jsoneditor-compact",r.title="Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",this.menu.appendChild(r),r.onclick=function(){try{i.compact(),i._onChange()}catch(e){i._onError(e)}};var a=document.createElement("button");a.type="button",a.className="jsoneditor-repair",a.title="Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",this.menu.appendChild(a),a.onclick=function(){try{i.repair(),i._onChange()}catch(e){i._onError(e)}},this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new w(this.menu,this.options.modes,this.options.mode,function(e){i.setMode(e),i.modeSwitcher.focus()}));var s=this.options.onEditable&&typeof("function"===this.options.onEditable)&&!this.options.onEditable({});if(this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"==this.mode){this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom);var l=n.edit(this.editorDom);l.$blockScrolling=1/0,l.setTheme(this.theme),l.setOptions({readOnly:s}),l.setShowPrintMargin(!1),l.setFontSize(13),l.getSession().setMode("ace/mode/json"),l.getSession().setTabSize(this.indentation),l.getSession().setUseSoftTabs(!0),l.getSession().setUseWrapMode(!0),l.commands.bindKey("Ctrl-L",null),l.commands.bindKey("Command-L",null),this.aceEditor=l,this.hasOwnProperty("editor")||Object.defineProperty(this,"editor",{get:function(){return console.warn('Property "editor" has been renamed to "aceEditor".'),i.aceEditor},set:function(e){console.warn('Property "editor" has been renamed to "aceEditor".'),i.aceEditor=e}});var c=document.createElement("a");c.appendChild(document.createTextNode("powered by ace")),c.href="http://ace.ajax.org",c.target="_blank",c.className="jsoneditor-poweredBy",c.onclick=function(){window.open(c.href,c.target)},this.menu.appendChild(c),l.on("change",this._onChange.bind(this)),l.on("changeSelection",this._onSelect.bind(this))}else{var d=document.createElement("textarea");d.className="jsoneditor-text",d.spellcheck=!1,this.content.appendChild(d),this.textarea=d,this.textarea.readOnly=s,null===this.textarea.oninput?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this),d.onselect=this._onSelect.bind(this),d.onmousedown=this._onMouseDown.bind(this),d.onblur=this._onBlur.bind(this)}var u=document.createElement("div");if(u.className="validation-errors-container",this.dom.validationErrorsContainer=u,this.frame.appendChild(u),t.statusBar){C.addClassName(this.content,"has-status-bar"),this.curserInfoElements={};var h=document.createElement("div");(this.dom.statusBar=h).className="jsoneditor-statusbar",this.frame.appendChild(h);var p=document.createElement("span");p.className="jsoneditor-curserinfo-label",p.innerText="Ln:";var f=document.createElement("span");f.className="jsoneditor-curserinfo-val",f.innerText="1",h.appendChild(p),h.appendChild(f);var m=document.createElement("span");m.className="jsoneditor-curserinfo-label",m.innerText="Col:";var g=document.createElement("span");g.className="jsoneditor-curserinfo-val",g.innerText="1",h.appendChild(m),h.appendChild(g),this.curserInfoElements.colVal=g,this.curserInfoElements.lnVal=f;var v=document.createElement("span");v.className="jsoneditor-curserinfo-label",v.innerText="characters selected",v.style.display="none";var b=document.createElement("span");b.className="jsoneditor-curserinfo-count",b.innerText="0",b.style.display="none",this.curserInfoElements.countLabel=v,this.curserInfoElements.countVal=b,h.appendChild(b),h.appendChild(v)}this.setSchema(this.options.schema,this.options.schemaRefs)},_onChange:function(){if(!this.onChangeDisabled){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(e){console.error("Error in onChange callback: ",e)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(e){console.error("Error in onChangeText callback: ",e)}}},_onSelect:function(){this._updateCursorInfo(),this._emitSelectionChange()},_onKeyDown:function(e){var t=!1;220==(e.which||e.keyCode)&&e.ctrlKey&&(e.shiftKey?this.compact():this.format(),this._onChange(),t=!0),t&&(e.preventDefault(),e.stopPropagation()),this._updateCursorInfo(),this._emitSelectionChange()},_onMouseDown:function(e){this._updateCursorInfo(),this._emitSelectionChange()},_onBlur:function(e){this._updateCursorInfo(),this._emitSelectionChange()},_updateCursorInfo:function(){function t(){r.curserInfoElements.countVal.innerText!==o&&(r.curserInfoElements.countVal.innerText=o,r.curserInfoElements.countVal.style.display=o?"inline":"none",r.curserInfoElements.countLabel.style.display=o?"inline":"none"),r.curserInfoElements.lnVal.innerText=n,r.curserInfoElements.colVal.innerText=i}var n,i,o,r=this;if(this.textarea)setTimeout(function(){var e=C.getInputSelection(r.textarea);e.startIndex!==e.endIndex&&(o=e.endIndex-e.startIndex),i=o&&r.cursorInfo&&r.cursorInfo.line===e.end.row&&r.cursorInfo.column===e.end.column?(n=e.start.row,e.start.column):(n=e.end.row,e.end.column),r.cursorInfo={line:n,column:i,count:o},r.options.statusBar&&t()},0);else if(this.aceEditor&&this.curserInfoElements){var e=this.aceEditor.getCursorPosition(),a=this.aceEditor.getSelectedText();n=e.row+1,i=e.column+1,o=a.length,r.cursorInfo={line:n,column:i,count:o},this.options.statusBar&&t()}},_emitSelectionChange:function(){if(this._selectionChangedHandler){var e=this.getTextSelection();this._selectionChangedHandler(e.start,e.end,e.text)}},destroy:function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null),this.frame&&this.container&&this.frame.parentNode==this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.textarea=null,this._debouncedValidate=null},compact:function(){var e=this.get(),t=JSON.stringify(e);this.setText(t)},format:function(){var e=this.get(),t=JSON.stringify(e,null,this.indentation);this.setText(t)},repair:function(){var e=this.getText(),t=C.sanitize(e);this.setText(t)},focus:function(){this.textarea&&this.textarea.focus(),this.aceEditor&&this.aceEditor.focus()},resize:function(){this.aceEditor&&this.aceEditor.resize(!1)},set:function(e){this.setText(JSON.stringify(e,null,this.indentation))},update:function(e){this.updateText(JSON.stringify(e,null,this.indentation))},get:function(){var t,n=this.getText();try{t=C.parse(n)}catch(e){n=C.sanitize(n),t=C.parse(n)}return t},getText:function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""},setText:function(e){var t;t=!0===this.options.escapeUnicode?C.escapeUnicodeChars(e):e,this.textarea&&(this.textarea.value=t),this.aceEditor&&(this.onChangeDisabled=!0,this.aceEditor.setValue(t,-1),this.onChangeDisabled=!1),this.validate()},updateText:function(e){this.getText()!==e&&(this.onChangeDisabled=!0,this.setText(e),this.onChangeDisabled=!1)},validate:function(){this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.content.style.marginBottom="",this.content.style.paddingBottom="");var e,t=!1,n=[];try{e=this.get(),t=!0}catch(e){}if(t&&this.validateSchema&&(this.validateSchema(e)||(n=this.validateSchema.errors.map(function(e){return C.improveSchemaError(e)}))),0<n.length){if(3<n.length){n=n.slice(0,3);var i=this.validateSchema.errors.length-3;n.push("("+i+" more errors...)")}var o=document.createElement("div");o.innerHTML='<table class="jsoneditor-text-errors"><tbody>'+n.map(function(e){return'<tr><td><button class="jsoneditor-schema-error"></button></td>'+("string"==typeof e?'<td colspan="2"><pre>'+e+"</pre></td>":"<td>"+e.dataPath+"</td><td>"+e.message+"</td>")+"</tr>"}).join("")+"</tbody></table>",this.dom.validationErrors=o,this.dom.validationErrorsContainer.appendChild(o);var r=o.clientHeight+(this.dom.statusBar?this.dom.statusBar.clientHeight:0);this.content.style.marginBottom=-r+"px",this.content.style.paddingBottom=r+"px"}this.aceEditor&&this.aceEditor.resize(!1)},getTextSelection:function(){var e={};if(this.textarea){var t=C.getInputSelection(this.textarea);return this.cursorInfo&&this.cursorInfo.line===t.end.row&&this.cursorInfo.column===t.end.column?(e.start=t.end,e.end=t.start):e=t,{start:e.start,end:e.end,text:this.textarea.value.substring(t.startIndex,t.endIndex)}}if(this.aceEditor){var n=this.aceEditor.getSelection(),i=this.aceEditor.getSelectedText(),o=n.getRange(),r=n.getSelectionLead();return r.row===o.end.row&&r.column===o.end.column?e=o:(e.start=o.end,e.end=o.start),{start:{row:e.start.row+1,column:e.start.column+1},end:{row:e.end.row+1,column:e.end.column+1},text:i}}},onTextSelectionChange:function(e){"function"==typeof e&&(this._selectionChangedHandler=C.debounce(e,this.DEBOUNCE_INTERVAL))},setTextSelection:function(e,t){if(e&&t)if(this.textarea){var n=C.getIndexForPosition(this.textarea,e.row,e.column),i=C.getIndexForPosition(this.textarea,t.row,t.column);if(-1<n&&-1<i)if(this.textarea.setSelectionRange)this.textarea.focus(),this.textarea.setSelectionRange(n,i);else if(this.textarea.createTextRange){(o=this.textarea.createTextRange()).collapse(!0),o.moveEnd("character",i),o.moveStart("character",n),o.select()}}else if(this.aceEditor){var o={start:{row:e.row-1,column:e.column-1},end:{row:t.row-1,column:t.column-1}};this.aceEditor.selection.setRange(o)}}};e.exports=[{mode:"text",mixin:i,data:"text",load:n},{mode:"code",mixin:i,data:"text",load:n}]},function(e,t,n){var i;if(window.ace)i=window.ace;else try{i=n(!function(){var e=new Error('Cannot find module "brace"');throw e.code="MODULE_NOT_FOUND",e}()),n(23),n(25)}catch(e){}e.exports=i},function(e,t,u){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(e,t,n){"use strict";function i(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}}var o=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules;o.inherits(i,r),t.JsonHighlightRules=i}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(e,t,n){"use strict";function i(){}var a=e("../range").Range;(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var i=n[1].length,o=e.findMatchingBracket({row:t,column:i});if(!o||o.row==t)return 0;var r=this.$getIndent(e.getLine(o.row));e.replace(new a(t,0,t,i-1),r)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(e,t,n){"use strict";var i=e("../../lib/oop"),d=e("../../range").Range,o=e("./fold_mode").FoldMode,r=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(r,o),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var o=this._getFoldWidgetBase(e,t,n);return!o&&this.startRegionRe.test(i)?"start":o},this.getFoldWidgetRange=function(e,t,n,i){var o,r=e.getLine(n);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(e,r,n);if(o=r.match(this.foldingStartMarker)){var a=o.index;if(o[1])return this.openingBracketBlock(e,o[1],n,a);var s=e.getCommentFoldRange(n,a+o[0].length,1);return s&&!s.isMultiLine()&&(i?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}if("markbegin"!==t&&(o=r.match(this.foldingStopMarker))){a=o.index+o[0].length;return o[1]?this.closingBracketBlock(e,o[1],n,a):e.getCommentFoldRange(n,a,-1)}},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),o=t,r=n.length,a=t+=1,s=e.getLength();++t<s;){var l=(n=e.getLine(t)).search(/\S/);if(-1!==l){if(l<i)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=o)break;if(c.isMultiLine())t=c.end.row;else if(i==l)break}a=t}}return new d(o,r,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),o=e.getLength(),r=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,s=1;++n<o;){t=e.getLine(n);var l=a.exec(t);if(l&&(l[1]?s--:s++,!s))break}if(r<n)return new d(r,i,n,t.length)}}.call(r.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],function(e,t,n){"use strict";function i(){this.HighlightRules=a,this.$outdent=new s,this.$behaviour=new l,this.foldingRules=new c}var o=e("../lib/oop"),r=e("./text").Mode,a=e("./json_highlight_rules").JsonHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,d=e("../worker/worker_client").WorkerClient;o.inherits(i,r),function(){this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t);return"start"==e&&t.match(/^.*[\{\(\[]\s*$/)&&(i+=n),i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(t){var e=new d(["ace"],u(24),"JsonWorker");return e.attachToDocument(t.getDocument()),e.on("annotate",function(e){t.setAnnotations(e.data)}),e.on("terminate",function(){t.clearAnnotations()}),e},this.$id="ace/mode/json"}.call(i.prototype),t.Mode=i})},function(e,t){e.exports.id="ace/mode/json_worker",e.exports.src='"no use strict";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},function(e,t){ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],function(e,t,n){"use strict";var o=e("../lib/dom"),i=e("../lib/lang"),a=e("../lib/event"),r=e("../keyboard/hash_handler").HashHandler,s=e("../lib/keys");o.importCssString('\t.ace_search {\tbackground-color: #ddd;\tcolor: #666;\tborder: 1px solid #cbcbcb;\tborder-top: 0 none;\toverflow: hidden;\tmargin: 0;\tpadding: 4px 6px 0 4px;\tposition: absolute;\ttop: 0;\tz-index: 99;\twhite-space: normal;\t}\t.ace_search.left {\tborder-left: 0 none;\tborder-radius: 0px 0px 5px 0px;\tleft: 0;\t}\t.ace_search.right {\tborder-radius: 0px 0px 0px 5px;\tborder-right: 0 none;\tright: 0;\t}\t.ace_search_form, .ace_replace_form {\tmargin: 0 20px 4px 0;\toverflow: hidden;\tline-height: 1.9;\t}\t.ace_replace_form {\tmargin-right: 0;\t}\t.ace_search_form.ace_nomatch {\toutline: 1px solid red;\t}\t.ace_search_field {\tborder-radius: 3px 0 0 3px;\tbackground-color: white;\tcolor: black;\tborder: 1px solid #cbcbcb;\tborder-right: 0 none;\tbox-sizing: border-box!important;\toutline: 0;\tpadding: 0;\tfont-size: inherit;\tmargin: 0;\tline-height: inherit;\tpadding: 0 6px;\tmin-width: 17em;\tvertical-align: top;\t}\t.ace_searchbtn {\tborder: 1px solid #cbcbcb;\tline-height: inherit;\tdisplay: inline-block;\tpadding: 0 6px;\tbackground: #fff;\tborder-right: 0 none;\tborder-left: 1px solid #dcdcdc;\tcursor: pointer;\tmargin: 0;\tposition: relative;\tbox-sizing: content-box!important;\tcolor: #666;\t}\t.ace_searchbtn:last-child {\tborder-radius: 0 3px 3px 0;\tborder-right: 1px solid #cbcbcb;\t}\t.ace_searchbtn:disabled {\tbackground: none;\tcursor: default;\t}\t.ace_searchbtn:hover {\tbackground-color: #eef1f6;\t}\t.ace_searchbtn.prev, .ace_searchbtn.next {\tpadding: 0px 0.7em\t}\t.ace_searchbtn.prev:after, .ace_searchbtn.next:after {\tcontent: "";\tborder: solid 2px #888;\twidth: 0.5em;\theight: 0.5em;\tborder-width:  2px 0 0 2px;\tdisplay:inline-block;\ttransform: rotate(-45deg);\t}\t.ace_searchbtn.next:after {\tborder-width: 0 2px 2px 0 ;\t}\t.ace_searchbtn_close {\tbackground: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\tborder-radius: 50%;\tborder: 0 none;\tcolor: #656565;\tcursor: pointer;\tfont: 16px/16px Arial;\tpadding: 0;\theight: 14px;\twidth: 14px;\ttop: 9px;\tright: 7px;\tposition: absolute;\t}\t.ace_searchbtn_close:hover {\tbackground-color: #656565;\tbackground-position: 50% 100%;\tcolor: white;\t}\t.ace_button {\tmargin-left: 2px;\tcursor: pointer;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\toverflow: hidden;\topacity: 0.7;\tborder: 1px solid rgba(100,100,100,0.23);\tpadding: 1px;\tbox-sizing:    border-box!important;\tcolor: black;\t}\t.ace_button:hover {\tbackground-color: #eee;\topacity:1;\t}\t.ace_button:active {\tbackground-color: #ddd;\t}\t.ace_button.checked {\tborder-color: #3399ff;\topacity:1;\t}\t.ace_search_options{\tmargin-bottom: 3px;\ttext-align: right;\t-webkit-user-select: none;\t-moz-user-select: none;\t-o-user-select: none;\t-ms-user-select: none;\tuser-select: none;\tclear: both;\t}\t.ace_search_counter {\tfloat: left;\tfont-family: arial;\tpadding: 0 8px;\t}',"ace_searchbox");function l(e,t,n){var i=o.createElement("div");i.innerHTML=c,this.element=i.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(e)}var c='<div class="ace_search right">\t    <span action="hide" class="ace_searchbtn_close"></span>\t    <div class="ace_search_form">\t        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>\t        <span action="findPrev" class="ace_searchbtn prev"></span>\t        <span action="findNext" class="ace_searchbtn next"></span>\t        <span action="findAll" class="ace_searchbtn" title="Alt-Enter">All</span>\t    </div>\t    <div class="ace_replace_form">\t        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>\t        <span action="replaceAndFindNext" class="ace_searchbtn">Replace</span>\t        <span action="replaceAll" class="ace_searchbtn">All</span>\t    </div>\t    <div class="ace_search_options">\t        <span action="toggleReplace" class="ace_button" title="Toggel Replace mode"\t            style="float:left;margin-top:-2px;padding:0 5px;">+</span>\t        <span class="ace_search_counter"></span>\t        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>\t        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>\t        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>\t        <span action="searchInSelection" class="ace_button" title="Search In Selection">S</span>\t    </div>\t</div>'.replace(/> +/g,">");(function(){this.setEditor=function(e){e.searchBox=this,e.renderer.scroller.appendChild(this.element),this.editor=e},this.setSession=function(e){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.searchOption=e.querySelector("[action=searchInSelection]"),this.replaceOption=e.querySelector("[action=toggleReplace]"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=e.querySelector(".ace_search_counter")},this.$init=function(){var e=this.element;this.$initElements(e);var r=this;a.addListener(e,"mousedown",function(e){setTimeout(function(){r.activeInput.focus()},0),a.stopPropagation(e)}),a.addListener(e,"click",function(e){var t=(e.target||e.srcElement).getAttribute("action");t&&r[t]?r[t]():r.$searchBarKb.commands[t]&&r.$searchBarKb.commands[t].exec(r),a.stopPropagation(e)}),a.addCommandKeyListener(e,function(e,t,n){var i=s.keyCodeToString(n),o=r.$searchBarKb.findKeyCommand(t,i);o&&o.exec&&(o.exec(r),a.stopEvent(e))}),this.$onChange=i.delayedCall(function(){r.find(!1,!1)}),a.addListener(this.searchInput,"input",function(){r.$onChange.schedule(20)}),a.addListener(this.searchInput,"focus",function(){r.activeInput=r.searchInput,r.searchInput.value&&r.highlight()}),a.addListener(this.replaceInput,"focus",function(){r.activeInput=r.replaceInput,r.searchInput.value&&r.highlight()})},this.$closeSearchBarKb=new r([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new r,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e.replaceOption.checked=!1,e.$syncOptions(),e.searchInput.focus()},"Ctrl-H|Command-Option-F":function(e){e.replaceOption.checked=!0,e.$syncOptions(),e.replaceInput.focus()},"Ctrl-G|Command-G":function(e){e.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev()},esc:function(e){setTimeout(function(){e.hide()})},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},"Alt-Return":function(e){e.activeInput==e.replaceInput&&e.replaceAll(),e.findAll()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions()}},{name:"toggleReplace",exec:function(e){e.replaceOption.checked=!e.replaceOption.checked,e.$syncOptions()}},{name:"searchInSelection",exec:function(e){e.searchOption.checked=!e.searchRange,e.setSearchRange(e.searchOption.checked&&e.editor.getSelectionRange()),e.$syncOptions()}}]),this.setSearchRange=function(e){(this.searchRange=e)?this.searchRangeMarker=this.editor.session.addMarker(e,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(e){o.setCssClass(this.replaceOption,"checked",this.searchRange),o.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",o.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),o.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),o.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked),this.replaceBox.style.display=this.replaceOption.checked?"":"none",this.find(!1,!1,e)},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(e,t,n){var i=!this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:n,range:this.searchRange})&&this.searchInput.value;o.setCssClass(this.searchBox,"ace_nomatch",i),this.editor._emit("findSearchBox",{match:!i}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var e=this.editor,t=e.$search.$options.re,n=0,i=0;if(t){var o=this.searchRange?e.session.getTextRange(this.searchRange):e.getValue(),r=e.session.doc.positionToIndex(e.selection.anchor);this.searchRange&&(r-=e.session.doc.positionToIndex(this.searchRange.start));for(var a,s=t.lastIndex=0;(a=t.exec(o))&&(n++,(s=a.index)<=r&&i++,!(999<n))&&(a[0]||(t.lastIndex=s+=1,!(s>=o.length))););}this.searchCounter.textContent=i+" of "+(999<n?"999+":n)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var e=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;o.setCssClass(this.searchBox,"ace_nomatch",e),this.editor._emit("findSearchBox",{match:!e}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(e,t){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=t,e&&(this.searchInput.value=e),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var e=document.activeElement;return e==this.searchInput||e==this.replaceInput}}).call(l.prototype),t.SearchBox=l,t.Search=function(e,t){(e.searchBox||new l(e)).show(e.session.getTextRange(),t)}}),ace.acequire(["ace/ext/searchbox"],function(){})},function(e,t){ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],function(e,t,n){t.isDark=!1,t.cssClass="ace-jsoneditor",t.cssText='.ace-jsoneditor .ace_gutter {\tbackground: #ebebeb;\tcolor: #333\t}\t\t.ace-jsoneditor.ace_editor {\tfont-family: "dejavu sans mono", "droid sans mono", consolas, monaco, "lucida console", "courier new", courier, monospace, sans-serif;\tline-height: 1.3;\tbackground-color: #fff;\t}\t.ace-jsoneditor .ace_print-margin {\twidth: 1px;\tbackground: #e8e8e8\t}\t.ace-jsoneditor .ace_scroller {\tbackground-color: #FFFFFF\t}\t.ace-jsoneditor .ace_text-layer {\tcolor: gray\t}\t.ace-jsoneditor .ace_variable {\tcolor: #1a1a1a\t}\t.ace-jsoneditor .ace_cursor {\tborder-left: 2px solid #000000\t}\t.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\tborder-left: 0px;\tborder-bottom: 1px solid #000000\t}\t.ace-jsoneditor .ace_marker-layer .ace_selection {\tbackground: lightgray\t}\t.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\tbox-shadow: 0 0 3px 0px #FFFFFF;\tborder-radius: 2px\t}\t.ace-jsoneditor .ace_marker-layer .ace_step {\tbackground: rgb(255, 255, 0)\t}\t.ace-jsoneditor .ace_marker-layer .ace_bracket {\tmargin: -1px 0 0 -1px;\tborder: 1px solid #BFBFBF\t}\t.ace-jsoneditor .ace_marker-layer .ace_active-line {\tbackground: #FFFBD1\t}\t.ace-jsoneditor .ace_gutter-active-line {\tbackground-color : #dcdcdc\t}\t.ace-jsoneditor .ace_marker-layer .ace_selected-word {\tborder: 1px solid lightgray\t}\t.ace-jsoneditor .ace_invisible {\tcolor: #BFBFBF\t}\t.ace-jsoneditor .ace_keyword,\t.ace-jsoneditor .ace_meta,\t.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\tcolor: #AF956F\t}\t.ace-jsoneditor .ace_keyword.ace_operator {\tcolor: #484848\t}\t.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\tcolor: #96DC5F\t}\t.ace-jsoneditor .ace_constant.ace_language {\tcolor: darkorange\t}\t.ace-jsoneditor .ace_constant.ace_numeric {\tcolor: red\t}\t.ace-jsoneditor .ace_constant.ace_character.ace_entity {\tcolor: #BF78CC\t}\t.ace-jsoneditor .ace_invalid {\tcolor: #FFFFFF;\tbackground-color: #FF002A;\t}\t.ace-jsoneditor .ace_fold {\tbackground-color: #AF956F;\tborder-color: #000000\t}\t.ace-jsoneditor .ace_storage,\t.ace-jsoneditor .ace_support.ace_class,\t.ace-jsoneditor .ace_support.ace_function,\t.ace-jsoneditor .ace_support.ace_other,\t.ace-jsoneditor .ace_support.ace_type {\tcolor: #C52727\t}\t.ace-jsoneditor .ace_string {\tcolor: green\t}\t.ace-jsoneditor .ace_comment {\tcolor: #BCC8BA\t}\t.ace-jsoneditor .ace_entity.ace_name.ace_tag,\t.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\tcolor: #606060\t}\t.ace-jsoneditor .ace_markup.ace_underline {\ttext-decoration: underline\t}\t.ace-jsoneditor .ace_indent-guide {\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\t}',e("../lib/dom").importCssString(t.cssText,t.cssClass)})}],n.c=o,n.p="",n(0);function n(e){if(o[e])return o[e].exports;var t=o[e]={exports:{},id:e,loaded:!1};return i[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var i,o}),function(e){"use strict";"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&void 0!==module.exports?module.exports=e():window.Sortable=e()}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};function r(e){function t(i,o){return void 0!==i&&!0!==i||(i=n.name),"function"==typeof i?i:function(e,t){var n=t.options.group.name;return o?i:i&&(i.join?-1<i.indexOf(n):n==i)}}var n={},i=e.group;i&&"object"==typeof i||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n}var T,E,_,A,j,P,u,g,v,b,O,D,I,c,i,N,R,d,l,L,e,y={},o=/\s+/g,M=/left|right|inline/,F="Sortable"+(new Date).getTime(),x=window,h=x.document,a=x.parseInt,t=x.jQuery||x.Zepto,n=x.Polymer,s=!1,p=!!("draggable"in h.createElement("div")),f=!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&((e=h.createElement("x")).style.cssText="pointer-events:auto","auto"===e.style.pointerEvents),q=!1,w=Math.abs,m=Math.min,C=[],k=[],z=te(function(e,t,n){if(n&&t.scroll){var i,o,r,a,s,l,c=n[F],d=t.scrollSensitivity,u=t.scrollSpeed,h=e.clientX,p=e.clientY,f=window.innerWidth,m=window.innerHeight;if(v!==n&&(g=t.scroll,v=n,b=t.scrollFn,!0===g)){g=n;do{if(g.offsetWidth<g.scrollWidth||g.offsetHeight<g.scrollHeight)break}while(g=g.parentNode)}g&&(o=(i=g).getBoundingClientRect(),r=(w(o.right-h)<=d)-(w(o.left-h)<=d),a=(w(o.bottom-p)<=d)-(w(o.top-p)<=d)),r||a||(a=(m-p<=d)-(p<=d),((r=(f-h<=d)-(h<=d))||a)&&(i=x)),y.vx===r&&y.vy===a&&y.el===i||(y.el=i,y.vx=r,y.vy=a,clearInterval(y.pid),i&&(y.pid=setInterval(function(){if(l=a?a*u:0,s=r?r*u:0,"function"==typeof b)return b.call(c,s,l,e);i===x?x.scrollTo(x.pageXOffset+s,x.pageYOffset+l):(i.scrollTop+=l,i.scrollLeft+=s)},24)))}},30);function H(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e);this.el=e,this.options=t=ne({},t),e[F]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var i in n)i in t||(t[i]=n[i]);for(var o in r(t),this)"_"===o.charAt(0)&&"function"==typeof this[o]&&(this[o]=this[o].bind(this));this.nativeDraggable=!t.forceFallback&&p,S(e,"mousedown",this._onTapStart),S(e,"touchstart",this._onTapStart),S(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(e,"dragover",this),S(e,"dragenter",this)),k.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function B(e,t){"clone"!==e.lastPullMode&&(t=!0),A&&A.state!==t&&(W(A,"display",t?"none":""),t||A.state&&(e.options.group.revertClone?(j.insertBefore(A,P),e._animate(T,A)):j.insertBefore(A,T)),A.state=t)}function $(e,t,n){if(e){n=n||h;do{if(">*"===t&&e.parentNode===n||ee(e,t))return e}while(e=(o=(i=e).host)&&o.nodeType?o:i.parentNode)}var i,o;return null}function S(e,t,n){e.addEventListener(t,n,s)}function V(e,t,n){e.removeEventListener(t,n,s)}function U(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(o," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(o," ")}}function W(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return h.defaultView&&h.defaultView.getComputedStyle?n=h.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function X(e,t,n){if(e){var i=e.getElementsByTagName(t),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function Y(e,t,n,i,o,r,a){e=e||t[F];var s=h.createEvent("Event"),l=e.options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);s.initEvent(n,!0,!0),s.to=t,s.from=o||t,s.item=i||t,s.clone=A,s.oldIndex=r,s.newIndex=a,t.dispatchEvent(s),l[c]&&l[c].call(e,s)}function Q(e,t,n,i,o,r,a,s){var l,c,d=e[F],u=d.options.onMove;return(l=h.createEvent("Event")).initEvent("move",!0,!0),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=o||t,l.relatedRect=r||t.getBoundingClientRect(),l.willInsertAfter=s,e.dispatchEvent(l),u&&(c=u.call(d,l,a)),c}function G(e){e.draggable=!1}function K(){q=!1}function J(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function Z(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e&&e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||">*"!==t&&!ee(e,t)||n++;return n}function ee(e,t){if(e){var n=(t=t.split(".")).shift().toUpperCase(),i=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return!(""!==n&&e.nodeName.toUpperCase()!=n||t.length&&((" "+e.className+" ").match(i)||[]).length!=t.length)}}function te(e,t){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?e.call(i,n[0]):e.apply(i,n),n=void 0},t))}}function ne(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function ie(e){return t?t(e).clone(!0)[0]:n&&n.dom?n.dom(e).cloneNode(!0):e.cloneNode(!0)}H.prototype={constructor:H,_onTapStart:function(e){var t,n=this,i=this.el,o=this.options,r=o.preventOnFilter,a=e.type,s=e.touches&&e.touches[0],l=(s||e).target,c=e.target.shadowRoot&&e.path[0]||l,d=o.filter;if(function(e){var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var i=t[n];i.checked&&C.push(i)}}(i),!T&&!("mousedown"===a&&0!==e.button||o.disabled)&&(l=$(l,o.draggable,i))&&u!==l){if(t=Z(l,o.draggable),"function"==typeof d){if(d.call(this,e,l,this))return Y(n,c,"filter",l,i,t),void(r&&e.preventDefault())}else if(d=d&&d.split(",").some(function(e){if(e=$(c,e.trim(),i))return Y(n,e,"filter",l,i,t),!0}))return void(r&&e.preventDefault());o.handle&&!$(c,o.handle,i)||this._prepareDragStart(e,s,l,t)}},_prepareDragStart:function(e,t,n,i){var o,r=this,a=r.el,s=r.options,l=a.ownerDocument;n&&!T&&n.parentNode===a&&(d=e,j=a,E=(T=n).parentNode,P=T.nextSibling,u=n,N=s.group,c=i,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,T.style["will-change"]="transform",o=function(){r._disableDelayedDrag(),T.draggable=r.nativeDraggable,U(T,s.chosenClass,!0),r._triggerDragStart(e,t),Y(r,j,"choose",T,j,c)},s.ignore.split(",").forEach(function(e){X(T,e.trim(),G)}),S(l,"mouseup",r._onDrop),S(l,"touchend",r._onDrop),S(l,"touchcancel",r._onDrop),S(l,"pointercancel",r._onDrop),S(l,"selectstart",r),s.delay?(S(l,"mouseup",r._disableDelayedDrag),S(l,"touchend",r._disableDelayedDrag),S(l,"touchcancel",r._disableDelayedDrag),S(l,"mousemove",r._disableDelayedDrag),S(l,"touchmove",r._disableDelayedDrag),S(l,"pointermove",r._disableDelayedDrag),r._dragStartTimer=setTimeout(o,s.delay)):o())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),V(e,"mouseup",this._disableDelayedDrag),V(e,"touchend",this._disableDelayedDrag),V(e,"touchcancel",this._disableDelayedDrag),V(e,"mousemove",this._disableDelayedDrag),V(e,"touchmove",this._disableDelayedDrag),V(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,t){(t=t||("touch"==e.pointerType?e:null))?(d={target:T,clientX:t.clientX,clientY:t.clientY},this._onDragStart(d,"touch")):this.nativeDraggable?(S(T,"dragend",this),S(j,"dragstart",this._onDragStart)):this._onDragStart(d,!0);try{h.selection?setTimeout(function(){h.selection.empty()}):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){if(j&&T){var e=this.options;U(T,e.ghostClass,!0),U(T,e.dragClass,!1),Y(H.active=this,j,"start",T,j,c)}else this._nulling()},_emulateDragOver:function(){if(l){if(this._lastX===l.clientX&&this._lastY===l.clientY)return;this._lastX=l.clientX,this._lastY=l.clientY,f||W(_,"display","none");var e=h.elementFromPoint(l.clientX,l.clientY),t=e,n=k.length;if(t)do{if(t[F]){for(;n--;)k[n]({clientX:l.clientX,clientY:l.clientY,target:e,rootEl:t});break}e=t}while(t=t.parentNode);f||W(_,"display","")}},_onTouchMove:function(e){if(d){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,o=e.touches?e.touches[0]:e,r=o.clientX-d.clientX+i.x,a=o.clientY-d.clientY+i.y,s=e.touches?"translate3d("+r+"px,"+a+"px,0)":"translate("+r+"px,"+a+"px)";if(!H.active){if(n&&m(w(o.clientX-this._lastX),w(o.clientY-this._lastY))<n)return;this._dragStarted()}this._appendGhost(),L=!0,l=o,W(_,"webkitTransform",s),W(_,"mozTransform",s),W(_,"msTransform",s),W(_,"transform",s),e.preventDefault()}},_appendGhost:function(){if(!_){var e,t=T.getBoundingClientRect(),n=W(T),i=this.options;U(_=T.cloneNode(!0),i.ghostClass,!1),U(_,i.fallbackClass,!0),U(_,i.dragClass,!0),W(_,"top",t.top-a(n.marginTop,10)),W(_,"left",t.left-a(n.marginLeft,10)),W(_,"width",t.width),W(_,"height",t.height),W(_,"opacity","0.8"),W(_,"position","fixed"),W(_,"zIndex","100000"),W(_,"pointerEvents","none"),i.fallbackOnBody&&h.body.appendChild(_)||j.appendChild(_),e=_.getBoundingClientRect(),W(_,"width",2*t.width-e.width),W(_,"height",2*t.height-e.height)}},_onDragStart:function(e,t){var n=e.dataTransfer,i=this.options;this._offUpEvents(),N.checkPull(this,this,T,e)&&((A=ie(T)).draggable=!1,A.style["will-change"]="",W(A,"display","none"),U(A,this.options.chosenClass,!1),j.insertBefore(A,T),Y(this,j,"clone",T)),U(T,i.dragClass,!0),t?("touch"===t?(S(h,"touchmove",this._onTouchMove),S(h,"touchend",this._onDrop),S(h,"touchcancel",this._onDrop),S(h,"pointermove",this._onTouchMove),S(h,"pointerup",this._onDrop)):(S(h,"mousemove",this._onTouchMove),S(h,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,T)),S(h,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(e){var t,n,i,o,r,a,s=this.el,l=this.options,c=l.group,d=H.active,u=N===c,h=!1,p=l.sort;if((void 0!==e.preventDefault&&(e.preventDefault(),l.dragoverBubble||e.stopPropagation()),!T.animated)&&(L=!0,d&&!l.disabled&&(u?p||(o=!j.contains(T)):R===this||(d.lastPullMode=N.checkPull(this,d,T,e))&&c.checkPut(this,d,T,e))&&(void 0===e.rootEl||e.rootEl===this.el))){if(z(e,l,this.el),q)return;if(t=$(e.target,l.draggable,s),n=T.getBoundingClientRect(),R!==this&&(R=this,h=!0),o)return B(d,!0),E=j,void(A||P?j.insertBefore(T,A||P):p||j.appendChild(T));if(0===s.children.length||s.children[0]===_||s===e.target&&(r=e,a=s.lastElementChild.getBoundingClientRect(),5<r.clientY-(a.top+a.height)||5<r.clientX-(a.left+a.width))){if(0!==s.children.length&&s.children[0]!==_&&s===e.target&&(t=s.lastElementChild),t){if(t.animated)return;i=t.getBoundingClientRect()}B(d,u),!1!==Q(j,s,T,n,t,i,e)&&(T.contains(s)||(s.appendChild(T),E=s),this._animate(n,T),t&&this._animate(i,t))}else if(t&&!t.animated&&t!==T&&void 0!==t.parentNode[F]){O!==t&&(D=W(O=t),I=W(t.parentNode));var f=(i=t.getBoundingClientRect()).right-i.left,m=i.bottom-i.top,g=M.test(D.cssFloat+D.display)||"flex"==I.display&&0===I["flex-direction"].indexOf("row"),v=t.offsetWidth>T.offsetWidth,b=t.offsetHeight>T.offsetHeight,y=.5<(g?(e.clientX-i.left)/f:(e.clientY-i.top)/m),x=t.nextElementSibling,w=!1;if(g){var C=T.offsetTop,k=t.offsetTop;w=C===k?t.previousElementSibling===T&&!v||y&&v:t.previousElementSibling===T||T.previousElementSibling===t?.5<(e.clientY-i.top)/m:C<k}else h||(w=x!==T&&!b||y&&b);var S=Q(j,s,T,n,t,i,e,w);!1!==S&&(1!==S&&-1!==S||(w=1===S),q=!0,setTimeout(K,30),B(d,u),T.contains(s)||(w&&!x?s.appendChild(T):t.parentNode.insertBefore(T,w?x:t)),E=T.parentNode,this._animate(n,T),this._animate(i,t))}}},_animate:function(e,t){var n=this.options.animation;if(n){var i=t.getBoundingClientRect();1===e.nodeType&&(e=e.getBoundingClientRect()),W(t,"transition","none"),W(t,"transform","translate3d("+(e.left-i.left)+"px,"+(e.top-i.top)+"px,0)"),t.offsetWidth,W(t,"transition","all "+n+"ms"),W(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){W(t,"transition",""),W(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;V(h,"touchmove",this._onTouchMove),V(h,"pointermove",this._onTouchMove),V(e,"mouseup",this._onDrop),V(e,"touchend",this._onDrop),V(e,"pointerup",this._onDrop),V(e,"touchcancel",this._onDrop),V(e,"pointercancel",this._onDrop),V(e,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;clearInterval(this._loopId),clearInterval(y.pid),clearTimeout(this._dragStartTimer),V(h,"mousemove",this._onTouchMove),this.nativeDraggable&&(V(h,"drop",this),V(t,"dragstart",this._onDragStart)),this._offUpEvents(),e&&(L&&(e.preventDefault(),n.dropBubble||e.stopPropagation()),_&&_.parentNode&&_.parentNode.removeChild(_),j!==E&&"clone"===H.active.lastPullMode||A&&A.parentNode&&A.parentNode.removeChild(A),T&&(this.nativeDraggable&&V(T,"dragend",this),G(T),T.style["will-change"]="",U(T,this.options.ghostClass,!1),U(T,this.options.chosenClass,!1),Y(this,j,"unchoose",T,j,c),j!==E?0<=(i=Z(T,n.draggable))&&(Y(null,E,"add",T,j,c,i),Y(this,j,"remove",T,j,c,i),Y(null,E,"sort",T,j,c,i),Y(this,j,"sort",T,j,c,i)):T.nextSibling!==P&&0<=(i=Z(T,n.draggable))&&(Y(this,j,"update",T,j,c,i),Y(this,j,"sort",T,j,c,i)),H.active&&(null!=i&&-1!==i||(i=c),Y(this,j,"end",T,j,c,i),this.save()))),this._nulling()},_nulling:function(){j=T=E=_=P=A=u=g=v=d=l=L=i=O=D=R=N=H.active=null,C.forEach(function(e){e.checked=!0}),C.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":T&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,o=n.length,r=this.options;i<o;i++)$(e=n[i],r.draggable,this.el)&&t.push(e.getAttribute(r.dataIdAttr)||J(e));return t},sort:function(e){var i={},o=this.el;this.toArray().forEach(function(e,t){var n=o.children[t];$(n,this.options.draggable,o)&&(i[e]=n)},this),e.forEach(function(e){i[e]&&(o.removeChild(i[e]),o.appendChild(i[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return $(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t,"group"===e&&r(n)},destroy:function(){var e=this.el;e[F]=null,V(e,"mousedown",this._onTapStart),V(e,"touchstart",this._onTapStart),V(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(V(e,"dragover",this),V(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),k.splice(k.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},S(h,"touchmove",function(e){H.active&&e.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){s={capture:!1,passive:!1}}}))}catch(e){}return H.utils={on:S,off:V,css:W,find:X,is:function(e,t){return!!$(e,t,e)},extend:ne,throttle:te,closest:$,toggleClass:U,clone:ie,index:Z},H.create=function(e,t){return new H(e,t)},H.version="1.6.0",H}),function(i,o){"use strict";var r="pollster",a={ajax:{},callback:i.noop,count:1,first:!0,seconds:10,url:""},s=o.console||{log:i.noop,warn:i.noop},l={init:function(e){var t,n=i.extend(!0,{},a,i[r].defaults,e);n.url||n.ajax.url?n.pause?(o.clearInterval(t),t=0):(n.ajax.url="function"==typeof n.url?n.url():n.ajax.url,-1!==i.inArray(n.count,n.skip)?(n.skipped=!0,t=l.restart(n)):(n.skipped=!1,i.ajax(n.ajax).always(function(e){t=l.restart(n,e)}))):s.warn("jQuery.%s: No URL endpoint specified.",r)},restart:function(e,t){return t=t||{},e.callback.call(e.ajax.context||null,e,t),e.first=!1,e.count++,setTimeout(function(){i[r].call(this,e)},1e3*e.seconds)}};i[r]=function(e){return l[e]?l[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void i.error('Error using jQuery.%s "%s"!',r,e):l.init.apply(this,arguments)},i[r].defaults=a}(jQuery,window),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Notify=t()}(this,function(){"use strict";window.Notification&&"granted"!==window.Notification.permission&&window.Notification.requestPermission();var a="",t=["flash","scroll"],s={title:"iNotify !",body:"You have a new message.",openurl:""};function n(e){var t,n=document.createElement("audio"),i=void 0;if(t=e,"[object Array]"===Object.prototype.toString.call(t)&&0<e.length)for(var o=0;o<e.length;o++)(i=document.createElement("source")).src=e[o],i.type="audio/"+e[o].match(/\.([^\\.]+)$/)[1],n.appendChild(i);else n.src=e;return n}function i(e,t){var n=document.createElement("canvas"),i=document.getElementsByTagName("head")[0],o=document.createElement("link"),r=null;return n.height=32,n.width=32,(r=n.getContext("2d")).fillStyle=t.backgroundColor,r.fillRect(0,0,32,32),r.textAlign="center",r.font='22px "helvetica", sans-serif',r.fillStyle=t.textColor,e&&r.fillText(e,16,24),o.setAttribute("rel","shortcut icon"),o.setAttribute("type","image/x-icon"),o.setAttribute("id","new"+t.id),o.setAttribute("href",n.toDataURL("image/png")),a=n.toDataURL("image/png"),i.appendChild(o)}function e(e){e&&this.init(e)}return e.prototype={init:function(e){var t;return e=e||{},this.interval=e.interval||100,this.effect=e.effect||"flash",this.title=e.title||document.title,this.message=e.message||this.title,this.onclick=e.onclick||this.onclick,this.openurl=e.openurl||this.openurl,this.updateFavicon=e.updateFavicon||{id:"favicon",textColor:"#fff",backgroundColor:"#2F9A00"},this.audio=e.audio||"",this.favicon=(t=this.updateFavicon,document.querySelectorAll("link[rel~=shortcut]")[0]||i("O",t)),this.cloneFavicon=this.favicon.cloneNode(!0),a=e.notification&&e.notification.icon?e.notification.icon:e.icon?e.icon:this.favicon.href,s.icon=a,this.notification=e.notification||s,this.audio&&this.audio.file&&this.setURL(this.audio.file),this},render:function(){if("flash"===this.effect)document.title=this.title===document.title?this.message:this.title;else if("scroll"===this.effect){var e=this.message||document.title;this.scrollTitle&&this.scrollTitle.slice(1)?(this.scrollTitle=this.scrollTitle.slice(1),document.title=this.scrollTitle):(document.title=e,this.scrollTitle=e)}return this},setTitle:function(e){if(!0===e){if(0<=t.indexOf(this.effect))return this.addTimer()}else e?(this.message=e,this.scrollTitle="",this.addTimer()):this.clearTimer();return this},setURL:function(e){return e&&(this.audioElm&&this.audioElm.remove(),this.audioElm=n(e),document.body.appendChild(this.audioElm)),this},loopPlay:function(){return this.setURL(),this.audioElm.loop=!0,this.player(),this},stopPlay:function(){return this.audioElm&&(this.audioElm.loop=!1,this.audioElm.pause()),this},player:function(){if(this.audio&&this.audio.file)return this.audioElm||(this.audioElm=n(this.audio.file),document.body.appendChild(this.audioElm)),this.audioElm.play(),this},notify:function(e){var t=this.notification,n=e.openurl?e.openurl:this.openurl,i=e.onclick?e.onclick:this.onclick;if(window.Notification){t=e?function(e,t){for(var n in t)e[n]&&(t[n]=e[n]);return t}(e,t):s;var o={};o.icon=e.icon?e.icon:a,o.body=t.body,e.dir&&(o.dir=e.dir);var r=new Notification(t.title,o);r.onclick=function(){i&&"function"==typeof i&&i(r),n&&window.open(n)},r.onshow=function(){e.onshow&&"function"==typeof e.onshow&&e.onshow(r)},r.onclose=function(){e.onclose&&"function"==typeof e.onclose&&e.onclose(r)},r.onerror=function(){e.onerror&&"function"==typeof e.onerror&&e.onerror(r)},this.Notifiy=r}return this},isPermission:function(){return window.Notification&&"granted"===Notification.permission},setInterval:function(e){return e&&(this.interval=e,this.addTimer()),this},setFavicon:function(e){if(!e&&0!==e)return this.faviconClear();var t=document.getElementById("new"+this.updateFavicon.id);return this.favicon&&this.favicon.remove(),t&&t.remove(),i(this.updateFavicon.num=e,this.updateFavicon),this},setFaviconColor:function(e){return e&&(this.faviconRemove(),this.updateFavicon.textColor=e,i(this.updateFavicon.num,this.updateFavicon)),this},setFaviconBackgroundColor:function(e){return e&&(this.faviconRemove(),this.updateFavicon.backgroundColor=e,i(this.updateFavicon.num,this.updateFavicon)),this},faviconRemove:function(){this.faviconClear();var e=document.getElementById("new"+this.updateFavicon.id);this.favicon&&this.favicon.remove(),e&&e.remove()},addTimer:function(){return this.clearTimer(),0<=t.indexOf(this.effect)&&(this.timer=setInterval(this.render.bind(this),this.interval)),this},close:function(){this.Notifiy&&this.Notifiy.close()},faviconClear:function(){var e=document.getElementById("new"+this.updateFavicon.id),t=document.getElementsByTagName("head")[0],n=document.querySelectorAll("link[rel~=shortcut]");if(e&&e.remove(),0<n.length)for(var i=0;i<n.length;i++)n[i].remove();return t.appendChild(this.cloneFavicon),a=this.cloneFavicon.href,this.favicon=this.cloneFavicon,this},clearTimer:function(){return this.timer&&clearInterval(this.timer),document.title=this.title,this}},e});